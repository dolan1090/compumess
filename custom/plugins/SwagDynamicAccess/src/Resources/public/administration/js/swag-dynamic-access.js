!function(e){var t={};function a(n){if(t[n])return t[n].exports;var s=t[n]={i:n,l:!1,exports:{}};return e[n].call(s.exports,s,s.exports,a),s.l=!0,s.exports}a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(n,s,function(t){return e[t]}.bind(null,s));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p=(window.__sw__.assetPath + '/bundles/swagdynamicaccess/'),a(a.s="a75G")}({"+l4a":function(e,t){Shopware.Component.override("sw-product-detail",{computed:{productCriteria:function(){var e=this.$super("productCriteria");return e.addAssociation("swagDynamicAccessRules"),e}}})},"1Nkg":function(e,t,a){},"5du9":function(e,t,a){},AxgI:function(e,t){function a(e){return function(e){if(Array.isArray(e))return n(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return n(e,t);var a=Object.prototype.toString.call(e).slice(8,-1);"Object"===a&&e.constructor&&(a=e.constructor.name);if("Map"===a||"Set"===a)return Array.from(e);if("Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return n(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function n(e,t){(null==t||t>e.length)&&(t=e.length);for(var a=0,n=new Array(t);a<t;a++)n[a]=e[a];return n}var s=Shopware,i=s.Component,r=s.Context,c=Shopware.Data.Criteria;i.override("sw-settings-rule-detail-assignments",{computed:{associationEntitiesConfig:function(){var e=this.$super("associationEntitiesConfig");return e.push.apply(e,a(this.swagDynamicAccessRuleEntityConfigs)),e},swagDynamicAccessRuleEntityConfigs:function(){var e=this;return this.getRuleAssignmentConfiguration?[{id:"swagDynamicAccessProducts",notAssignedDataTotal:0,allowAdd:!0,entityName:"product",associationName:"swagDynamicAccessProducts",label:"swag-dynamic-access.sw-settings-rule.detail.associations.productVisibility",criteria:function(){var t=new c;return t.setLimit(e.associationLimit),t.addFilter(c.equals("swagDynamicAccessRules.id",e.rule.id)),t.addAssociation("options.group"),t.addAssociation("swagDynamicAccessRules"),t},api:function(){var e=Object.assign({},r.api);return e.inheritance=!0,e},detailRoute:"sw.product.detail.base",gridColumns:[{property:"name",label:"Name",rawData:!0,sortable:!0,routerLink:"sw.product.detail.prices",allowEdit:!1}],deleteContext:{type:"many-to-many",entity:"product",column:"extensions.swagDynamicAccessRules"},addContext:{type:"many-to-many",entity:"swag_dynamic_access_product_rule",column:"productId",searchColumn:"name",criteria:function(){var t=new c;return t.addFilter(c.not("AND",[c.equals("swagDynamicAccessRules.id",e.rule.id)])),t.addAssociation("options.group"),t},gridColumns:[{property:"name",label:"Name",rawData:!0,sortable:!0,allowEdit:!1},{property:"productNumber",label:"Product number",rawData:!0,sortable:!0,allowEdit:!1},{property:"manufacturer.name",label:"Manufacturer",rawData:!0,sortable:!0,allowEdit:!1},{property:"active",label:"Active",rawData:!0,sortable:!0,allowEdit:!1},{property:"stock",label:"Stock",rawData:!0,sortable:!0,allowEdit:!1},{property:"availableStock",label:"Available",rawData:!0,sortable:!0,allowEdit:!1}]}},{id:"swagDynamicAccessCategories",associationName:"swagDynamicAccessCategories",notAssignedDataTotal:0,allowAdd:!0,entityName:"category",label:"swag-dynamic-access.sw-settings-rule.detail.associations.categoryVisibility",criteria:function(){var t=new c;return t.setLimit(e.associationLimit),t.addFilter(c.equals("swagDynamicAccessRules.id",e.rule.id)),t.addAssociation("swagDynamicAccessRules"),t},detailRoute:"sw.category.detail.base",gridColumns:[{property:"name",label:"Name",rawData:!0,sortable:!0,routerLink:"sw.category.detail.base",allowEdit:!1}],deleteContext:{type:"many-to-many",entity:"category",column:"extensions.swagDynamicAccessRules"},addContext:{type:"many-to-many",entity:"swag_dynamic_access_category_rule",column:"categoryId",searchColumn:"name",association:"swagDynamicAccessRules",criteria:function(){var e=new c;return e.addFilter(c.equals("parentId",null)),e},gridColumns:[{property:"eventName",label:"Event",rawData:!0,sortable:!0,allowEdit:!1},{property:"title",label:"Title",rawData:!0,sortable:!0,allowEdit:!1},{property:"active",label:"Active",rawData:!0,sortable:!0,allowEdit:!1}]}},{id:"swagDynamicAccessLandingPages",associationName:"swagDynamicAccessLandingPages",notAssignedDataTotal:0,allowAdd:!0,entityName:"landing_page",label:"swag-dynamic-access.sw-settings-rule.detail.associations.landingPageVisibility",criteria:function(){var t=new c;return t.setLimit(e.associationLimit),t.addFilter(c.equals("swagDynamicAccessRules.id",e.rule.id)),t.addAssociation("swagDynamicAccessRules"),t},detailRoute:"sw.category.landingPageDetail.base",gridColumns:[{property:"name",label:"Name",rawData:!0,sortable:!0,routerLink:"sw.category.landingPageDetail.base",allowEdit:!1}],deleteContext:{type:"many-to-many",entity:"landing_page",column:"extensions.swagDynamicAccessRules"},addContext:{type:"many-to-many",entity:"swag_dynamic_access_landing_page_rule",searchColumn:"name",column:"landingPageId",criteria:function(){var t=new c;return t.addFilter(c.not("AND",[c.equals("swagDynamicAccessRules.id",e.rule.id)])),t},gridColumns:[{property:"name",label:"Name",rawData:!0,sortable:!0,allowEdit:!1},{property:"url",label:"URL",rawData:!0,sortable:!0,allowEdit:!1},{property:"active",label:"Active",rawData:!0,sortable:!0,allowEdit:!1}]}}]:[{entityName:"product",associationName:"swagDynamicAccessProducts",label:this.$tc("swag-dynamic-access.sw-settings-rule.detail.associations.productVisibility"),criteria:function(){var t=new c;return t.setLimit(e.associationLimit),t.addFilter(c.equals("swagDynamicAccessRules.id",e.rule.id)),t},api:function(){var e=Object.assign({},r.api);return e.inheritance=!0,e},detailRoute:"sw.product.detail.base",gridColumns:[{property:"name",label:"Name",rawData:!0,sortable:!1,routerLink:"sw.product.detail.base",allowEdit:!1}]},{entityName:"category",associationName:"swagDynamicAccessCategories",label:this.$tc("swag-dynamic-access.sw-settings-rule.detail.associations.categoryVisibility"),criteria:function(){var t=new c;return t.setLimit(e.associationLimit),t.addFilter(c.equals("swagDynamicAccessRules.id",e.rule.id)),t},detailRoute:"sw.category.detail.base",gridColumns:[{property:"name",label:"Name",rawData:!0,sortable:!1,routerLink:"sw.category.detail.base",allowEdit:!1}]},{entityName:"landing_page",associationName:"swagDynamicAccessLandingPages",label:this.$tc("swag-dynamic-access.sw-settings-rule.detail.associations.landingPageVisibility"),criteria:function(){var t=new c;return t.setLimit(e.associationLimit),t.addFilter(c.equals("swagDynamicAccessRules.id",e.rule.id)),t},detailRoute:"sw.category.landingPageDetail.base",gridColumns:[{property:"name",label:"Name",rawData:!0,sortable:!1,routerLink:"sw.category.landingPageDetail.base",allowEdit:!1}]}]}}})},Fg8V:function(e,t){Shopware.Component.override("sw-category-detail",{computed:{categoryCriteria:function(){var e=this.$super("categoryCriteria");return e.addAssociation("swagDynamicAccessRules"),e},landingPageCriteria:function(){var e=this.$super("landingPageCriteria");return e.addAssociation("swagDynamicAccessRules"),e}}})},NsWa:function(e,t,a){var n=a("5du9");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("ydqr").default)("307f1366",n,!0,{})},SQ90:function(e,t){Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"settings",key:"rule",roles:{viewer:{privileges:["category:read","landing_page:read"]},editor:{privileges:["swag_dynamic_access_product_rule:create","swag_dynamic_access_product_rule:delete","swag_dynamic_access_category_rule:create","swag_dynamic_access_category_rule:delete","swag_dynamic_access_landing_page_rule:create","swag_dynamic_access_landing_page_rule:delete"]}}})},VjP2:function(e,t,a){var n=a("mI/J");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("ydqr").default)("57a4e8cc",n,!0,{})},a75G:function(e,t,a){"use strict";a.r(t);a("Fg8V"),a("y940");Shopware.Component.override("sw-category-detail-base",{template:'{% block sw_category_detail_information_type %}\n    {% parent %}\n\n    {% block sw_category_detail_information_type_customer_restrictions %}\n        <sw-container class="sw-category-detail-base__customer-restrictions">\n\n            {% block sw_category_detail_information_type_customer_restrictions_title %}\n                <span class="sw-category-detail-base__customer-restrictions-title">\n                    {{ $tc(\'swag-dynamic-access.category.title\') }}\n                </span>\n            {% endblock %}\n\n            {% block sw_category_detail_information_type_customer_restrictions_body %}\n                <p class="sw-category-detail-base__customer-restrictions-body">\n                    {{ $tc(\'swag-dynamic-access.category.body\') }}\n                </p>\n            {% endblock %}\n\n            {% block sw_category_detail_information_type_customer_restrictions_field %}\n                <sw-select-rule-create\n                    v-if="!isLoading"\n                    :rules="dynamicAccessRulesValue"\n                    :disabled="!acl.can(\'category.editor\')"\n                    :label="$tc(\'swag-dynamic-access.category.fieldLabel\')"\n                    :placeholder="$tc(\'swag-dynamic-access.category.fieldPlaceholder\')"\n                    rule-aware-group-key="swagDynamicAccessCategories"\n                    class="sw-category-detail-base__customer-restrictions-field"\n                />\n            {% endblock %}\n\n        </sw-container>\n    {% endblock %}\n{% endblock %}\n',inject:["feature"],computed:{dynamicAccessRulesValue:{get:function(){return this.category&&this.category.extensions?this.category.extensions.swagDynamicAccessRules:[]},set:function(e){this.category&&(this.category.extensions.swagDynamicAccessRules=e)}}}});a("VjP2");Shopware.Component.override("sw-landing-page-detail-base",{template:'{% block sw_landing_page_detail_base_information_tags %}\n    {% parent %}\n\n    {% block sw_landing_page_detail_base_information_tags_customer_restrictions %}\n        <sw-container class="sw-landing-page-detail-base__customer-restrictions">\n\n            {% block sw_landing_page_detail_base_information_tags_customer_restrictions_title %}\n                <span class="sw-landing-page-detail-base__customer-restrictions-title">\n                    {{ $tc(\'swag-dynamic-access.landingPage.title\') }}\n                </span>\n            {% endblock %}\n\n            {% block sw_landing_page_detail_base_information_tags_customer_restrictions_body %}\n                <p class="sw-landing-page-detail-base__customer-restrictions-body">\n                    {{ $tc(\'swag-dynamic-access.landingPage.body\') }}\n                </p>\n            {% endblock %}\n\n            {% block sw_landing_page_detail_base_information_tags_customer_restrictions_field %}\n                <sw-select-rule-create\n                    v-if="!isLoading"\n                    :rules="dynamicAccessRulesValue"\n                    :disabled="!acl.can(\'landing_page.editor\')"\n                    :label="$tc(\'swag-dynamic-access.landingPage.fieldLabel\')"\n                    :placeholder="$tc(\'swag-dynamic-access.landingPage.fieldPlaceholder\')"\n                    rule-aware-group-key="swagDynamicAccessLandingPages"\n                    class="sw-landing-page-detail-base__customer-restrictions-field"\n                />\n            {% endblock %}\n\n        </sw-container>\n    {% endblock %}\n{% endblock %}\n',inject:["feature"],computed:{dynamicAccessRulesValue:{get:function(){return this.landingPage&&this.landingPage.extensions?this.landingPage.extensions.swagDynamicAccessRules:[]},set:function(e){this.landingPage&&(this.landingPage.extensions.swagDynamicAccessRules=e)}}}});a("NsWa");Shopware.Component.override("sw-product-category-form",{template:'{% block sw_product_category_form_category_field %}\n\n    {% block sw_product_category_form_customer_restrictions %}\n        <sw-container class="sw-product-category-form__customer-restrictions">\n\n            {% block sw_product_category_form_customer_restrictions_title %}\n                <span class="sw-product-category-form__customer-restrictions-title">\n                    {{ $tc(\'swag-dynamic-access.product.title\') }}\n                </span>\n            {% endblock %}\n\n            {% block sw_product_category_form_customer_restrictions_body %}\n                <p class="sw-product-category-form__customer-restrictions-body">\n                    {{ $tc(\'swag-dynamic-access.product.body\') }}\n                </p>\n            {% endblock %}\n\n            {% block sw_product_category_form_customer_restrictions_field %}\n                <sw-inherit-wrapper\n                    v-if="!loading.product && !loading.parentProduct && multiSelectVisible"\n                    v-model="dynamicAccessRulesValue"\n                    :has-parent="!!parentProduct.id"\n                    class="sw-product-category-form__customer-restrictions-field"\n                    :inherited-value="dynamicAccessRulesInherited"\n                    :label="$tc(\'swag-dynamic-access.product.fieldLabel\')"\n                    is-association\n                >\n                    <template #content="{ currentValue, isInherited, updateCurrentValue }">\n                        <sw-select-rule-create\n                            :rules="isInherited ? dynamicAccessRulesInherited : dynamicAccessRulesValue"\n                            :disabled="isInherited || !allowEdit"\n                            :placeholder="$tc(\'swag-dynamic-access.product.fieldPlaceholder\')"\n                            rule-aware-group-key="swagDynamicAccessProducts"\n                            :key="isInherited"\n                            class="sw-product-category-form__customer-restrictions-field-select"\n                        />\n                    </template>\n                </sw-inherit-wrapper>\n            {% endblock %}\n\n        </sw-container>\n    {% endblock %}\n\n    {% parent %}\n{% endblock %}\n',inject:["feature"],computed:{dynamicAccessRulesValue:{get:function(){return this.product&&this.product.extensions?this.product.extensions.swagDynamicAccessRules:[]},set:function(e){this.product&&(this.product.extensions.swagDynamicAccessRules=e)}},dynamicAccessRulesInherited:{get:function(){return this.parentProduct&&this.parentProduct.extensions?this.parentProduct.extensions.swagDynamicAccessRules:[]},set:function(e){this.parentProduct&&(this.parentProduct.extensions.swagDynamicAccessRules=e)}}}});a("+l4a"),a("SQ90"),a("AxgI"),a("cnKR")},cnKR:function(e,t){var a=Shopware,n=a.Application;a.Feature;n.addServiceProviderDecorator("ruleConditionDataProviderService",(function(e){return e.addAwarenessConfiguration("swagDynamicAccessProducts",{notEquals:["timeRange"],snippet:"sw-restricted-rules.restrictedAssignment.swagDynamicAccessProducts"}),e.addAwarenessConfiguration("swagDynamicAccessCategories",{notEquals:["timeRange"],snippet:"sw-restricted-rules.restrictedAssignment.swagDynamicAccessCategories"}),e.addAwarenessConfiguration("swagDynamicAccessLandingPages",{notEquals:["timeRange"],snippet:"sw-restricted-rules.restrictedAssignment.swagDynamicAccessLandingPages"}),e}))},"mI/J":function(e,t,a){},y940:function(e,t,a){var n=a("1Nkg");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,a("ydqr").default)("2fecd453",n,!0,{})},ydqr:function(e,t,a){"use strict";function n(e,t){for(var a=[],n={},s=0;s<t.length;s++){var i=t[s],r=i[0],c={id:e+":"+s,css:i[1],media:i[2],sourceMap:i[3]};n[r]?n[r].parts.push(c):a.push(n[r]={id:r,parts:[c]})}return a}a.r(t),a.d(t,"default",(function(){return p}));var s="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!s)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},r=s&&(document.head||document.getElementsByTagName("head")[0]),c=null,o=0,l=!1,d=function(){},u=null,g="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(e,t,a,s){l=a,u=s||{};var r=n(e,t);return y(r),function(t){for(var a=[],s=0;s<r.length;s++){var c=r[s];(o=i[c.id]).refs--,a.push(o)}t?y(r=n(e,t)):r=[];for(s=0;s<a.length;s++){var o;if(0===(o=a[s]).refs){for(var l=0;l<o.parts.length;l++)o.parts[l]();delete i[o.id]}}}}function y(e){for(var t=0;t<e.length;t++){var a=e[t],n=i[a.id];if(n){n.refs++;for(var s=0;s<n.parts.length;s++)n.parts[s](a.parts[s]);for(;s<a.parts.length;s++)n.parts.push(f(a.parts[s]));n.parts.length>a.parts.length&&(n.parts.length=a.parts.length)}else{var r=[];for(s=0;s<a.parts.length;s++)r.push(f(a.parts[s]));i[a.id]={id:a.id,refs:1,parts:r}}}}function w(){var e=document.createElement("style");return e.type="text/css",r.appendChild(e),e}function f(e){var t,a,n=document.querySelector("style["+g+'~="'+e.id+'"]');if(n){if(l)return d;n.parentNode.removeChild(n)}if(m){var s=o++;n=c||(c=w()),t=h.bind(null,n,s,!1),a=h.bind(null,n,s,!0)}else n=w(),t=A.bind(null,n),a=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else a()}}var _,b=(_=[],function(e,t){return _[e]=t,_.filter(Boolean).join("\n")});function h(e,t,a,n){var s=a?"":n.css;if(e.styleSheet)e.styleSheet.cssText=b(t,s);else{var i=document.createTextNode(s),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(i,r[t]):e.appendChild(i)}}function A(e,t){var a=t.css,n=t.media,s=t.sourceMap;if(n&&e.setAttribute("media",n),u.ssrId&&e.setAttribute(g,t.id),s&&(a+="\n/*# sourceURL="+s.sources[0]+" */",a+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),e.styleSheet)e.styleSheet.cssText=a;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(a))}}}});