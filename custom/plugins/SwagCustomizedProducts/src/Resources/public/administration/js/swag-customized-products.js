/*! For license information please see swag-customized-products.js.LICENSE.txt */
!function(e){var t={};function n(o){if(t[o])return t[o].exports;var i=t[o]={i:o,l:!1,exports:{}};return e[o].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(o,i,function(t){return e[t]}.bind(null,i));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p=(window.__sw__.assetPath + '/bundles/swagcustomizedproducts/'),n(n.s="c4E3")}({"/OLu":function(e,t,n){},"0kp7":function(e,t,n){var o=n("81JP");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("23952370",o,!0,{})},"1FZH":function(e,t,n){},"3HEn":function(e,t,n){},"4DiR":function(e,t,n){var o=n("PZxu");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("52e65761",o,!0,{})},"4Etg":function(e,t,n){},"5ku8":function(e,t,n){},"6CQq":function(e,t,n){var o=n("j+kO");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("1ab1ce46",o,!0,{})},"6HXJ":function(e,t,n){},"7Cdl":function(e,t,n){},"81JP":function(e,t,n){},AfyW:function(e,t,n){var o=n("oUoh");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("7d9a7fc4",o,!0,{})},FyIy:function(e,t,n){var o=n("l0Tq");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("d4dbb3f4",o,!0,{})},G73H:function(e,t,n){var o=n("U8m9");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("20fabac1",o,!0,{})},IKsH:function(e,t,n){var o=n("wt9y");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("5bea2f87",o,!0,{})},"JK9/":function(e,t,n){var o=n("7Cdl");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("f80eae9a",o,!0,{})},Kk80:function(e,t){Shopware.Component.extend("swag-customized-products-nullable-number-field","sw-number-field",{data:function(){return{currentValue:this.value}},methods:{computeValue:function(e){if(""!==e){var t=this.getNumberFromString(e);this.currentValue=this.parseValue(t)}else this.currentValue=null}}})},NEJw:function(e,t,n){var o=n("1FZH");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("34fe9c06",o,!0,{})},P8hj:function(e,t,n){"use strict";function o(e,t){for(var n=[],o={},i=0;i<t.length;i++){var r=t[i],a=r[0],s={id:e+":"+i,css:r[1],media:r[2],sourceMap:r[3]};o[a]?o[a].parts.push(s):n.push(o[a]={id:a,parts:[s]})}return n}n.r(t),n.d(t,"default",(function(){return _}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},a=i&&(document.head||document.getElementsByTagName("head")[0]),s=null,c=0,l=!1,d=function(){},u=null,p="data-vue-ssr-id",m="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function _(e,t,n,i){l=n,u=i||{};var a=o(e,t);return f(a),function(t){for(var n=[],i=0;i<a.length;i++){var s=a[i];(c=r[s.id]).refs--,n.push(c)}t?f(a=o(e,t)):a=[];for(i=0;i<n.length;i++){var c;if(0===(c=n[i]).refs){for(var l=0;l<c.parts.length;l++)c.parts[l]();delete r[c.id]}}}}function f(e){for(var t=0;t<e.length;t++){var n=e[t],o=r[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(h(n.parts[i]));o.parts.length>n.parts.length&&(o.parts.length=n.parts.length)}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(h(n.parts[i]));r[n.id]={id:n.id,refs:1,parts:a}}}}function g(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function h(e){var t,n,o=document.querySelector("style["+p+'~="'+e.id+'"]');if(o){if(l)return d;o.parentNode.removeChild(o)}if(m){var i=c++;o=s||(s=g()),t=y.bind(null,o,i,!1),n=y.bind(null,o,i,!0)}else o=g(),t=v.bind(null,o),n=function(){o.parentNode.removeChild(o)};return t(e),function(o){if(o){if(o.css===e.css&&o.media===e.media&&o.sourceMap===e.sourceMap)return;t(e=o)}else n()}}var w,b=(w=[],function(e,t){return w[e]=t,w.filter(Boolean).join("\n")});function y(e,t,n,o){var i=n?"":o.css;if(e.styleSheet)e.styleSheet.cssText=b(t,i);else{var r=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function v(e,t){var n=t.css,o=t.media,i=t.sourceMap;if(o&&e.setAttribute("media",o),u.ssrId&&e.setAttribute(p,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}},PZxu:function(e,t,n){},"SkR/":function(e,t,n){var o=n("Xqyh");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("3e1a37b4",o,!0,{})},SlUi:function(e,t,n){},U8m9:function(e,t,n){},VprP:function(e,t){var n=Shopware.Component,o=Shopware.Data.Criteria;n.override("sw-order-detail",{computed:{orderCriteria:function(){var e=this.$super("orderCriteria");return e.getAssociation("lineItems.children.children").addSorting(o.naturalSorting("label")),e}}})},Xqyh:function(e,t,n){},ZH2x:function(e,t){Shopware.Component.extend("swag-customized-products-option-type-textarea","swag-customized-products-option-type-textfield",{})},Ze53:function(e,t,n){var o=n("/OLu");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("530a5fbd",o,!0,{})},b5DB:function(e,t,n){var o=n("yzIl");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("7536e4f6",o,!0,{})},c4E3:function(e,t,n){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(r=i.key,a=void 0,a=function(e,t){if("object"!==o(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==o(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(r,"string"),"symbol"===o(a)?a:String(a)),i)}var r,a}n.r(t);var r=Shopware.Utils.createId,a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.mappingTable={}}var t,n,o;return t=e,(n=[{key:"duplicateTemplate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e.options.reduce(this.reduceOverrideOptions.bind(this),[]),o=e.exclusions.reduce(this.reduceOverrideExclusions.bind(this),[]);this.mappingTable={};var i={id:r(),internalName:"".concat(e.internalName," ").concat(t),displayName:"".concat(e.displayName," ").concat(t),active:!1,options:n,exclusions:o};return Shopware.Service("repositoryFactory").create("swag_customized_products_template").clone(e.id,Shopware.Context.api,{overwrites:i})}},{key:"reduceOverrideOptions",value:function(e,t){var n=r();return this.mappingTable[t.id]=n,t.id=n,t.itemNumber="",t.values=t.values.reduce(this.reduceOverrideOptionValues.bind(this),[]),e.push(t),e}},{key:"reduceOverrideOptionValues",value:function(e,t){var n=r();return this.mappingTable[t.id]=n,t.id=n,t.itemNumber="",e.push(t),e}},{key:"reduceOverrideExclusions",value:function(e,t){var n=r();return this.mappingTable[t.id]=n,t.id=n,t.templateId="",t.conditions=t.conditions.reduce(this.reduceOverrideConditions.bind(this),[]),e.push(t),e}},{key:"reduceOverrideConditions",value:function(e,t){var n=r();return this.mappingTable[t.id]=n,t.id=n,t.templateExclusionId=this.mappingTable[t.templateExclusionId],t.templateOptionId=this.mappingTable[t.templateOptionId],t.templateOptionValues=t.templateOptionValues.reduce(this.reduceOverrideConditionValues.bind(this),[]),e.push(t),e}},{key:"reduceOverrideConditionValues",value:function(e,t){return t.templateExclusionConditionId=this.mappingTable[t.templateExclusionConditionId],t.templateOptionValueId=this.mappingTable[t.templateOptionValueId],e.push(t),e}}])&&i(t.prototype,n),o&&i(t,o),Object.defineProperty(t,"prototype",{writable:!1}),e}();function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,r=void 0,r=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==s(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===s(r)?r:String(r)),o)}var i,r}function d(e,t){return(d=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function u(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=m(e);if(t){var i=m(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return p(this,n)}}function p(e,t){if(t&&("object"===s(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=Shopware.Classes.ApiService,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&d(e,t)}(r,e);var t,n,o,i=u(r);function r(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"swag-customized-products-template";return c(this,r),(n=i.call(this,e,t,o)).name="SwagCustomizedProductsTemplateApiService",n}return t=r,(n=[{key:"dispatchTreeGenerationMessage",value:function(e){var t=this.getBasicHeaders();return this.httpClient.post("/_action/".concat(this.getApiBasePath(),"/").concat(e,"/tree"),{},{headers:t}).then((function(e){return _.handleResponse(e)}))}},{key:"deleteVersion",value:function(e,t){var n=this.getBasicHeaders();return this.httpClient.delete("/_action/".concat(this.getApiBasePath(),"/").concat(e,"/").concat(t),{headers:n}).then((function(e){return _.handleResponse(e)}))}}])&&l(t.prototype,n),o&&l(t,o),Object.defineProperty(t,"prototype",{writable:!1}),r}(_);function g(e){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(i=o.key,r=void 0,r=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==g(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(i,"string"),"symbol"===g(r)?r:String(r)),o)}var i,r}function b(e,t){return(b=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function y(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=z(e);if(t){var i=z(this).constructor;n=Reflect.construct(o,arguments,i)}else n=o.apply(this,arguments);return v(this,n)}}function v(e,t){if(t&&("object"===g(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function z(e){return(z=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var x=Shopware.Classes.ApiService,k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&b(e,t)}(r,e);var t,n,o,i=y(r);function r(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"swag-customized-products-template-option";return h(this,r),(n=i.call(this,e,t,o)).name="SwagCustomizedProductsTemplateOptionApiService",n}return t=r,(n=[{key:"getSupportedTypes",value:function(){var e=this.getBasicHeaders();return this.httpClient.get("/_action/".concat(this.getApiBasePath(),"/types"),{headers:e}).then((function(e){return x.handleResponse(e)}))}}])&&w(t.prototype,n),o&&w(t,o),Object.defineProperty(t,"prototype",{writable:!1}),r}(x),S=(0,Shopware.Classes._private.HttpFactory)(Shopware.Context.api);Shopware.Application.addServiceProvider("SwagCustomizedProductsTemplateService",(function(e){return new a(S,e.loginService)})),Shopware.Application.addServiceProvider("SwagCustomizedProductsTemplateApiService",(function(e){return new f(S,e.loginService)})),Shopware.Application.addServiceProvider("SwagCustomizedProductsTemplateOptionService",(function(e){return new k(S,e.loginService)})),Shopware.Application.addServiceProvider("SwagCustomizedProductsUiLanguageContextHelper",(function(e){var t=Shopware.Application.getContainer("factory").locale,n=e.localeToLanguageService;return function(){var e=t.getLastKnownLocale();return n.localeToLanguage(e)}}));n("vxDq"),n("eSO6");var C=Shopware.Component,O=Shopware.Data.Criteria;C.register("swag-customized-products-list",{template:'{% block swag_customized_products_list %}\n    <sw-page class="swag-customized-products-list">\n\n        {% block swag_customized_products_list_smart_bar_header %}\n            <template #smart-bar-header>\n\n                {% block swag_customized_products_list_smart_bar_header_title %}\n                    <h2>\n\n                        {% block swag_customized_products_list_smart_bar_header_title_text %}\n                            {{ $tc(\'swag-customized-products.list.templateTitle\') }}\n                        {% endblock %}\n\n                        {% block swag_customized_products_list_smart_bar_header_amount %}\n                            <span v-if="!isLoading"\n                                  class="sw-page__smart-bar-amount swag-customized-products-list__smart-bar-amount">\n                                ({{ total }})\n                            </span>\n                        {% endblock %}\n                    </h2>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block swag_customized_products_list_smart_bar_actions %}\n            <template #smart-bar-actions>\n\n                {% block swag_customized_products_list_smart_bar_actions_add %}\n                    <sw-button\n                        :routerLink="{ name: \'swag.customized.products.create\' }"\n                        variant="primary"\n                        :disabled="!acl.can(\'swag_customized_products_template.creator\')"\n                        v-tooltip="{\n                            message: $tc(\'sw-privileges.tooltip.warning\'),\n                            disabled: acl.can(\'swag_customized_products_template.creator\'),\n                            showOnDisabledElements: true\n                        }">\n                        {{ $tc(\'swag-customized-products.list.buttonAddTemplate\') }}\n                    </sw-button>\n                {% endblock %}\n\n            </template>\n        {% endblock %}\n\n        {% block swag_customized_products_list_language_switch %}\n            <template #language-switch>\n                <sw-language-switch @on-change="onChangeLanguage"></sw-language-switch>\n            </template>\n        {% endblock %}\n\n        <template #content>\n\n            {% block swag_customized_products_list_content %}\n                <sw-entity-listing\n                    v-if="items"\n                    class="swag-customized-products-list-grid"\n                    :items="items"\n                    :columns="templateColumns"\n                    :repository="templateRepository"\n                    detailRoute="swag.customized.products.detail"\n                    :showSelection="true"\n                    :isLoading="isLoading"\n                    :allowDelete="acl.can(\'swag_customized_products_template.deleter\')"\n                    @inline-edit-save="onInlineEditSave"\n                    @select-item="updateSelection"\n                    @update-records="updateTotal">\n\n                    {% block sw_product_list_grid_columns_name_preview %}\n                        <template #preview-internalName="{ item }">\n                            <sw-media-preview-v2 :source="item.media"></sw-media-preview-v2>\n                        </template>\n                    {% endblock %}\n\n                    {% block swag_customized_products_list_grid_columns %}\n                        {% block swag_customized_products_list_grid_columns_options %}\n                            <template #column-options="{ item }">\n                                {{ item.options.length }}\n                            </template>\n                        {% endblock %}\n\n                        {% block swag_customized_products_list_grid_columns_description %}\n                            <template #column-description="{ item }">\n                                {{ item.description|striphtml }}\n                            </template>\n                        {% endblock %}\n                    {% endblock %}\n\n                    {% block swag_customized_products_list_grid_context_actions %}\n                        {% block swag_customized_products_list_grid_context_actions_duplicate %}\n                            <template #more-actions="{ item }">\n                                <sw-context-menu-item\n                                    @click="onDuplicate(item)"\n                                    :disabled="!acl.can(\'swag_customized_products_template.creator\')">\n                                    {{ $tc(\'swag-customized-products.general.duplicate\') }}\n                                </sw-context-menu-item>\n                            </template>\n                        {% endblock %}\n\n                        {% block swag_customized_products_list_grid_context_actions_delete %}\n                            <template #delete-action="{ item, showDelete, allowDelete }">\n                                <sw-context-menu-item @click="showDelete(item.id)"\n                                                      :disabled="!allowDelete || !acl.can(\'swag_customized_products_template.deleter\')"\n                                                      class="sw-entity-listing__context-menu-edit-delete"\n                                                      variant="danger">\n                                    {{ $tc(\'global.default.delete\') }}\n                                </sw-context-menu-item>\n                            </template>\n                        {% endblock %}\n                    {% endblock %}\n\n                </sw-entity-listing>\n\n                <div class="swag-customized-products-list__content">\n\n                    {% block swag_customized_products_list_grid %}\n                    {% endblock %}\n\n                    {% block swag_customized_products_list_empty_state %}\n                        <sw-empty-state v-if="!isLoading && !total" :title="$tc(\'swag-customized-products.list.messageEmpty\')"></sw-empty-state>\n                    {% endblock %}\n                </div>\n            {% endblock %}\n        </template>\n\n        {% block swag_customized_products_list_sidebar %}\n            <template #sidebar>\n                <sw-sidebar>\n\n                    {% block swag_customized_products_list_sidebar_refresh %}\n                        <sw-sidebar-item\n                            icon="regular-undo"\n                            :title="$tc(\'swag-customized-products.list.titleSidebarItemRefresh\')"\n                            @click="onRefresh">\n                        </sw-sidebar-item>\n                    {% endblock %}\n                </sw-sidebar>\n            </template>\n        {% endblock %}\n    </sw-page>\n{% endblock %}\n',inject:["repositoryFactory","SwagCustomizedProductsTemplateService","acl"],mixins:["notification","listing","placeholder"],data:function(){return{isLoading:!1,items:null,total:0,limit:25}},metaInfo:function(){return{title:this.$createTitle()}},computed:{templateRepository:function(){return this.repositoryFactory.create("swag_customized_products_template")},templateCriteria:function(){return new O(1,this.limit).addAssociation("media").addAssociation("options.values").addAssociation("options.templateExclusionConditions").addAssociation("exclusions.conditions.templateOptionValues").addSorting(O.sort("updatedAt","DESC"))},templateColumns:function(){return this.getTemplateColumns()}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.getList()},getList:function(){var e=this;this.isLoading=!0,this.templateRepository.search(this.templateCriteria,Shopware.Context.api).then((function(t){e.items=t,e.total=t.total,e.isLoading=!1})).catch((function(){e.isLoading=!1}))},onInlineEditSave:function(e,t){var n=this;this.isLoading=!0;var o=t.internalName||this.placeholder(t,"internalName");return e.then((function(){n.getList(),n.isLoading=!1})).catch((function(){n.getList(),n.isLoading=!1,n.createNotificationError({message:n.$tc("global.notification.notificationSaveErrorMessage",0,{entityName:o})})}))},getTemplateColumns:function(){return[{property:"internalName",label:this.$tc("swag-customized-products.list.columnInternalName"),routerLink:"swag.customized.products.detail",inlineEdit:"string",naturalSorting:!0,allowResize:!0},{property:"displayName",label:this.$tc("swag-customized-products.list.columnDisplayName"),inlineEdit:"string",allowResize:!0,primary:!0},{property:"options",label:this.$tc("swag-customized-products.list.columnOptionsCount"),sortable:!1,align:"right",allowResize:!0},{property:"description",label:this.$tc("swag-customized-products.list.columnDescription"),allowResize:!0}]},updateTotal:function(e){var t=e.total;this.total=t},onChangeLanguage:function(){this.getList()},onDuplicate:function(e){var t=this,n=this.$tc("swag-customized-products.general.duplicateNameSuffix");return this.SwagCustomizedProductsTemplateService.duplicateTemplate(e,n).then((function(e){t.$router.push({name:"swag.customized.products.detail",params:{id:e.id}})}))}}});function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function I(){I=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof p?t:p,a=Object.create(r.prototype),s=new S(i||[]);return o(a,"_invoke",{value:v(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function p(){}function m(){}function _(){}var f={};c(f,r,(function(){return this}));var g=Object.getPrototypeOf,h=g&&g(g(C([])));h&&h!==t&&n.call(h,r)&&(f=h);var w=_.prototype=p.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function i(o,r,a,s){var c=d(e[o],e,r);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==P(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var r;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){i(e,n,t,o)}))}return r=r?r.then(o,o):o()}})}function v(e,t,n){var o="suspendedStart";return function(i,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw r;return O()}for(n.method=i,n.arg=r;;){var a=n.delegate;if(a){var s=z(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=d(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function z(e,t){var n=t.method,o=e.iterator[n];if(void 0===o)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,z(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),u;var i=d(o,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return m.prototype=_,o(w,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:m,configurable:!0}),m.displayName=c(_,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,i,r){void 0===r&&(r=Promise);var a=new y(l(t,n,o,i),r);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(w),c(w,s,"Generator"),c(w,r,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),c=n.call(r,"finallyLoc");if(s&&c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function E(e,t,n,o,i,r,a){try{var s=e[r](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,i)}function T(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function a(e){E(r,o,i,a,s,"next",e)}function s(e){E(r,o,i,a,s,"throw",e)}a(void 0)}))}}var D=Shopware.Component,L=Shopware.Data.Criteria;D.register("swag-customized-products-detail",{template:'{% block swag_customized_products_detail %}\n    <sw-page class="swag-customized-products-detail">\n\n        {% block swag_customized_products_detail_smart_bar_header %}\n            <template #smart-bar-header>\n\n                {% block swag_customized_products_detail_smart_bar_header_title %}\n                    <h2>\n\n                        {% block swag_customized_products_detail_smart_bar_header_title_text %}\n                            {{ identifier }}\n                        {% endblock %}\n                    </h2>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block swag_customized_products_detail_smart_bar_actions %}\n            <template #smart-bar-actions>\n\n                {% block swag_customized_products_detail_smart_bar_actions_save_group %}\n                    <sw-button-group\n                        class="swag-customized-products-detail__save-button-group"\n                        :splitButton="true"\n                        v-tooltip.bottom="{\n                            message: $tc(\'sw-privileges.tooltip.warning\'),\n                            disabled: acl.can(\'swag_customized_products_template.creator\'),\n                            showOnDisabledElements: true\n                        }">\n\n                        {% block swag_customized_products_detail_smart_bar_actions_save %}\n                            <sw-button-process\n                                v-tooltip.bottom="tooltipSave"\n                                class="swag-customized-products-detail__save-action"\n                                variant="primary"\n                                :isLoading="isLoading"\n                                :processSuccess="isSaveSuccessful"\n                                :disabled="isLoading || !acl.can(\'swag_customized_products_template.editor\')"\n                                {% if VUE3 %}\n                                    @update:process-success="onSaveFinish(true)"\n                                {% else %}\n                                    @process-finish="onSaveFinish(true)"\n                                {% endif %}\n                                @click.prevent="onSave">\n                                {{ $tc(\'global.default.save\') }}\n                            </sw-button-process>\n                        {% endblock %}\n\n                        {% block swag_customized_products_detail_smart_bar_actions_save_context_menu %}\n                            <sw-context-button v-if="!isNewlyCreated">\n                                <template #button>\n                                    <sw-button\n                                        class="swag-customized-products-detail__context-menu-save-action"\n                                        square\n                                        variant="primary"\n                                        :disabled="isLoading || !acl.can(\'swag_customized_products_template.creator\')">\n                                        <sw-icon\n                                            name="regular-chevron-down-xs"\n                                            size="16"\n                                        />\n                                    </sw-button>\n                                </template>\n\n                                {% block sw_product_detail_actions_save_context_menu_actions %}\n                                    {% block sw_product_detail_actions_duplicate %}\n                                        <sw-context-menu-item\n                                            class="swag-customized-products-detail__context-menu-duplicate-action"\n                                            :disabled="!acl.can(\'swag_customized_products_template.creator\') || !acl.can(\'swag_customized_products_template.editor\')"\n                                            @click="onDuplicateSave">\n                                            {{ $tc(\'swag-customized-products.detail.buttonSaveDuplicate\') }}\n                                        </sw-context-menu-item>\n                                    {% endblock %}\n                                {% endblock %}\n                            </sw-context-button>\n                        {% endblock %}\n                    </sw-button-group>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block swag_customized_products_detail_language_switch %}\n            <template #language-switch>\n                <sw-language-switch\n                    :saveChangesFunction="saveOnLanguageChange"\n                    :disabled="isCreateMode"\n                    @on-change="onChangeLanguage">\n                </sw-language-switch>\n            </template>\n        {% endblock %}\n\n        {% block swag_customized_products_detail_sidebar %}\n            <template #sidebar>\n                <sw-sidebar :propagateWidth="true">\n\n                    {% block swag_customized_products_detail_sidebar_media_item %}\n                        <sw-sidebar-media-item ref="mediaSidebarItem">\n                            <template #context-menu-items="media">\n\n                                {% block swag_customized_products_detail_sidebar_media_item_context %}\n                                    <sw-context-menu-item @click="onAddItemToTemplate(media.mediaItem)">\n                                        {{ $tc(\'swag-customized-products.detail.labelContextMenuAddToTemplate\') }}\n                                    </sw-context-menu-item>\n                                {% endblock %}\n                            </template>\n                        </sw-sidebar-media-item>\n                    {% endblock %}\n                </sw-sidebar>\n            </template>\n        {% endblock %}\n\n        {% block swag_customized_products_detail_content %}\n            <template #content>\n                <sw-card-view>\n\n                    {% block swag_customized_products_detail_language_info %}\n                        <sw-language-info\n                            :entityDescription="entityDescription"\n                            :isNewEntity="isCreateMode">\n                        </sw-language-info>\n                    {% endblock %}\n\n                    {% block swag_customized_products_detail_tabs %}\n                        <sw-tabs v-if="!isCreateMode && showTabs"\n                                 class="swag-customized-products-detail-page__tabs">\n\n                            {% block swag_customized_products_detail_general %}\n                                <sw-tabs-item\n                                    class="swag-customized-products-detail__tab-general"\n                                    :route="{ name: \'swag.customized.products.detail.base\', params: { id: templateId } }"\n                                    :title="$tc(\'swag-customized-products.detail.tabGeneral.title\')">\n                                    {{ $tc(\'swag-customized-products.detail.tabGeneral.title\') }}\n                                </sw-tabs-item>\n                            {% endblock %}\n\n                            {% block swag_customized_products_detail_more_tabs %}\n                            {% endblock %}\n                        </sw-tabs>\n                    {% endblock %}\n\n                    {% block swag_customized_products_detail_content_view %}\n                        <router-view\n                            v-if="template && !isLoading"\n                            :isLoading="isLoading"\n                            :template="template"\n                            :versionContext="versionContext"\n                            :isCreateMode="isCreateMode"\n                            :parentRefs="$refs">\n                        </router-view>\n                    {% endblock %}\n\n                    <sw-loader v-else></sw-loader>\n                </sw-card-view>\n            </template>\n        {% endblock %}\n    </sw-page>\n{% endblock %}\n',inject:["repositoryFactory","SwagCustomizedProductsTemplateService","SwagCustomizedProductsTemplateApiService","acl"],mixins:["placeholder","notification"],shortcuts:{"SYSTEMKEY+S":"onSave",ESCAPE:"onCancel"},props:{templateId:{type:String,required:!1,default:null}},data:function(){return{isLoading:!1,isSaveSuccessful:!1,template:null,displayMediaItem:null,versionContext:{}}},metaInfo:function(){return{title:this.$createTitle(this.identifier)}},computed:{identifier:function(){return this.template&&this.template.internalName?this.template.internalName:this.$tc("swag-customized-products.create.title")},templateRepository:function(){return this.repositoryFactory.create("swag_customized_products_template")},mediaRepository:function(){return this.repositoryFactory.create("media")},isCreateMode:function(){return"swag.customized.products.create.base"===this.$route.name},templateCriteria:function(){return new L(1,null)},entityDescription:function(){return this.placeholder(this.template,"internalName",this.$tc("swag-customized-products.create.title"))},tooltipSave:function(){var e=this.$device.getSystemKey();return{message:"".concat(e," + S"),appearance:"light"}},showTabs:function(){return!1},isNewlyCreated:function(){return!this.template||this.template._isNew}},beforeRouteLeave:function(e,t,n){"swag.customized.products.detail.base"!==e.name?this.handleRouteLeave(n):n()},watch:{templateId:function(){null===this.templateId&&this.createTemplate(),this.createdComponent()}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.versionContext=Shopware.Context.api,null!==this.templateId?this.createVersion():this.createTemplate()},loadEntityData:function(){var e=this;return this.isLoading=!0,this.templateRepository.get(this.templateId,this.versionContext,this.templateCriteria).then((function(t){return e.template=t,e.isLoading=!1,t})).catch((function(t){return e.isLoading=!1,t}))},createTemplate:function(){Shopware.Context.api.languageId!==Shopware.Context.api.systemLanguageId&&Shopware.State.commit("context/setApiLanguageId",Shopware.Context.api.systemLanguageId),this.template=this.templateRepository.create(this.versionContext)},createVersion:function(){var e=this;this.templateRepository.createVersion(this.templateId,this.versionContext).then((function(t){return e.versionContext=t,e.loadEntityData()}))},onSave:function(){var e=this;return T(I().mark((function t(){var n,o;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isLoading=!0,t.prev=1,e.versionContext.versionId){t.next=7;break}return t.next=5,e.templateRepository.save(e.template,Shopware.Context.api);case 5:return e.isSaveSuccessful=!0,t.abrupt("return");case 7:return t.next=9,e.saveEdits();case 9:return t.next=11,e.templateRepository.mergeVersion(e.versionContext.versionId,e.versionContext);case 11:e.SwagCustomizedProductsTemplateApiService.dispatchTreeGenerationMessage(e.template.id),e.isSaveSuccessful=!0,t.next=23;break;case 15:return t.prev=15,t.t0=t.catch(1),n=e.template.internalName,o=e.$tc("global.notification.notificationSaveErrorMessage",0,{entityName:n}),e.createNotificationError({message:o}),e.isSaveSuccessful=!1,e.isLoading=!1,t.abrupt("return");case 23:e.versionContext.versionId=Shopware.Context.api.liveVersionId;case 24:case"end":return t.stop()}}),t,null,[[1,15]])})))()},saveEdits:function(){return this.templateRepository.save(this.template,this.versionContext)},onSaveFinish:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];e&&(this.isSaveSuccessful=!1);var t=this.templateId;if(null===t)return t=this.template.id,void this.$router.push({name:"swag.customized.products.detail",params:{id:t}});this.createdComponent()},onCancel:function(){this.$router.push({name:"swag.customized.products.index"})},onAddItemToTemplate:function(e){this.template.mediaId=e.id},onChangeLanguage:function(){this.createdComponent()},saveOnLanguageChange:function(){return this.onSave()},handleRouteLeave:function(e){this.SwagCustomizedProductsTemplateApiService.deleteVersion(this.templateId,this.versionContext.versionId),e()},onDuplicateSave:function(){var e=this;return T(I().mark((function t(){var n,o;return I().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.onSave();case 2:return n=e.$tc("swag-customized-products.general.duplicateNameSuffix"),o=e.templateCriteria.addAssociation("options.values").addAssociation("options.templateExclusionConditions").addAssociation("exclusions.conditions.templateOptionValues"),t.abrupt("return",e.templateRepository.get(e.templateId,Shopware.Context.api,o).then((function(t){return e.SwagCustomizedProductsTemplateService.duplicateTemplate(t,n)})).then((function(t){e.$router.push({name:"swag.customized.products.detail",params:{id:t.id}})})));case 5:case"end":return t.stop()}}),t)})))()}}});n("FyIy");function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(){$=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof p?t:p,a=Object.create(r.prototype),s=new S(i||[]);return o(a,"_invoke",{value:v(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function p(){}function m(){}function _(){}var f={};c(f,r,(function(){return this}));var g=Object.getPrototypeOf,h=g&&g(g(C([])));h&&h!==t&&n.call(h,r)&&(f=h);var w=_.prototype=p.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function i(o,r,a,s){var c=d(e[o],e,r);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==M(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var r;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){i(e,n,t,o)}))}return r=r?r.then(o,o):o()}})}function v(e,t,n){var o="suspendedStart";return function(i,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw r;return O()}for(n.method=i,n.arg=r;;){var a=n.delegate;if(a){var s=z(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=d(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function z(e,t){var n=t.method,o=e.iterator[n];if(void 0===o)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,z(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),u;var i=d(o,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return m.prototype=_,o(w,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:m,configurable:!0}),m.displayName=c(_,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,i,r){void 0===r&&(r=Promise);var a=new y(l(t,n,o,i),r);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(w),c(w,s,"Generator"),c(w,r,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),c=n.call(r,"finallyLoc");if(s&&c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function j(e,t,n,o,i,r,a){try{var s=e[r](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,i)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function a(e){j(r,o,i,a,s,"next",e)}function s(e){j(r,o,i,a,s,"throw",e)}a(void 0)}))}}function V(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?V(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==M(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==M(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===M(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var q=Shopware,F=q.Component,U=q.Utils,G=Shopware.Data.Criteria,B=Shopware.Component.getComponentHelper().mapPropertyErrors;F.register("swag-customized-products-detail-base",{template:'{% block swag_customized_products_detail_base %}\n    <div class="swag-customized-products-detail-base">\n\n        {% block swag_customized_products_detail_base_card_general_assignment_info %}\n            <sw-alert\n                v-if="!isCreateMode"\n                variant="info"\n                class="swag-customized-product__assignment-info">\n                <p>{{ $tc(\'swag-customized-products.detail.tabGeneral.textAssignmentInfo\') }}</p>\n            </sw-alert>\n        {% endblock %}\n\n        {% block swag_customized_products_detail_base_card_general %}\n            <sw-card :title="$tc(\'swag-customized-products.detail.tabGeneral.cardGeneral\')">\n                <sw-container columns="repeat(auto-fit, minmax(250px, 1fr)" gap="0 30px">\n\n                    {% block swag_customized_products_detail_base_card_general_internal_name %}\n                        <sw-text-field\n                            {% if VUE3 %}\n                                v-model:value="template.internalName"\n                            {% else %}\n                                v-model="template.internalName"\n                            {% endif %}\n                            name="sw-field--template-internalName"\n                            :label="$tc(\'swag-customized-products.detail.tabGeneral.labelInternalName\')"\n                            :placeholder="$tc(\'swag-customized-products.detail.tabGeneral.placeholderInternalName\')"\n                            :error="templateInternalNameError"\n                            :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                            required>\n                        </sw-text-field>\n                    {% endblock %}\n\n                    {% block swag_customized_products_detail_base_card_general_active %}\n                        <sw-switch-field\n                            {% if VUE3 %}\n                                v-model:value="template.active"\n                            {% else %}\n                                v-model="template.active"\n                            {% endif %}\n                            name="sw-field--template-active"\n                            :label="$tc(\'swag-customized-products.detail.tabGeneral.labelActive\')"\n                            :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                            bordered>\n                        </sw-switch-field>\n                    {% endblock %}\n                </sw-container>\n\n                {% block swag_customized_products_detail_base_card_general_display_name %}\n                    <sw-text-field\n                        {% if VUE3 %}\n                            v-model:value="template.displayName"\n                        {% else %}\n                            v-model="template.displayName"\n                        {% endif %}\n                        name="sw-field--template-displayName"\n                        :label="$tc(\'swag-customized-products.detail.tabGeneral.labelDisplayName\')"\n                        :placeholder="$tc(\'swag-customized-products.detail.tabGeneral.placeholderDisplayName\')"\n                        :error="templateDisplayNameError"\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        required>\n                    </sw-text-field>\n                {% endblock %}\n\n                {% block swag_customized_products_detail_base_card_general_description %}\n                    <sw-text-editor\n                        v-model="template.description"\n                        :label="$tc(\'swag-customized-products.detail.tabGeneral.labelDescription\')"\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        :placeholder="$tc(\'swag-customized-products.detail.tabGeneral.placeholderDescription\')">\n                    </sw-text-editor>\n                {% endblock %}\n\n                {% block swag_customized_products_detail_base_card_general_media %}\n                    <sw-upload-listener\n                        :uploadTag="uploadTag"\n                        autoUpload\n                        @media-upload-finish="setMediaItem">\n                    </sw-upload-listener>\n                    <sw-media-upload-v2\n                        class="swag-customized-products-detail-base__image-upload"\n                        :uploadTag="uploadTag"\n                        :source="displayMediaItem"\n                        :allowMultiSelect="false"\n                        :label="$tc(\'swag-customized-products.detail.tabGeneral.labelImage\')"\n                        :defaultFolder="templateRepository.schema.entity"\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        @media-drop="onDropMedia"\n                        @media-upload-sidebar-open="openMediaSidebar"\n                        @media-upload-remove-image="onUnlinkImage">\n                    </sw-media-upload-v2>\n                {% endblock %}\n\n                {% block swag_customized_products_detail_base_card_general_step_by_step_options_auto_collapse_container %}\n                    <sw-container columns="repeat(auto-fit, minmax(250px, 1fr)" gap="0 30px">\n\n                        {% block swag_customized_products_detail_base_card_general_step_by_step %}\n                            <sw-switch-field\n                                {% if VUE3 %}\n                                    v-model:value="template.stepByStep"\n                                {% else %}\n                                    v-model="template.stepByStep"\n                                {% endif %}\n                                class="swag-customized-products-base-step-by-step__checkbox-field"\n                                :label="$tc(\'swag-customized-products.detail.tabGeneral.labelStepByStep\')"\n                                :helpText="$tc(\'swag-customized-products.detail.tabGeneral.helpTextStepByStep\')"\n                                bordered\n                                :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                                @change="onChangeStepByStep">\n                            </sw-switch-field>\n                        {% endblock %}\n\n                        {% block swag_customized_products_detail_base_card_general_options_auto_collapse %}\n                            <sw-switch-field\n                                {% if VUE3 %}\n                                    v-model:value="template.optionsAutoCollapse"\n                                {% else %}\n                                    v-model="template.optionsAutoCollapse"\n                                {% endif %}\n                                class="swag-customized-products-base-options-auto-collapse__checkbox-field"\n                                :disabled="template.stepByStep || !acl.can(\'swag_customized_products_template.editor\')"\n                                :label="$tc(\'swag-customized-products.detail.tabGeneral.labelOptionsAutoCollapse\')"\n                                :helpText="$tc(\'swag-customized-products.detail.tabGeneral.helpTextOptionsAutoCollapse\')"\n                                bordered>\n                            </sw-switch-field>\n                        {% endblock %}\n                    </sw-container>\n                {% endblock %}\n\n                {% block swag_customized_products_detail_base_card_general_confirm_input %}\n                    <sw-switch-field\n                        {% if VUE3 %}\n                            v-model:value="template.confirmInput"\n                        {% else %}\n                            v-model="template.confirmInput"\n                        {% endif %}\n                        class="swag-customized-products-base-confirmInput__checkbox-field"\n                        :label="$tc(\'swag-customized-products.detail.tabGeneral.labelConfirmInput\')"\n                        :helpText="$tc(\'swag-customized-products.detail.tabGeneral.helpTextConfirmInput\')"\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        bordered>\n                    </sw-switch-field>\n                {% endblock %}\n            </sw-card>\n        {% endblock %}\n\n        {% block swag_customized_products_detail_base_option_card %}\n            <sw-card v-if="!isCreateMode"\n                     :title="$tc(\'swag-customized-products.detail.tabGeneral.cardOption.title\')">\n\n                {% block swag_customized_products_detail_base_option_grid_toolbar %}\n                    <template #toolbar>\n                        <sw-card-filter\n                            :placeholder="$tc(\'swag-customized-products.detail.tabGeneral.cardOption.placeholderSearch\')"\n                            @sw-card-filter-term-change="onOptionSearch">\n                            <template #filter>\n\n                                {% block sw_customer_detail_addresses_add_button %}\n                                    <sw-button\n                                        class="swag-customized-products-detail-base__add-option-action"\n                                        v-tooltip="{ message: $tc(\'swag-customized-products.detail.tabGeneral.cardOption.optionAddNotAvailableTooltip\'), disabled: !optionAddDisabled, showOnDisabledElements: true }"\n                                        :disabled="optionAddDisabled || !acl.can(\'swag_customized_products_template.editor\')"\n                                        size="small"\n                                        variant="ghost"\n                                        @click="onOptionAdd">\n                                        {{ $tc(\'swag-customized-products.detail.tabGeneral.cardOption.buttonAdd\') }}\n                                    </sw-button>\n                                {% endblock %}\n                            </template>\n                        </sw-card-filter>\n                    </template>\n                {% endblock %}\n\n                {% block swag_customized_products_detail_base_option_grid_content %}\n                    <template #grid>\n                        <swag-customized-products-option-list\n                                v-if="filteredOptions.length > 0 || options.length > 0"\n                                class="swag-customized-products-detail-base__option-grid"\n                                ref="grid"\n                                :collection="(optionSearchTerm.length > 0 ? filteredOptions : options)"\n                                :localMode="false"\n                                :columns="optionColumns"\n                                :isLoading="isLoading"\n                                :sortBy="optionSortProperty"\n                                :sortDirection="optionSortDirection"\n                                :skeletonItemAmount="10"\n                                :allowInlineEdit="false"\n                                :allowDelete="acl.can(\'swag_customized_products_template.deleter\')"\n                                @select-item="onOptionSelectionChanged"\n                                @select-all-items="onOptionSelectionChanged">\n\n                            {% block swag_customized_products_detail_base_option_grid_columns %}\n                                {% block swag_customized_products_detail_base_option_grid_column_name %}\n                                    <template #column-displayName="{ item }">\n                                        <a class="link" @click="onOptionEdit(item)">\n                                            {{ item.translated.displayName }}\n                                        </a>\n                                    </template>\n                                {% endblock %}\n\n                                {% block swag_customized_products_detail_base_option_grid_column_type %}\n                                    <template #column-type="{ item }">\n\n                                        {% block swag_customized_products_detail_base_option_grid_column_type_content %}\n                                            {{ translateOption(item.type) }}\n                                        {% endblock %}\n                                    </template>\n                                {% endblock %}\n\n                                {% block swag_customized_products_detail_base_option_grid_column_values_count %}\n                                    <template #column-valuesCount="{ item }">\n                                        {{ item.values.length }}\n                                    </template>\n                                {% endblock %}\n\n                                {% block swag_customized_products_detail_base_option_grid_column_position %}\n                                    <template #column-position="{ item }">\n                                        <sw-data-grid-column-position\n                                            {% if VUE3 %}\n                                                v-model:value="options"\n                                            {% else %}\n                                                v-model="options"\n                                            {% endif %}\n                                            :disabled="!!optionSearchTerm || !acl.can(\'swag_customized_products_template.editor\')"\n                                            :item="item"\n                                            @position-changed="saveOptions">\n                                        </sw-data-grid-column-position>\n                                    </template>\n                                {% endblock %}\n\n                                {% block swag_customized_products_detail_base_option_grid_actions %}\n                                    <template #actions="{ item }">\n\n                                        {% block swag_customized_products_detail_base_option_grid_actions_edit %}\n                                            <sw-context-menu-item\n                                                @click="onOptionEdit(item)"\n                                                :disabled="!acl.can(\'swag_customized_products_template.viewer\')">\n                                                {{ $tc(\'global.default.edit\') }}\n                                            </sw-context-menu-item>\n                                        {% endblock %}\n\n                                        {% block swag_customized_products_detail_base_option_grid_actions_delete %}\n                                            <sw-context-menu-item\n                                                variant="danger"\n                                                @click="onOptionDelete(item)"\n                                                :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                                            >\n                                                {{ $tc(\'global.default.delete\') }}\n                                            </sw-context-menu-item>\n                                        {% endblock %}\n                                    </template>\n                                {% endblock %}\n\n                                {% block swag_customized_products_detail_base_option_grid_bulk_actions %}\n                                    <template #bulk>\n\n                                        {% block swag_customized_products_detail_base_option_grid_bulk_actions_delete %}\n                                            <a class="link link-danger"\n                                               @click="onOptionBulkDelete"\n                                               v-if="acl.can(\'swag_customized_products_template.editor\')">\n                                                {{ $tc(\'global.default.delete\') }}\n                                            </a>\n                                        {% endblock %}\n                                    </template>\n                                {% endblock %}\n                            {% endblock %}\n                        </swag-customized-products-option-list>\n\n                        {% block sw_customer_detail_order_card_grid_empty_state %}\n                            <template v-else>\n                                <div class="swag-customized-products-detail-base__empty-state">\n                                    <img :src="\'/administration/static/img/empty-states/products-empty-state.svg\' | asset">\n\n                                    <div class="swag-customized-products-detail-base__empty-state--label">\n                                        <p>{{ $tc(\'swag-customized-products.detail.tabGeneral.cardOption.emptyTitle\', !optionSearchTerm) }}</p>\n                                    </div>\n                                </div>\n                            </template>\n                        {% endblock %}\n                    </template>\n                {% endblock %}\n\n            </sw-card>\n        {% endblock %}\n\n        {% block swag_customized_products_detail_base_option_detail_modal %}\n        <template v-if="showOptionDetailModal">\n            <swag-customized-products-option-detail-modal\n                :option="showOptionDetailModal"\n                :optionRepository="optionRepository"\n                :versionContext="versionContext"\n                @modal-close="onOptionCloseDetailModal">\n            </swag-customized-products-option-detail-modal>\n        </template>\n        {% endblock %}\n\n        {% block swag_customized_products_detail_base_option_create_modal %}\n            <sw-modal v-if="showOptionCreateModal"\n                      :title="$tc(\'swag-customized-products.detail.tabGeneral.createOption.title\')"\n                      @modal-close="onOptionCloseCreateModal">\n\n                {% block swag_customized_products_detail_base_option_create_modal_form %}\n                    <sw-container class="swag-customized-products-detail-base__create-modal-form"\n                                  columns="1fr 1fr"\n                                  gap="32px">\n\n                        {% block swag_customized_products_detail_base_option_create_modal_field_name %}\n                            <sw-text-field {% if VUE3 %}\n                                                v-model:value="newOption.displayName"\n                                           {% else %}\n                                                v-model="newOption.displayName"\n                                           {% endif %}\n                                           name="sw-field--newOption-displayName"\n                                           :label="$tc(\'swag-customized-products.detail.tabGeneral.createOption.nameLabel\')"\n                                           :placeholder="$tc(\'swag-customized-products.detail.tabGeneral.createOption.namePlaceholder\')"\n                                           @keyup.enter="onOptionConfirmCreate"\n                                           @keyup.esc="onOptionCloseCreateModal">\n                            </sw-text-field>\n                        {% endblock %}\n\n                        {% block swag_customized_products_detail_base_option_create_modal_field_type %}\n                            <sw-select-field {% if VUE3 %}\n                                                v-model:value="newOption.type"\n                                             {% else %}\n                                                v-model="newOption.type"\n                                             {% endif %}\n                                             name="sw-field--newOption-type"\n                                             :label="$tc(\'swag-customized-products.detail.tabGeneral.createOption.typeLabel\')"\n                                             :helpText="$tc(\'swag-customized-products.detail.tabGeneral.createOption.typeHelpText\')">\n\n                                {% block swag_customized_products_detail_base_option_create_modal_field_type_options %}\n                                    <option v-for="type in optionTypes" :value="type">{{ translateOption(type) }}</option>\n                                {% endblock %}\n                            </sw-select-field>\n                        {% endblock %}\n                    </sw-container>\n                {% endblock %}\n\n                {% block swag_customized_products_detail_base_option_create_modal_footer %}\n                    <template #modal-footer>\n\n                        {% block swag_customized_products_detail_base_option_create_modal_cancel %}\n                            <sw-button size="small"\n                                       @click="onOptionCloseCreateModal">\n                                {{ $tc(\'global.default.cancel\') }}\n                            </sw-button>\n                        {% endblock %}\n\n                        {% block swag_customized_products_detail_base_option_create_modal_confirm %}\n                            <sw-button variant="primary"\n                                       size="small"\n                                       :disabled="optionConfirmCreateDisabled"\n                                       @click="onOptionConfirmCreate">\n                                {{ $tc(\'global.default.add\') }}\n                            </sw-button>\n                        {% endblock %}\n                    </template>\n                {% endblock %}\n            </sw-modal>\n        {% endblock %}\n\n        {% block swag_customized_products_detail_base_option_delete_modal %}\n            <sw-modal v-if="showOptionDeleteModal"\n                      :title="$tc(\'swag-customized-products.detail.tabGeneral.cardOption.titleModalDelete\')"\n                      variant="small"\n                      @modal-close="onOptionCloseDeleteModal">\n\n                {% block swag_customized_products_detail_base_option_delete_modal_text %}\n                    <p class="swag-customized-products-detail-base__confirm-delete-text">\n                        {{ getOptionsDeleteModalText }}\n                    </p>\n                {% endblock %}\n\n                {% block swag_customized_products_detail_base_option_delete_modal_footer %}\n                    <template #modal-footer>\n\n                        {% block swag_customized_products_detail_base_option_delete_modal_cancel %}\n                            <sw-button size="small"\n                                       @click="onOptionCloseDeleteModal">\n                                {{ $tc(\'global.default.cancel\') }}\n                            </sw-button>\n                        {% endblock %}\n\n                        {% block swag_customized_products_detail_base_option_delete_modal_confirm %}\n                            {% block swag_customized_products_detail_base_option_delete_modal_confirm_single %}\n                                <template v-if="showOptionDeleteModal === \'bulk\'">\n                                    <sw-button size="small"\n                                               variant="primary"\n                                               @click="onOptionConfirmBulkDelete">\n                                        {{ $tc(\'global.default.delete\') }}\n                                    </sw-button>\n                                </template>\n                            {% endblock %}\n\n                            {% block swag_customized_products_detail_base_option_delete_modal_confirm_bulk %}\n                                <template v-else>\n                                    <sw-button size="small"\n                                               variant="primary"\n                                               @click="onOptionConfirmDelete">\n                                        {{ $tc(\'global.default.delete\') }}\n                                    </sw-button>\n                                </template>\n                            {% endblock %}\n                        {% endblock %}\n                    </template>\n                {% endblock %}\n            </sw-modal>\n        {% endblock %}\n\n        <swag-customized-products-exclusion-list\n            v-if="showExclusionList"\n            :context="versionContext"\n            :templateId="template.id">\n        </swag-customized-products-exclusion-list>\n\n    </div>\n{% endblock %}\n',inject:["repositoryFactory","SwagCustomizedProductsTemplateOptionService","acl"],mixins:["placeholder","notification","position","swag-customized-products-option"],props:{template:{type:Object,required:!0},isCreateMode:{type:Boolean,required:!0},versionContext:{type:Object,required:!0},parentRefs:{type:Object,required:!0}},data:function(){return{isLoading:!1,isInitialized:!1,uploadTag:"swag-customized-products-upload-tag",optionTypes:null,selectedOptions:{},newOption:null,lastNewPosition:void 0,displayMediaItem:null,showOptionDetailModal:!1,showOptionCreateModal:!1,showOptionDeleteModal:!1,disableRouteParams:!0,optionSearchTerm:"",optionSortProperty:"position",optionSortDirection:"ASC",options:[],filteredOptions:[],criteriaLimit:500}},computed:R({optionRepository:function(){return this.repositoryFactory.create(this.template.options.entity,this.template.options.source)},templateRepository:function(){return this.repositoryFactory.create("swag_customized_products_template")},mediaRepository:function(){return this.repositoryFactory.create("media")},optionColumns:function(){return this.getOptionColumns()},selectedOptionsCount:function(){return Object.values(this.selectedOptions).length},getOptionsDeleteModalText:function(){return this.$tc("swag-customized-products.detail.tabGeneral.cardOption.textModalDelete",Math.max(this.selectedOptionsCount,1),{count:this.selectedOptionsCount,name:this.currentOptionDisplayName})},optionConfirmCreateDisabled:function(){return null!==this.newOption&&(!this.newOption.hasOwnProperty("displayName")||!this.newOption.hasOwnProperty("type")||null===this.newOption.displayName||null===this.newOption.type||this.newOption.displayName.length<1)},optionAddDisabled:function(){var e=Shopware.Context.api;return e.languageId!==e.systemLanguageId},showExclusionList:function(){var e=this.options.filter((function(e){return!1===e.required&&"colorpicker"!==e.type}));return(e=e.filter((function(e){return!(U.hasOwnProperty.call(e,"typeProperties")&&U.hasOwnProperty.call(e.typeProperties,"isMultiSelect")&&!0===e.typeProperties.isMultiSelect)}))).length>=2}},B("template",["displayName","internalName"])),watch:{"template.mediaId":function(){this.setMediaItem({targetId:this.template.mediaId})}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.loadOptionTypes(),this.setMediaItem({targetId:this.template.mediaId}),this.getOptionList()},getListCriteria:function(){return new G(1,this.criteriaLimit).setTerm(this.optionSearchTerm).addFilter(G.equals("templateId",this.template.id)).addSorting(G.sort(this.optionSortProperty,this.optionSortDirection)).addAssociation("prices").addAssociation("values").addAssociation("templateExclusionConditions")},loadOptionTypes:function(){var e=this;return this.SwagCustomizedProductsTemplateOptionService.getSupportedTypes().then((function(t){var n=["colorpicker"];return e.optionTypes=t.sort((function(t,n){return e.translateOption(t).toLowerCase()<=e.translateOption(n).toLowerCase()?-1:1})).filter((function(e){return!n.includes(e)})),e.optionTypes}))},onOptionAdd:function(){var e=this,t=this.optionRepository.create(this.versionContext),n=new G(1,null).addFilter(G.equals("templateId",this.template.id));this.getNewPosition(this.optionRepository,n,this.versionContext).then((function(n){e.lastNewPosition=e.lastNewPosition>=n?e.lastNewPosition+1:n,t.templateId=e.template.id,t.position=e.lastNewPosition,t.advancedSurcharge=!1,t.oneTimeSurcharge=!1,t.relativeSurcharge=!1,t.typeProperties={optionAdd:!0},t.type="checkbox",t.values=[],e.newOption=t,e.showOptionCreateModal=!0}))},onOptionEdit:function(e){e.isEdit=!0,e.typeProperties=R({},e.typeProperties),this.showOptionDetailModal=e},onOptionCloseDetailModal:function(){this.getOptionList(),this.showOptionDetailModal=!1,this.newOption&&(this.newOption=null)},onOptionDelete:function(e){this.showOptionDeleteModal=e,this.currentOptionDisplayName=e.displayName},onOptionBulkDelete:function(){this.showOptionDeleteModal="bulk",this.currentOptionDisplayName=Object.values(this.selectedOptions)[0].displayName},onOptionCloseCreateModal:function(){this.showOptionCreateModal=!1},onOptionCloseDeleteModal:function(){this.showOptionDeleteModal=!1,this.currentOptionDisplayName=null},onOptionConfirmDelete:function(){var e=this;if("bulk"!==this.showOptionDeleteModal){var t=this.showOptionDeleteModal.id;this.showOptionDeleteModal=!1,this.optionRepository.deleteVersion(t,this.versionContext.versionId,this.versionContext).then((function(){e.getOptionList()}))}else this.onOptionConfirmBulkDelete()},onOptionConfirmCreate:function(){var e=this;this.optionConfirmCreateDisabled||(this.onOptionCloseCreateModal(),this.optionRepository.save(this.newOption,this.versionContext).then((function(){return e.optionRepository.get(e.newOption.id,e.versionContext)})).then((function(t){e.showOptionDetailModal=t})))},onOptionConfirmBulkDelete:function(){var e=this,t=[];Object.keys(this.selectedOptions).forEach((function(n){t.push(e.optionRepository.deleteVersion(n,e.versionContext.versionId,e.versionContext))})),this.onOptionCloseDeleteModal(),Promise.all(t).then((function(){e.getOptionList()}))},onOptionSelectionChanged:function(e){this.selectedOptions=e},onOptionSearch:function(e){this.optionSearchTerm=e,this.optionSearchTerm||(this.filteredOptions=[]),this.$refs.grid&&this.$refs.grid.result&&this.$refs.grid.result.criteria.setTerm(this.optionSearchTerm),this.getOptionList()},onChangeStepByStep:function(){!0===this.template.stepByStep&&(this.template.optionsAutoCollapse=!1)},saveOptions:function(){var e=this;return N($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.isLoading=!0,t.next=3,e.optionRepository.saveAll(e.options,e.versionContext);case 3:return t.next=5,e.getOptionList();case 5:e.isLoading=!1;case 6:case"end":return t.stop()}}),t)})))()},saveError:function(){this.isLoading=!1;var e=this.$tc("swag-customized-products.detail.tabGeneral.cardOption.errorSave");this.createNotificationError({message:e})},setMediaItem:function(e){var t=this,n=e.targetId;this.template.mediaId=n,null!==n?this.mediaRepository.get(n,Shopware.Context.api).then((function(e){t.displayMediaItem=e})):this.displayMediaItem=null},onDropMedia:function(e){this.setMediaItem({targetId:e.id})},setMediaFromSidebar:function(e){var t=e.mediaEntity;this.setMediaItem({targetId:t.id})},onUnlinkImage:function(){this.setMediaItem({targetId:null})},openMediaSidebar:function(){Shopware.Utils.object.hasOwnProperty(this.parentRefs,"mediaSidebarItem")&&this.parentRefs.mediaSidebarItem.openContent()},getOptionColumns:function(){return[{property:"displayName",label:this.$tc("swag-customized-products.detail.tabGeneral.cardOption.labelName"),inlineEdit:"string",sortable:!1},{property:"type",label:this.$tc("swag-customized-products.detail.tabGeneral.cardOption.labelType"),inlineEdit:!0,sortable:!1},{property:"valuesCount",label:this.$tc("swag-customized-products.detail.tabGeneral.cardOption.labelOptionValuesCount"),align:"center",sortable:!1},{property:"position",label:this.$tc("swag-customized-products.detail.tabGeneral.cardOption.labelPosition"),align:"center",sortable:!1}]},getOptionList:function(){var e=this;return N($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.isLoading=!0,e.isInitialized&&!(e.options.length<=0)){t.next=6;break}return t.next=4,e.optionRepository.search(e.getListCriteria(),e.versionContext);case 4:e.options=t.sent,e.isInitialized=!0;case 6:return t.next=8,e.refreshGrid();case 8:return e.isLoading=!1,t.abrupt("return",e.options);case 10:case"end":return t.stop()}}),t)})))()},refreshGrid:function(){var e=this;return N($().mark((function t(){return $().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(e.$refs.grid){t.next=2;break}return t.abrupt("return",Promise.resolve());case 2:return t.next=4,e.$refs.grid.load();case 4:return e.optionSearchTerm?e.filteredOptions=e.$refs.grid.records:e.options=e.$refs.grid.records,t.abrupt("return",Promise.resolve());case 6:case"end":return t.stop()}}),t)})))()}}});n("6CQq");var H=Shopware.Component,W=Shopware.Data.Criteria;H.register("swag-customized-products-condition-tree",{template:'{% block swag_customized_products_condition_tree %}\n    <div>\n        <sw-alert variant="info">\n            {{ $tc(\'swag-customized-products-condition-tree.helpText\') }}\n        </sw-alert>\n\n        <p class="swag_customized_products_condition_tree__label">\n            {{ $tc(\'swag-customized-products-condition-tree.label\') }}\n        </p>\n\n        <div class="swag-customized-products-condition-tree">\n\n            {% block swag_customized_products_condition_tree_nodes %}\n                <template v-for="(condition, index) in conditions">\n                    <swag-customized-products-condition-tree-node\n                        :templateId="templateId"\n                        :context="context"\n                        :condition="condition"\n                        :index="index"\n                        :optionCriteria="optionCriteria"\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        @delete-condition="deleteCondition">\n                    </swag-customized-products-condition-tree-node>\n                </template>\n            {% endblock %}\n\n            {% block swag_customized_products_condition_tree_actions %}\n                {% block swag_customized_products_condition_tree_actions_add %}\n                    <sw-button\n                        class="swag-customized-products-condition-tree__actions-add"\n                        variant="ghost"\n                        size="small"\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        @click="addConditions(1)">\n                        {{ $tc(\'global.default.add\') }}\n                    </sw-button>\n                {% endblock %}\n            {% endblock %}\n        </div>\n    </div>\n{% endblock %}\n',inject:["repositoryFactory","acl"],props:{templateId:{type:String,required:!0},exclusionId:{type:String,required:!0},context:{type:Object,required:!0},conditions:{type:Array,required:!0}},computed:{conditionRepository:function(){return this.repositoryFactory.create("swag_customized_products_template_exclusion_condition")},optionCriteria:function(){return this.getOptionCriteria()}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.conditions.length<=0&&this.addConditions(2)},addConditions:function(e){for(var t=0;t<e;t++){var n=this.conditionRepository.create();n.templateExclusionId=this.exclusionId,n.templateOptionVersionId=this.context.versionId,this.conditions.add(n)}},deleteCondition:function(e){this.$emit("delete-condition",e)},getOptionCriteria:function(){var e=new W(1,null);e.addFilter(W.multi("AND",[W.equals("templateId",this.templateId),W.not("and",[W.equalsAny("type",["colorpicker"])]),W.equals("required",!1)])).addSorting(W.sort("position"));var t=this.conditions.reduce((function(e,t){return t.optionId&&e.push(t.optionId),e}),[]);return t.length>0&&e.addFilter(W.not("and",[W.equalsAny("id",t)])),e}}});n("NEJw");function K(e){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Y(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==K(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==K(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===K(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Z=Shopware,Q=Z.Component,X=Z.Utils,ee=Shopware.Data.Criteria,te=Shopware.Component.getComponentHelper().mapPropertyErrors;Q.register("swag-customized-products-condition-tree-node",{template:'{% block swag_customized_product_condition_tree_node %}\n    <div class="swag-customized-products-condition-tree-node" :class="{ \'is--disabled\': disabled }">\n\n        {% block swag_customized_product_condition_tree_node_and_connection_label %}\n            <strong v-if="index !== 0">\n                {% block swag_customized_product_condition_tree_node_and_connection_label_inner %}\n                    {{ $tc(\'swag-customized-products-condition-tree.node.strongAnd\') }}\n                {% endblock %}\n            </strong>\n        {% endblock %}\n\n        <div class="sw-condition sw-condition-tree-node">\n\n            {% block swag_customized_product_condition_tree_node_inner %}\n                {% block swag_customized_product_condition_tree_node_inner_condition %}\n                    <div class="sw-condition__container">\n                        {% block swag_customized_product_condition_tree_node_inner_condition_option_select %}\n                            <swag-customized-products-entity-single-select\n                                {% if VUE3 %}\n                                    v-model:value="condition.templateOptionId"\n                                {% else %}\n                                    v-model="condition.templateOptionId"\n                                {% endif %}\n                                class="sw-condition-type-select__select"\n                                :class="{ \'has--error\': !!conditionTemplateOptionIdError }"\n                                size="medium"\n                                :placeholder="$tc(\'swag-customized-products-condition-tree.node.optionSelectPlaceholder\')"\n                                :criteria="optionCriteria"\n                                :context="context"\n                                :showSelectionError="!!conditionTemplateOptionIdError"\n                                labelProperty="displayName"\n                                :entity="optionRepository.entityName"\n                                :disabled="disabled"\n                                required\n                                @change="onOptionChange"\n                                @load="onOptionLoaded">\n                            </swag-customized-products-entity-single-select>\n                        {% endblock %}\n\n                        <div class="sw-condition__condition-value">\n                            {% block swag_customized_product_condition_tree_node_inner_condition_operator_select %}\n                                <template v-if="uiLanguageContext !== null">\n                                    <swag-customized-products-entity-single-select\n                                        {% if VUE3 %}\n                                            v-model:value="condition.templateExclusionOperatorId"\n                                        {% else %}\n                                            v-model="condition.templateExclusionOperatorId"\n                                        {% endif %}\n                                        class="sw-condition-operator-select__select"\n                                        size="medium"\n                                        :placeholder="$tc(\'swag-customized-products-condition-tree.node.operatorSelectPlaceholder\')"\n                                        :criteria="operatorCriteria"\n                                        :context="uiLanguageContext"\n                                        :showSelectionError="!!conditionTemplateExclusionOperatorIdError"\n                                        labelProperty="label"\n                                        :entity="operatorRepository.entityName"\n                                        :disabled="disabled || !condition.templateOptionId"\n                                        required\n                                        @change="onOperatorChange">\n                                    </swag-customized-products-entity-single-select>\n                                </template>\n                            {% endblock %}\n                        </div>\n\n                        {% block swag_customized_product_condition_tree_node_inner_condition_context_button %}\n                            <sw-context-button class="sw-condition__context-button">\n                                {% block swag_customized_product_condition_tree_node_inner_condition_context_button_inner %}\n                                    <sw-context-menu-item\n                                        @click="$emit(\'delete-condition\', index)"\n                                        :disabled="disabled"\n                                        variant="danger">\n                                        {{ $tc(\'global.default.delete\') }}\n                                    </sw-context-menu-item>\n                                {% endblock %}\n                            </sw-context-button>\n                        {% endblock %}\n                    </div>\n                {% endblock %}\n\n                {% block swag_customized_product_condition_tree_node_inner_condition_error %}\n                    <swag-customized-products-condition-tree-node-error\n                        :optionError="conditionTemplateOptionIdError"\n                        :operatorError="conditionTemplateExclusionOperatorIdError"\n                        :showOperatorError="!!condition.templateOptionId">\n                    </swag-customized-products-condition-tree-node-error>\n                {% endblock %}\n            {% endblock %}\n        </div>\n    </div>\n{% endblock %}\n',inject:["repositoryFactory","SwagCustomizedProductsUiLanguageContextHelper"],props:{templateId:{type:String,required:!0},context:{type:Object,required:!0},condition:{type:Object,required:!0},index:{type:Number,required:!0},optionCriteria:{type:Object,required:!0},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{loadedOption:null,uiLanguageContext:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(Object(n),!0).forEach((function(t){Y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({optionRepository:function(){return this.repositoryFactory.create("swag_customized_products_template_option")},operatorRepository:function(){return this.repositoryFactory.create("swag_customized_products_template_exclusion_operator")},operatorCriteria:function(){var e=new ee(1,null);return this.loadedOption?(e.addFilter(ee.equals("templateOptionType",this.loadedOption.type)),e):e}},te("condition",["templateOptionId","templateExclusionOperatorId"])),created:function(){this.createdComponent()},methods:{createdComponent:function(){var e=this;return this.SwagCustomizedProductsUiLanguageContextHelper().then((function(t){var n=Shopware.Context.api;n.languageId=t,e.uiLanguageContext=n}))},onOptionChange:function(e,t){this.condition.templateExclusionOperatorId=null,X.types.isEmpty(this.conditionTemplateOptionIdError)||Shopware.State.dispatch("error/removeApiError",{expression:this.conditionTemplateOptionIdError.selfLink}),t&&(this.loadedOption=t)},onOperatorChange:function(){X.types.isEmpty(this.conditionTemplateExclusionOperatorIdError)||Shopware.State.dispatch("error/removeApiError",{expression:this.conditionTemplateExclusionOperatorIdError.selfLink})},onOptionLoaded:function(e){this.loadedOption=e}}});n("y+4J");function ne(e){return(ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function oe(){oe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof p?t:p,a=Object.create(r.prototype),s=new S(i||[]);return o(a,"_invoke",{value:v(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function p(){}function m(){}function _(){}var f={};c(f,r,(function(){return this}));var g=Object.getPrototypeOf,h=g&&g(g(C([])));h&&h!==t&&n.call(h,r)&&(f=h);var w=_.prototype=p.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function i(o,r,a,s){var c=d(e[o],e,r);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==ne(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var r;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){i(e,n,t,o)}))}return r=r?r.then(o,o):o()}})}function v(e,t,n){var o="suspendedStart";return function(i,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw r;return O()}for(n.method=i,n.arg=r;;){var a=n.delegate;if(a){var s=z(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=d(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function z(e,t){var n=t.method,o=e.iterator[n];if(void 0===o)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,z(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),u;var i=d(o,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return m.prototype=_,o(w,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:m,configurable:!0}),m.displayName=c(_,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,i,r){void 0===r&&(r=Promise);var a=new y(l(t,n,o,i),r);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(w),c(w,s,"Generator"),c(w,r,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),c=n.call(r,"finallyLoc");if(s&&c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function ie(e,t,n,o,i,r,a){try{var s=e[r](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,i)}var re=Shopware.Component;re.register("swag-customized-products-option-detail-modal",{template:'{% block swag_customized_products_option_detail_modal %}\n    <sw-modal class="swag-customized-products-option-detail-modal"\n              :title="getTitle(option)"\n              :variant="modalSize"\n              @modal-close="onCancel">\n\n        <component v-if="componentIsLoaded"\n                   :is="componentName"\n                   :option="option"\n                   :versionContext="versionContext"\n                   ref="dynamicComponent"\n                   @option-valid="onOptionValid"\n                   @save-method-add="onSaveMethodAdd">\n        </component>\n\n        <div v-else>\n            {{ $tc(\'swag-customized-products.optionDetailModal.noFormFound\') }}\n        </div>\n\n        <template #modal-footer>\n\n            {% block swag_option_detail_modal_cancel %}\n                <sw-button size="small"\n                           class="btn-cancel"\n                           @click="onCancel">\n                    {{ $tc(\'global.default.cancel\') }}\n                </sw-button>\n            {% endblock %}\n\n            {% block swag_option_detail_modal_save %}\n                <sw-button variant="primary"\n                           size="small"\n                           :isLoading="isLoading"\n                           :disabled="!valid"\n                           @click="onSave">\n                    {{ $tc(\'global.default.apply\') }}\n                </sw-button>\n            {% endblock %}\n        </template>\n    </sw-modal>\n{% endblock %}\n',inject:["repositoryFactory"],mixins:["swag-customized-products-option","notification"],props:{option:{type:Object,required:!0},optionRepository:{type:Object,required:!0},versionContext:{type:Object,required:!0}},data:function(){return{valid:!1,optionClone:void 0,saveMethods:[],isLoading:!1}},computed:{componentName:function(){return"swag-customized-products-option-type-".concat(this.option.type)},componentIsLoaded:function(){return re.getComponentRegistry().has(this.componentName)},modalSize:function(){return["colorselect","imageselect","select"].includes(this.option.type)?"full":"large"}},methods:{onCancel:function(){var e=this;return this.option.isEdit?this.$emit("modal-close"):this.optionRepository.deleteVersion(this.option.id,this.versionContext.versionId,this.versionContext).then((function(){e.$emit("modal-close")}))},onSave:function(){var e,t=this;return(e=oe().mark((function e(){var n,o;return oe().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.isLoading=!0,delete t.option.typeProperties.optionAdd,e.prev=2,n=t.saveMethods.map((function(e){return e()})),e.next=6,Promise.all(n);case 6:return e.next=8,t.optionRepository.save(t.option,t.versionContext);case 8:t.$emit("modal-close"),e.next=17;break;case 11:e.prev=11,e.t0=e.catch(2),o=t.$tc("global.notification.notificationSaveErrorMessage",0,{entityName:t.option.displayName}),"no-children"===e.t0.message&&(o=t.$tc("swag-customized-products.optionDetailModal.noChildren")),t.createNotificationError({message:o}),t.isLoading=!1;case 17:t.isLoading=!1;case 18:case"end":return e.stop()}}),e,null,[[2,11]])})),function(){var t=this,n=arguments;return new Promise((function(o,i){var r=e.apply(t,n);function a(e){ie(r,o,i,a,s,"next",e)}function s(e){ie(r,o,i,a,s,"throw",e)}a(void 0)}))})()},onSaveMethodAdd:function(e){this.saveMethods.push(e)},onOptionValid:function(e){this.valid=e},getTitle:function(e){return"".concat(this.translateOption(e.type),": ").concat(e.translated.displayName)}}});n("zQTJ"),n("0kp7");function ae(e){return(ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==ae(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==ae(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===ae(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ce=Shopware.Component,le=Shopware.Data.Criteria;ce.register("swag-customized-products-exclusion-list",{template:'{% block swag_customized_products_exclusion_list %}\n    <div class="swag_customized_products_exclusion_list">\n\n        {% block swag_customized_products_exclusion_list_card %}\n            <sw-card :title="$tc(\'swag-customized-products.detail.tabGeneral.cardExclusion.title\')">\n\n                {% block swag_customized_products_exclusion_list_grid_toolbar %}\n                    <template #toolbar>\n                        <sw-card-filter\n                                :placeholder="$tc(\'swag-customized-products.detail.tabGeneral.cardExclusion.placeholderSearch\')"\n                                @sw-card-filter-term-change="onExclusionSearch">\n                            <template #filter>\n\n                                {% block sw_customer_detail_addresses_add_button %}\n                                    <sw-button\n                                            class="swag-customized-products-detail-base__add-option-action"\n                                            size="small"\n                                            variant="ghost"\n                                            :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                                            @click="onExclusionAdd">\n                                        {{ $tc(\'swag-customized-products.detail.tabGeneral.cardExclusion.buttonAdd\') }}\n                                    </sw-button>\n                                {% endblock %}\n                            </template>\n                        </sw-card-filter>\n                    </template>\n                {% endblock %}\n\n                {% block swag_customized_products_exclusion_list_grid_content %}\n                    <template #grid>\n                        <sw-one-to-many-grid\n                            v-if="exclusions.length > 0"\n                            class="swag-customized-products-detail-base__option-grid"\n                            :collection="exclusions"\n                            :localMode="false"\n                            :columns="exclusionColumns"\n                            :isLoading="isLoading"\n                            sortBy="name"\n                            :skeletonItemAmount="5"\n                            ref="grid"\n                            @select-item="onExclusionSelectionChanged"\n                            @select-all-items="onExclusionSelectionChanged">\n\n                            {% block swag_customized_products_exclusion_list_grid_columns %}\n                                {% block swag_customized_products_exclusion_list_grid_column_name %}\n                                    <template #column-name="{ item }">\n                                        <a class="link" @click="onExclusionEdit(item)">\n                                            {{ item.name }}\n                                        </a>\n                                    </template>\n                                {% endblock %}\n\n                                {% block swag_customized_products_exclusion_list_grid_column_type %}\n                                    <template #column-type="{ item }">\n\n                                        {% block swag_customized_products_exclusion_list_grid_column_type_content %}\n                                            {{ translateOption(item.type) }}\n                                        {% endblock %}\n                                    </template>\n                                {% endblock %}\n\n                                {% block swag_customized_products_exclusion_list_grid_actions %}\n                                    <template #actions="{ item }">\n\n                                        {% block swag_customized_products_exclusion_list_grid_actions_edit %}\n                                            <sw-context-menu-item @click="onExclusionEdit(item)">\n                                                {{ $tc(\'global.default.edit\') }}\n                                            </sw-context-menu-item>\n                                        {% endblock %}\n\n                                        {% block swag_customized_products_exclusion_list_grid_actions_delete %}\n                                            <sw-context-menu-item\n                                                variant="danger"\n                                                @click="onExclusionDelete(item)"\n                                                :disabled="!acl.can(\'swag_customized_products_template.editor\')">\n                                                {{ $tc(\'global.default.delete\') }}\n                                            </sw-context-menu-item>\n                                        {% endblock %}\n                                    </template>\n                                {% endblock %}\n\n                                {% block swag_customized_products_exclusion_list_grid_bulk_actions %}\n                                    <template #bulk>\n\n                                        {% block swag_customized_products_exclusion_list_grid_bulk_actions_delete %}\n                                            <a class="link link-danger"\n                                               @click="onExclusionsBulkDelete"\n                                               v-if="acl.can(\'swag_customized_products_template.editor\')">\n                                                {{ $tc(\'global.default.delete\') }}\n                                            </a>\n                                        {% endblock %}\n                                    </template>\n                                {% endblock %}\n                            {% endblock %}\n                        </sw-one-to-many-grid>\n\n                        {% block swag_customized_products_exclusion_list_grid_empty_state %}\n                            <template v-else>\n                                <div class="swag-customized-products-exclusion-list__empty-state">\n                                    <img :src="\'/administration/static/img/empty-states/products-empty-state.svg\' | asset">\n\n                                    <div class="swag-customized-products-exclusion-list__empty-state-label">\n                                        <p>{{ $tc(\'swag-customized-products.detail.tabGeneral.cardExclusion.emptyTitle\', (searchTerm.length <= 0) ? 1 : 0) }}</p>\n                                    </div>\n                                </div>\n                            </template>\n                        {% endblock %}\n                    </template>\n                {% endblock %}\n            </sw-card>\n        {% endblock %}\n\n        {% block swag_customized_products_exclusion_modal %}\n            <swag-customized-products-exclusion-modal\n                v-if="showModal"\n                :templateId="templateId"\n                :exclusionId="exclusionId"\n                :context="context"\n                @modal-close="onExclusionModalClose">\n            </swag-customized-products-exclusion-modal>\n        {% endblock %}\n\n        {% block swag_customized_products_exclusion_delete_modal %}\n            <swag-customized-products-exclusion-delete-modal\n                v-if="showDeleteModal"\n                :currentSelection="selectedElements"\n                :currentExclusionName="currentName"\n                @confirm-delete="onExclusionConfirmDelete"\n                @close-modal="onExclusionCloseDeleteModal">\n            </swag-customized-products-exclusion-delete-modal>\n        {% endblock %}\n    </div>\n{% endblock %}\n',inject:["repositoryFactory","acl"],props:{templateId:{type:String,required:!0},context:{type:Object,required:!0}},data:function(){return{exclusions:[],exclusionId:null,isLoading:!1,showModal:!1,selectedElements:{},showDeleteModal:!1,currentName:"",searchTerm:""}},computed:{exclusionRepository:function(){return this.repositoryFactory.create("swag_customized_products_template_exclusion")},exclusionColumns:function(){return[{property:"name",label:this.$tc("swag-customized-products.detail.tabGeneral.cardExclusion.labelName"),sortable:!0}]}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.fetchExclusions()},fetchExclusions:function(){var e=this;return this.isLoading=!0,this.exclusionRepository.search(this.getListCriteria(),this.context).then((function(t){e.exclusions=t,e.$refs.grid&&e.$refs.grid.applyResult(t),e.isLoading=!1})).catch((function(){e.isLoading=!1}))},getListCriteria:function(){return new le(1,10).addFilter(le.equals("templateId",this.templateId)).addSorting(le.sort("name")).setTerm(this.searchTerm)},onExclusionAdd:function(){this.showModal=!0},onExclusionModalClose:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.showModal=!1,this.exclusionId=null,e&&this.fetchExclusions()},onExclusionEdit:function(e){this.exclusionId=e.id,this.showModal=!0},onExclusionDelete:function(e){this.showDeleteModal=!0,this.selectedElements=se({},e.id,e),this.currentName=e.name},onExclusionsBulkDelete:function(){this.showDeleteModal=!0},onExclusionConfirmDelete:function(){var e=this,t=Object.keys(this.selectedElements).reduce((function(t,n){return t.push(e.exclusionRepository.deleteVersion(n,e.context.versionId,e.context)),t}),[]);Promise.all(t).then((function(){return e.fetchExclusions()})).then((function(){e.$nextTick((function(){e.onExclusionCloseDeleteModal()})),e.$refs.grid&&e.$refs.grid.resetSelection()}))},onExclusionCloseDeleteModal:function(){this.showDeleteModal=!1},onExclusionSelectionChanged:function(e){this.selectedElements=e;var t=Object.values(this.selectedElements);t.length&&(this.currentName=t[0].name)},onExclusionSearch:function(e){this.searchTerm=e,this.fetchExclusions()}}});function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function pe(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==de(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==de(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===de(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var me=Shopware.Component,_e=Shopware.Data.Criteria,fe=Shopware.Component.getComponentHelper().mapPropertyErrors;me.register("swag-customized-products-exclusion-modal",{template:'{% block swag_customized_products_exclusion_modal %}\n    <sw-modal\n        v-if="exclusion"\n        :title="$tc(\'swag-customized-products.detail.tabGeneral.cardExclusion.modal.title\', !!exclusion.name, {name: exclusion.name})"\n        variant="large"\n        :isLoading="isLoading"\n        @modal-close="onClose">\n\n        {% block swag_customized_products_exclusion_modal_content %}\n            <div>\n                <sw-text-field\n                    {% if VUE3 %}\n                        v-model:value="exclusion.name"\n                    {% else %}\n                        v-model="exclusion.name"\n                    {% endif %}\n                    name="sw-field--exclusion-name"\n                    :label="$tc(\'swag-customized-products.detail.tabGeneral.cardExclusion.modal.nameLabel\')"\n                    :error="exclusionNameError"\n                    :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                    required>\n                </sw-text-field>\n\n                <swag-customized-products-condition-tree\n                    :templateId="templateId"\n                    :exclusionId="exclusion.id"\n                    :conditions="exclusion.conditions"\n                    :context="context"\n                    @delete-condition="deleteCondition">\n                </swag-customized-products-condition-tree>\n            </div>\n        {% endblock %}\n\n        {% block swag_customized_products_exclusion_modal_footer %}\n            <template #modal-footer>\n\n                {% block swag_customized_products_exclusion_modal_cancel %}\n                    <sw-button size="small"\n                               @click="onClose">\n                        {{ $tc(\'global.default.cancel\') }}\n                    </sw-button>\n                {% endblock %}\n\n                {% block swag_customized_products_exclusion_modal_confirm %}\n                    <sw-button size="small"\n                               variant="primary"\n                               :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                               @click="onSave">\n                        {{ $tc(\'global.default.save\') }}\n                    </sw-button>\n                {% endblock %}\n            </template>\n        {% endblock %}\n    </sw-modal>\n{% endblock %}\n',inject:["repositoryFactory","ruleConditionDataProviderService","acl"],props:{templateId:{type:String,required:!0},exclusionId:{type:String,required:!1,default:""},context:{type:Object,required:!0}},data:function(){return{exclusion:null,isLoading:!1}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(Object(n),!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({exclusionRepository:function(){return this.repositoryFactory.create("swag_customized_products_template_exclusion")},conditionRepository:function(){return this.repositoryFactory.create("swag_customized_products_template_exclusion_condition")},ruleConditionRepository:function(){return this.repositoryFactory.create("rule_condition")},associationValue:function(){return this.exclusion.ruleId?this.exclusion.ruleId:""}},fe("exclusion",["name"])),created:function(){this.createdComponent()},methods:{createdComponent:function(){var e=this;if(this.isLoading=!0,this.exclusionId){var t=new _e(1,1);return t.setIds([this.exclusionId]),t.addAssociation("conditions.templateExclusionOperator"),void this.exclusionRepository.search(t,this.context).then((function(t){e.exclusion=t.first(),e.isLoading=!1})).catch((function(){e.isLoading=!1}))}this.exclusion=this.exclusionRepository.create(this.context),this.exclusion.templateId=this.templateId,this.isLoading=!1},onSave:function(){var e=this;this.isLoading=!0,this.exclusionRepository.save(this.exclusion,this.context).then((function(){e.isLoading=!1,e.onClose(!0)})).catch((function(){e.isLoading=!1}))},deleteCondition:function(e){if(this.exclusion.conditions.length<=2){var t=this.exclusion.conditions.getAt(e).id;this.exclusion.conditions.remove(t);var n=this.conditionRepository.create();return n.templateExclusionId=this.exclusionId,n.templateOptionVersionId=this.context.versionId,void this.exclusion.conditions.add(n)}this.exclusion.conditions=this.exclusion.conditions.filter((function(t,n){return n!==e}))},onClose:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.$emit("modal-close",e)}}});Shopware.Component.register("swag-customized-products-exclusion-delete-modal",{template:'{% block swag_customized_products_exclusion_delete_modal %}\n    <sw-modal :title="$tc(\'swag-customized-products.detail.tabGeneral.cardExclusion.titleModalDelete\')"\n              variant="small"\n              @modal-close="onExclusionCloseDeleteModal">\n\n        {% block swag_customized_products_exclusion_delete_modal_text %}\n            <p class="swag-customized-products-detail-base__confirm-delete-text">\n                {{ getModalText }}\n            </p>\n        {% endblock %}\n\n        {% block swag_customized_products_exclusion_delete_modal_footer %}\n        <template #modal-footer>\n\n            {% block swag_customized_products_exclusion_delete_modal_cancel %}\n                <sw-button size="small"\n                           @click="onExclusionCloseDeleteModal">\n                    {{ $tc(\'global.default.cancel\') }}\n                </sw-button>\n            {% endblock %}\n\n            {% block swag_customized_products_exclusion_delete_modal_confirm %}\n                {% block swag_customized_products_exclusion_delete_modal_confirm_single %}\n                    <sw-button size="small"\n                               variant="primary"\n                               @click="onExclusionConfirmDelete">\n                        {{ $tc(\'global.default.delete\') }}\n                    </sw-button>\n                {% endblock %}\n            {% endblock %}\n        </template>\n        {% endblock %}\n    </sw-modal>\n{% endblock %}',props:{currentSelection:{type:Object,required:!0},currentExclusionName:{type:String,required:!1,default:function(){return""}}},computed:{selectedExclusionsCount:function(){return Object.values(this.currentSelection).length},getModalText:function(){return this.$tc("swag-customized-products.detail.tabGeneral.cardExclusion.textModalDelete",Math.max(this.selectedExclusionsCount,1),{count:this.selectedExclusionsCount,name:this.currentExclusionName})}},methods:{onExclusionConfirmDelete:function(){this.$emit("confirm-delete")},onExclusionCloseDeleteModal:function(){this.$emit("close-modal")}}});n("b5DB");Shopware.Component.extend("swag-customized-products-entity-single-select","sw-entity-single-select",{template:'{% block sw_entity_single_select %}\n    <div class="swag-customized-products-entity-single-select"\n         :class="{ \'has--error\': !!showSelectionError }">\n        {% parent %}\n    </div>\n{% endblock %}',props:{showSelectionError:{type:Boolean,required:!1,default:!1}},computed:{results:function(){var e=this;if(this.singleSelection&&this.resultCollection){var t=this.createCollection(this.resultCollection);return t.push(this.singleSelection),this.resultCollection.forEach((function(n){Object.prototype.hasOwnProperty.call(n,"typeProperties")&&Object.prototype.hasOwnProperty.call(n.typeProperties,"isMultiSelect")&&!0===n.typeProperties.isMultiSelect||n.id!==e.singleSelection.id&&t.add(n)})),t}return this.resultCollection}},methods:{loadSelected:function(){var e=this;return""===this.value||null===this.value?Promise.resolve():(this.isLoading=!0,this.repository.get(this.value,this.context).then((function(t){return e.singleSelection=t,e.isLoading=!1,e.$emit("load",t),t})))},displaySearch:function(e){var t=this;e=this.filterResult(e),this.resultCollection?e.forEach((function(e){t.resultCollection.has(e.id)||t.resultCollection.push(e)})):this.resultCollection=e},filterResult:function(e){return e.filter((function(e){return!Object.prototype.hasOwnProperty.call(e,"typeProperties")||!Object.prototype.hasOwnProperty.call(e.typeProperties,"isMultiSelect")||!0!==e.typeProperties.isMultiSelect}))}}});n("4DiR");var ge=Shopware,he=ge.Component,we=ge.Utils;he.register("swag-customized-products-condition-tree-node-error",{template:'{% block swag_customized_products_condition_tree_node_error %}\n    <div class="sw-condition__container swag-customized-products-condition-tree-node-error">\n\n        {% block swag_customized_products_condition_tree_node_error_option %}\n            <div class="swag-customized-products-condition-tree-node-error__field swag-customized-products-condition-tree-node-error__option">\n                <sw-field-error :error="optionError">\n                </sw-field-error>\n            </div>\n        {% endblock %}\n\n        {% block swag_customized_products_condition_tree_node_error_operator %}\n            <div v-if="showOperatorError"\n                 class="swag-customized-products-condition-tree-node-error__field swag-customized-products-condition-tree-node-error__operator">\n                <sw-field-error :error="operatorError">\n                </sw-field-error>\n            </div>\n        {% endblock %}\n    </div>\n{% endblock %}',props:{optionError:{type:Object,required:!1,default:function(){return{}}},operatorError:{type:Object,required:!1,default:function(){return{}}},showOperatorError:{type:Boolean,required:!1,default:!0}},computed:{hasError:function(){return!(we.types.isEmpty(this.optionError)||we.types.isEmpty(this.operatorError))}}});n("hrM5");function be(e){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ye(){ye=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},r=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function l(e,t,n,i){var r=t&&t.prototype instanceof p?t:p,a=Object.create(r.prototype),s=new S(i||[]);return o(a,"_invoke",{value:v(e,n,s)}),a}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=l;var u={};function p(){}function m(){}function _(){}var f={};c(f,r,(function(){return this}));var g=Object.getPrototypeOf,h=g&&g(g(C([])));h&&h!==t&&n.call(h,r)&&(f=h);var w=_.prototype=p.prototype=Object.create(f);function b(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function y(e,t){function i(o,r,a,s){var c=d(e[o],e,r);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==be(u)&&n.call(u,"__await")?t.resolve(u.__await).then((function(e){i("next",e,a,s)}),(function(e){i("throw",e,a,s)})):t.resolve(u).then((function(e){l.value=e,a(l)}),(function(e){return i("throw",e,a,s)}))}s(c.arg)}var r;o(this,"_invoke",{value:function(e,n){function o(){return new t((function(t,o){i(e,n,t,o)}))}return r=r?r.then(o,o):o()}})}function v(e,t,n){var o="suspendedStart";return function(i,r){if("executing"===o)throw new Error("Generator is already running");if("completed"===o){if("throw"===i)throw r;return O()}for(n.method=i,n.arg=r;;){var a=n.delegate;if(a){var s=z(a,n);if(s){if(s===u)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===o)throw o="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o="executing";var c=d(e,t,n);if("normal"===c.type){if(o=n.done?"completed":"suspendedYield",c.arg===u)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(o="completed",n.method="throw",n.arg=c.arg)}}}function z(e,t){var n=t.method,o=e.iterator[n];if(void 0===o)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,z(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),u;var i=d(o,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,u;var r=i.arg;return r?r.done?(t[e.resultName]=r.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,u):r:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,u)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function S(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function C(e){if(e){var t=e[r];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function t(){for(;++o<e.length;)if(n.call(e,o))return t.value=e[o],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:O}}function O(){return{value:void 0,done:!0}}return m.prototype=_,o(w,"constructor",{value:_,configurable:!0}),o(_,"constructor",{value:m,configurable:!0}),m.displayName=c(_,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===m||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,_):(e.__proto__=_,c(e,s,"GeneratorFunction")),e.prototype=Object.create(w),e},e.awrap=function(e){return{__await:e}},b(y.prototype),c(y.prototype,a,(function(){return this})),e.AsyncIterator=y,e.async=function(t,n,o,i,r){void 0===r&&(r=Promise);var a=new y(l(t,n,o,i),r);return e.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},b(w),c(w,s,"Generator"),c(w,r,(function(){return this})),c(w,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var o in t)n.push(o);return n.reverse(),function e(){for(;n.length;){var o=n.pop();if(o in t)return e.value=o,e.done=!1,e}return e.done=!0,e}},e.values=C,S.prototype={constructor:S,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function o(n,o){return a.type="throw",a.arg=e,t.next=n,o&&(t.method="next",t.arg=void 0),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var r=this.tryEntries[i],a=r.completion;if("root"===r.tryLoc)return o("end");if(r.tryLoc<=this.prev){var s=n.call(r,"catchLoc"),c=n.call(r,"finallyLoc");if(s&&c){if(this.prev<r.catchLoc)return o(r.catchLoc,!0);if(this.prev<r.finallyLoc)return o(r.finallyLoc)}else if(s){if(this.prev<r.catchLoc)return o(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return o(r.finallyLoc)}}}},abrupt:function(e,t){for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var r=i;break}}r&&("break"===e||"continue"===e)&&r.tryLoc<=t&&t<=r.finallyLoc&&(r=null);var a=r?r.completion:{};return a.type=e,a.arg=t,r?(this.method="next",this.next=r.finallyLoc,u):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),u},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),k(n),u}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var o=n.completion;if("throw"===o.type){var i=o.arg;k(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:C(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),u}},e}function ve(e,t,n,o,i,r,a){try{var s=e[r](a),c=s.value}catch(e){return void n(e)}s.done?t(c):Promise.resolve(c).then(o,i)}Shopware.Component.register("swag-customized-products-media-preview",{template:'<div class="swag-customized-products-media-preview sw-field">\n    <div class="sw-field__label">\n        {{ label }}\n    </div>\n\n    <sw-alert>\n        {{ $tc(\'swag-customized-products-configuration-modal.warningImagePreview\') }}\n    </sw-alert>\n\n    <template v-for="media in resolvedMediaItems">\n        <swag-customized-products-media-media-item\n            :item="media"\n            :key="media.id"\n            :selected="false"\n            :showSelectionIndicator="false"\n            :isList="true">\n        </swag-customized-products-media-media-item>\n    </template>\n</div>\n',inject:["repositoryFactory"],props:{optionId:{type:String,required:!0},mediaItems:{type:Array,required:!0},label:{type:String,required:!0}},data:function(){return{resolvedMediaItems:[]}},computed:{mediaRepository:function(){return this.repositoryFactory.create("media")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.fetchItems()},fetchItems:function(){var e=this;this.mediaItems.map(function(){var t,n=(t=ye().mark((function t(n){return ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.mediaRepository.get(n.mediaId,Shopware.Context.api).then((function(t){e.resolvedMediaItems.push(t)}));case 1:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(o,i){var r=t.apply(e,n);function a(e){ve(r,o,i,a,s,"next",e)}function s(e){ve(r,o,i,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}())}}});Shopware.Component.extend("swag-customized-products-media-media-item","sw-media-media-item",{template:'{% block sw_media_media_item_context_menu %}\n    <template #context-menu="{ item, startInlineEdit }">\n        <sw-context-menu-item\n            icon="default-action-cloud-download"\n            @click.prevent="onDownload(item.url)">\n                {{ $tc(\'sw-media.sidebar.actions.download\') }}\n        </sw-context-menu-item>\n    </template>\n{% endblock %}\n',methods:{onDownload:function(e){var t=document.createElement("a");t.setAttribute("download","download"),t.setAttribute("rel","noopener"),t.setAttribute("target","_blank"),t.setAttribute("href",e),t.style.display="hidden",document.body.appendChild(t),t.click(),this.$nextTick((function(){t.parentNode.removeChild(t)}))}}});var ze=Shopware,xe=ze.Component,ke=ze.Mixin;xe.register("swag-customized-products-tree-item-position",{template:'{% block swag_customized_products_tree_item_position %}\n    <sw-button-group class="swag-customized-product-tree-item-position__group">\n\n        {% block swag_customized_products_tree_item_position_button_up %}\n            <sw-button class="swag-customized-product-tree-item-position__arrow arrow_up"\n                       size="x-small"\n                       :disabled="disabled || itemMin"\n                       square\n                       @click="onLowerPositionValue(item)">\n\n                {% block swag_customized_products_tree_item_position_button_up_content %}\n                    <sw-icon name="regular-chevron-up-s" size="12"></sw-icon>\n                {% endblock %}\n            </sw-button>\n        {% endblock %}\n\n        {% block swag_customized_products_tree_item_position_button_down %}\n            <sw-button class="swag-customized-product-tree-item-position__arrow arrow_down"\n                       size="x-small"\n                       :disabled="disabled || itemMax"\n                       square\n                       @click="onRaisePositionValue(item)">\n\n                {% block swag_customized_products_tree_item_position_button_down_content %}\n                    <sw-icon name="regular-chevron-down-s" size="12"></sw-icon>\n                {% endblock %}\n            </sw-button>\n        {% endblock %}\n    </sw-button-group>\n{% endblock %}\n',mixins:[ke.getByName("position")],props:{collection:{type:Array,required:!0},item:{type:Object,required:!0},disabled:{type:Boolean,required:!1,default:!1}},computed:{itemMin:function(){var e=this;return this.collection.every((function(t){return e.item.position<=t.position}))},itemMax:function(){var e=this;return this.collection.every((function(t){return e.item.position>=t.position}))}},methods:{onLowerPositionValue:function(){this.lowerPositionValue(this.collection,this.item),this.$emit("lower-position-value",this.collection),this.$emit("position-changed",this.collection)},onRaisePositionValue:function(){this.raisePositionValue(this.collection,this.item),this.$emit("raise-position-value",this.collection),this.$emit("position-changed",this.collection)}}});n("Ze53");Shopware.Component.extend("swag-customized-products-option-list","sw-one-to-many-grid",{template:'{% block sw_data_grid_wrapper %}\n    <div class="swag-customized-products-option-list">\n        {% parent %}\n    </div>\n{% endblock %}\n\n{% block sw_data_grid_slot_pagination %}{% endblock %}'});n("Kk80");var Se=Shopware.Component,Ce=Shopware.Data.Criteria,Oe=Shopware.Utils.createId,Pe=Shopware.Utils.types;Se.register("swag-customized-products-option-tree",{template:'{% block swag_customized_products_option_tree %}\n    <div class="swag-customized-products-option-tree">\n        <template v-if="!isLoading">\n\n            {% block swag_customized_products_option_tree_root_element %}\n                <swag-customized-products-option-tree-item\n                    :item="rootElement"\n                    :isRootElement="true"\n                    :isEditing="false"\n                    :isActive="rootElement.id === activeItemId"\n                    :isCreating="!!currentEditingId"\n                    :isLoading="isLoading"\n                    :collection="[]"\n                    @new-element-create="onCreateNewElement"\n                    @active-item-set="onSetActiveItem">\n                </swag-customized-products-option-tree-item>\n            {% endblock %}\n\n            {% block swag_customized_products_option_tree_sub_elements %}\n                <swag-customized-products-option-tree-item\n                    v-for="optionValue in optionValues"\n                    class="swag-customized-products-option-tree__element-sub"\n                    :key="optionValue.id"\n                    :item="optionValue"\n                    :collection="optionValues"\n                    :isRootElement="false"\n                    :isEditing="optionValue.id === currentEditingId"\n                    :isActive="optionValue.id === activeItemId"\n                    :isLoading="isLoading"\n                    @new-element-create="onCreateNewElement"\n                    @display-name-edit="onEditDisplayName"\n                    @display-name-start-editing="onStartInlineEditing"\n                    @create-item-abort="onCreateItemAbort"\n                    @create-item-blur="onCreateItemBlur"\n                    @active-item-set="onSetActiveItem"\n                    @item-delete="onDeleteItem">\n                </swag-customized-products-option-tree-item>\n            {% endblock %}\n\n        </template>\n\n        {% block swag_customized_products_option_tree_loader %}\n            <sw-loader v-else></sw-loader>\n        {% endblock %}\n\n    </div>\n{% endblock %}\n',inject:["repositoryFactory"],mixins:["position"],props:{option:{type:Object,required:!0},versionContext:{type:Object,required:!0}},data:function(){return{currentVersionContext:null,rootElementId:{},optionValues:[],valuesToDelete:[],currentEditingId:null,lastNewOptionValuePosition:null,isLoading:!0,isCreating:!1,activeItemId:null}},computed:{templateOptionValueRepository:function(){return this.repositoryFactory.create("swag_customized_products_template_option_value")},templateOptionId:function(){return this.option.id},rootElement:function(){var e=this.option,t=e.displayName,n=e.type,o=e.typeProperties,i=e.translated;return{id:this.rootElementId,isRoot:!0,_isNew:!1,translated:i,displayName:t,type:n,typeProperties:o}}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.rootElementId=Oe(),this.setActiveItemId(this.rootElement.id),this.fetchOptionValues(),this.$emit("save-method-add",this.saveAllOptionValues.bind(this))},fetchOptionValues:function(){var e=this,t=this.createOptionValueCriteria();return this.isLoading=!0,this.templateOptionValueRepository.search(t,this.versionContext).then((function(t){return e.optionValues=t,e.$emit("option-value-change",e.optionValues),e.isLoading=!1,e.optionValues}))},createOptionValueCriteria:function(){return new Ce(1,null).addFilter(Ce.equals("templateOptionId",this.templateOptionId)).addAssociation("prices").addSorting(Ce.sort("position")).addSorting(Ce.sort("createdAt")).setLimit(500)},onCreateNewElement:function(){var e=this;this.$nextTick((function(){e.isCreating||(e.isCreating=!0,e.getNewPosition(e.templateOptionValueRepository,e.createOptionValueCriteria(),e.versionContext).then((function(t){e.constructNewElement(t)})).finally((function(){e.isCreating=!1})))}))},constructNewElement:function(e){this.lastNewOptionValuePosition=this.lastNewOptionValuePosition>=e?this.lastNewOptionValuePosition+1:e;var t=this.templateOptionValueRepository.create(this.versionContext);t.templateOptionId=this.templateOptionId,t.position=this.lastNewOptionValuePosition,this.$set(t,"value",{}),this.$set(t.value,"_value",""),this.currentEditingId=t.id,this.optionValues.add(t),this.$emit("option-value-change",this.optionValues)},onEditDisplayName:function(e,t){var n=this.optionValues.get(t.id);n.displayName=e,this.currentEditingId=null,this.setActiveItemId(n.id),this.$emit("option-value-change",this.optionValues)},onStartInlineEditing:function(e){this.currentEditingId=e},onCreateItemAbort:function(e){this.currentEditingId=null,this.onDeleteItem(e)},onCreateItemBlur:function(e){e.displayName||this.onCreateItemAbort(e)},onDeleteItem:function(e){this.valuesToDelete.push(e.id),this.optionValues.remove(e.id),this.$emit("option-value-change",this.optionValues),this.setActiveItemId(this.rootElement.id)},onSetActiveItem:function(e){this.currentEditingId||this.setActiveItemId(e.id)},setActiveItemId:function(e){var t;t=e===this.rootElement.id?this.rootElement:this.optionValues.get(e),this.activeItemId=e,this.$emit("active-item-change",t),this.checkRequired(t.percentageSurcharge)||(t.percentageSurcharge=0)},checkRequired:function(e){return!Pe.isUndefined(e)&&(Pe.isNumber(e)||Pe.isString(e)&&e.length>0)},saveAllOptionValues:function(){var e=this,t=[],n=[];if(0===this.optionValues.length)return Promise.reject(new Error("no-children"));var o=this.optionValues.map((function(o){return new Promise((function(i){e.templateOptionValueRepository.save(o,e.versionContext).then((function(){t.push(o.id)})).catch((function(e){n.push(e)})).finally((function(){return i()}))}))}));return Promise.all(o).then((function(){return Promise.all(t.map((function(t){return e.reloadOptionValue(t)})))})).then((function(){if(n.length<=0)return Promise.all(e.deleteOptionValues());throw n[0]}))},deleteOptionValues:function(){var e=this;return this.valuesToDelete.map((function(t){return new Promise((function(n){e.templateOptionValueRepository.delete(t,e.versionContext).finally((function(){return n()}))}))}))},reloadOptionValue:function(e){var t=this;return this.templateOptionValueRepository.get(e,this.versionContext).then((function(n){var o=t.optionValues.findIndex((function(t){return t.id===e}));t.optionValues.remove(e),t.optionValues.addAt(n,o),t.$emit("option-value-change",t.optionValues)}))}}});n("q89k");Shopware.Component.register("swag-customized-products-option-tree-item",{template:'{% block swag_customized_products_option_tree_item %}\n    <div class="swag-customized-products-option-tree__element"\n         :class="{ \'is--active\': isActive }"\n         @click="onSetActiveItem(item)">\n\n        {% block swag_customized_products_option_tree_item_icon %}\n            <sw-icon v-if="isRootElement"\n                     class="swag-customized-products-option-tree__element-icon"\n                     name="regular-chevron-down-xxs"\n                     multicolor\n                     size="8">\n            </sw-icon>\n\n            <sw-icon v-else\n                     class="swag-customized-products-option-tree__element-icon"\n                     name="regular-circle-xxs"\n                     size="8">\n            </sw-icon>\n        {% endblock %}\n\n        {% block swag_customized_products_option_tree_item_inline_edit %}\n            <sw-confirm-field\n                v-if="isEditing"\n                {% if VUE3 %}\n                    v-model:value="item.displayName"\n                {% else %}\n                    v-model="item.displayName"\n                {% endif %}\n                class="swag-customized-products-option-tree_edit-item"\n                :preventEmptySubmit="true"\n                :placeholder="placeholder(item, \'displayName\', $tc(\'swag-customized-products-option-tree-item.general.placeholderElementName\'))"\n                ref="confirmField"\n                @input="onFinishNameEdit"\n                @blur="onBlurTreeItemInput(item)"\n                @submit-cancel="onBlurTreeItemInput(item)">\n            </sw-confirm-field>\n        {% endblock %}\n\n        {% block swag_customized_products_option_tree_item_label %}\n            <span v-else\n                  class="swag-customized-products-option-tree__element-name">\n                <template v-if="item.translated">\n                    {{ item.translated.displayName }}\n                </template>\n\n                <template v-else>\n                    {{ item.displayName }}\n                </template>\n            </span>\n        {% endblock %}\n\n        <swag-customized-products-tree-item-position\n            v-if="(!isRootElement && !isEditing && acl.can(\'swag_customized_products_template.editor\'))"\n            :item="item"\n            :collection="collection">\n        </swag-customized-products-tree-item-position>\n\n        {% block swag_customized_products_option_tree_item_context_actions %}\n            <sw-button-process\n                v-if="isRootElement"\n                class="swag-customized-products-option-tree__element-context-button"\n                :processSuccess="isCreating"\n                :disabled="isCreating || !acl.can(\'swag_customized_products_template.editor\')"\n                variant="ghost"\n                size="small"\n                @click.stop="onClickCreateNewElement">\n                {{ $tc(\'swag-customized-products-option-tree-item.actions.buttonCreateSubElement\') }}\n            </sw-button-process>\n\n            <sw-context-button v-else class="swag-customized-products-option-tree__element-context-button">\n                    {% block swag_customized_products_option_tree_item_context_actions_sub_element %}\n                        <sw-context-menu-item\n                            variant="danger"\n                            @click="onDeleteItem(item)"\n                            :disabled="!acl.can(\'swag_customized_products_template.editor\')">\n                            {{ $tc(\'global.default.delete\') }}\n                        </sw-context-menu-item>\n                    {% endblock %}\n            </sw-context-button>\n        {% endblock %}\n    </div>\n{% endblock %}\n',inject:["acl"],mixins:["placeholder"],props:{collection:{type:Array,required:!0},item:{type:Object,required:!0},isRootElement:{type:Boolean,required:!1,default:!1},isEditing:{type:Boolean,required:!0},isActive:{type:Boolean,required:!0},isCreating:{type:Boolean,required:!1,default:!1}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.registerWatcher()},registerWatcher:function(){var e=this;this.$watch("isEditing",(function(t){e.$emit("on-isEditing",e.onIsEditing(t))}),{deep:!0,immediate:!0})},onIsEditing:function(e){var t=this;this.$nextTick((function(){if(e&&void 0!==t.$refs.confirmField){var n=t.$refs.confirmField.$el.getElementsByTagName("input");n.length>0&&"text"===n[0].type&&n[0].focus()}}))},onClickCreateNewElement:function(){this.$emit("new-element-create")},onFinishNameEdit:function(e){this.$emit("display-name-edit",e,this.item)},onStartInlineEditing:function(e){this.$emit("display-name-start-editing",e)},onStopInlineEditing:function(){this.$emit("display-name-start-editing",null)},onCancelSubmit:function(e){this.$emit("create-item-abort",e)},onBlurTreeItemInput:function(e){this.$emit("create-item-blur",e)},onSetActiveItem:function(e){this.$emit("active-item-set",e)},onDeleteItem:function(e){this.$emit("item-delete",e)}}});n("fA0m");function Ie(e){return(Ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ee(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Te(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ie(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==Ie(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ie(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var De=Shopware.Component,Le=Shopware.Component.getComponentHelper().mapPropertyErrors;De.register("swag-customized-products-option-tree-content",{template:'{% block swag_customized_products_option_tree_content %}\n    <div v-if="data" class="swag-customized-products-option-tree-content" :key="data.id">\n\n        {% block swag_customized_products_option_tree_content_root %}\n            <template v-if="data.isRoot">\n\n                {% block swag_customized_products_option_tree_content_root_header %}\n                    <swag-customized-products-option-type-header\n                        :option="option"\n                        :data="data">\n                    </swag-customized-products-option-type-header>\n                {% endblock %}\n\n                {% block swag_customized_products_option_tree_content_root_slot %}\n                    <slot name="root-content" :data="data">\n                    </slot>\n                {% endblock %}\n            </template>\n        {% endblock %}\n\n        {% block swag_customized_products_option_tree_content_form %}\n            <div v-else class="swag-customized-products-tree-content__fields">\n\n                {% block swag_customized_products_option_tree_content_form_name %}\n                    <sw-text-field\n                        {% if VUE3 %}\n                            v-model:value="data.displayName"\n                        {% else %}\n                            v-model="data.displayName"\n                        {% endif %}\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        :label="$tc(\'swag-customized-products.optionDetailModal.optionType.nameLabel\')"\n                        :placeholder="$tc(\'swag-customized-products.detail.tabGeneral.placeholderDisplayName\')"\n                        :error="dataDisplayNameError"\n                        required>\n                    </sw-text-field>\n                {% endblock %}\n\n                {% block swag_customized_products_option_tree_content_form_item_number %}\n                    <sw-text-field\n                        {% if VUE3 %}\n                            v-model:value="data.itemNumber"\n                        {% else %}\n                            v-model="data.itemNumber"\n                        {% endif %}\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderItemNumber\')"\n                        :label="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberLabel\')"\n                        :helpText="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberHelpText\')">\n                    </sw-text-field>\n                {% endblock %}\n\n                {% block swag_customized_products_option_tree_content_form_slot %}\n                    <slot name="content" :data="data"></slot>\n                {% endblock %}\n            </div>\n        {% endblock %}\n\n        {% block swag_customized_products_option_tree_content_form_is_multi_select %}\n            <sw-checkbox-field\n                v-if="data.isRoot"\n                class="swag_customized_products_option_tree_content_form--is_multi_select"\n                :value="option.typeProperties.isMultiSelect"\n                :label="$tc(\'swag-customized-products.optionDetailModal.optionType.select.isMultiSelectLabel\')"\n                v-tooltip="multiSelectToolTip"\n                :disabled="option.templateExclusionConditions.length > 0 || !acl.can(\'swag_customized_products_template.editor\')"\n                @change="changeMultiSelect">\n            </sw-checkbox-field>\n        {% endblock %}\n\n        {% block swag_customized_products_option_tree_content_form_surcharges %}\n            <swag-customized-products-option-type-surcharges\n                :value="visibleValue"\n                :versionContext="versionContext"\n                :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                @prices-add="addPriceRule"\n                @price-add="addPrice"\n                @prices-remove="removePriceRule">\n            </swag-customized-products-option-type-surcharges>\n        {% endblock %}\n\n    </div>\n{% endblock %}\n',inject:["repositoryFactory","acl"],mixins:["placeholder"],props:{option:{type:Object,required:!0},data:{type:Object,required:!1,default:function(){return null}},versionContext:{type:Object,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ee(Object(n),!0).forEach((function(t){Te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ee(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({optionPriceRepository:function(){return this.repositoryFactory.create("swag_customized_products_template_option_price")},optionValuesPriceRepository:function(){return this.repositoryFactory.create("swag_customized_products_template_option_value_price")},visibleValue:function(){return this.data.isRoot?this.option:this.data},multiSelectToolTip:function(){return this.option.templateExclusionConditions.length>0?this.$tc("swag-customized-products.optionDetailModal.optionType.select.isMultiSelectTooltip.disabled"):this.$tc("swag-customized-products.optionDetailModal.optionType.select.isMultiSelectTooltip.enabled")}},Le("data",["displayName"])),methods:{changeMultiSelect:function(e){!0===e&&this.$set(this.option.typeProperties,"isDropDown",!1),this.$set(this.option.typeProperties,"isMultiSelect",e)},addPriceRule:function(e){e&&(this.data.isRoot?this.addOptionPriceRule(e):this.addOptionValuePriceRule(e))},addOptionPriceRule:function(e){var t=this.optionPriceRepository.create(this.versionContext);t.ruleId=e,t.templateOptionId=this.option.id,t.templateOptionVersionId=this.versionContext.versionId,t.price=[{currencyId:Shopware.Context.app.systemCurrencyId,linked:!0,gross:0,net:0}],this.option.prices.push(t)},addOptionValuePriceRule:function(e){var t=this.optionValuesPriceRepository.create(this.versionContext);t.ruleId=e,t.templateOptionValueId=this.data.id,t.templateOptionValueVersionId=this.versionContext.versionId,t.price=[{currencyId:Shopware.Context.app.systemCurrencyId,linked:!0,gross:0,net:0}],this.data.prices.push(t)},addPrice:function(e){this.visibleValue.price||this.$set(this.visibleValue,"price",[]),this.visibleValue.price.push(e)},replacePrice:function(e){this.visibleValue.price=e},changePercentageSurcharge:function(e){this.visibleValue.percentageSurcharge=e},changeTaxId:function(e){this.visibleValue.taxId=e},warn:function(e){Shopware.Utils.debug.warn("swag-customized-products-option-tree",e)},removePriceRule:function(e){e&&(this.data.isRoot?this.option.prices.remove(e):this.data.prices.remove(e))}}});Shopware.Component.register("swag-customized-products-option-tree-default-select",{template:'{% block swag_customized_products_option_tree_default_select %}\n    <div class="swag-customized-products-option-tree-default-select-default">\n\n        {% block swag_customized_products_option_tree_default_select_multi %}\n            <sw-multi-select\n                    v-if="option.typeProperties.isMultiSelect"\n                    {% if VUE3 %}\n                        v-model:value="defaultMultiValue"\n                    {% else %}\n                        v-model="defaultMultiValue"\n                    {% endif %}\n                    class="swag-customized-products-option-tree-default-select--default__multi"\n                    :label="$tc(\'swag-customized-products.optionDetailModal.optionType.defaultLabel\')"\n                    :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.defaultPlaceholderSelect\')"\n                    :options="defaultValueOptions"\n                    :disabled="defaultValueOptions.length === 0"\n                    labelProperty="displayName"\n                    valueProperty="id"\n                    @change="onChangeDefault">\n            </sw-multi-select>\n        {% endblock %}\n\n        {% block swag_customized_products_option_tree_default_select_single %}\n            <sw-single-select\n                    v-else\n                    {% if VUE3 %}\n                        v-model:value="defaultSingleValue"\n                    {% else %}\n                        v-model="defaultSingleValue"\n                    {% endif %}\n                    class="swag-customized-products-option-tree-default-select-default__multi"\n                    :label="$tc(\'swag-customized-products.optionDetailModal.optionType.defaultLabel\')"\n                    :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.defaultPlaceholderSelect\')"\n                    :options="defaultValueOptions"\n                    :disabled="defaultValueOptions.length === 0"\n                    labelProperty="displayName"\n                    valueProperty="id"\n                    @change="onChangeDefault">\n            </sw-single-select>\n        {% endblock %}\n\n    </div>\n{% endblock %}\n',props:{option:{type:Object,required:!0},optionValues:{type:Array,required:!0}},data:function(){return{defaultSingleValue:null,defaultMultiValue:[]}},computed:{defaultValueOptions:function(){return Array.from(this.optionValues).sort((function(e,t){return e.position-t.position}))}},watch:{"option.typeProperties.isMultiSelect":function(){this.onChangeDefault(null)},optionValues:function(){var e=this;this.defaultMultiValue=[],this.defaultSingleValue=null,this.optionValues.forEach((function(t){t.default&&(e.option.typeProperties.isMultiSelect?e.defaultMultiValue.push(t.id):e.defaultSingleValue=t.id)}))}},methods:{onChangeDefault:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;this.optionValues.forEach((function(n){null!==t?e.option.typeProperties.isMultiSelect?n.default=t.includes(n.id):n.default=t===n.id:n.default=!1}))}}});var Me=Shopware.Component,$e=Shopware.Utils.types;Me.register("swag-customized-products-option-type-base",{template:'{% block swag_customized_products_option_type_base %}\n    <div class="swag-customized-products-option-type-base swag-customized-products-option-type-no-tree">\n\n        {% block swag_customized_products_option_type_base_header %}\n            <swag-customized-products-option-type-header :option="option">\n            </swag-customized-products-option-type-header>\n        {% endblock %}\n\n        {% block swag_customized_products_option_type_base_content %}\n            <p>Overwrite this content</p>\n        {% endblock %}\n\n        {% block swag_customized_products_option_type_base_surcharges %}\n            <swag-customized-products-option-type-surcharges\n                :value="option"\n                :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                :versionContext="versionContext"\n                @prices-add="addPriceRule"\n                @prices-remove="removePriceRule"\n                @price-add="addPrice">\n            </swag-customized-products-option-type-surcharges>\n        {% endblock %}\n\n    </div>\n{% endblock %}\n',inject:["repositoryFactory","acl"],props:{option:{type:Object,required:!0},versionContext:{type:Object,required:!0}},data:function(){return{activeItem:null}},computed:{optionPriceRepository:function(){return this.repositoryFactory.create("swag_customized_products_template_option_price")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.registerWatcher(),this.checkRequired(this.option.percentageSurcharge)||(this.option.percentageSurcharge=0)},registerWatcher:function(){var e=this;return this.$watch("option",(function(t){e.$emit("option-valid",e.validateInput(t))}),{deep:!0,immediate:!0}),!0},validateInput:function(e){return null!==e},checkRequired:function(e){return!$e.isUndefined(e)&&($e.isNumber(e)||$e.isString(e)&&e.length>0)},addPriceRule:function(e){if(e){var t=this.optionPriceRepository.create(this.versionContext);t.ruleId=e,t.templateOptionId=this.option.id,t.templateOptionVersionId=this.versionContext.versionId,t.price=[{currencyId:Shopware.Context.app.systemCurrencyId,linked:!0,gross:0,net:0}],this.option.prices.push(t)}},removePriceRule:function(e){this.option.prices.remove(e)},addPrice:function(e){this.option.price||this.$set(this.option,"price",[]),this.option.price.push(e)},replacePrice:function(e){this.option.price=e},changePercentageSurcharge:function(e){this.option.percentageSurcharge=e},changeTaxId:function(e){this.option.taxId=e}}});var je=Shopware.Component,Ne=Shopware.Utils.types;je.register("swag-customized-products-option-type-base-tree",{template:'{% block swag_customized_products_option_type_base_tree %}\n    <div class="swag-customized-products-option-type-modal-content-tree">\n\n        {% block swag_customized_products_option_type_base_tree_option_tree %}\n            <swag-customized-products-option-tree\n                ref="optionValueTree"\n                class="swag-customized-products-option-type-modal-content-tree__tree"\n                :versionContext="versionContext"\n                :option="option"\n                @option-valid="$emit(\'option-valid\', $event)"\n                @option-value-change="setOptionValues"\n                @save-method-add="$emit(\'save-method-add\', $event)"\n                @active-item-change="setActiveItem">\n            </swag-customized-products-option-tree>\n        {% endblock %}\n\n        {% block swag_customized_products_option_type_base_tree_content %}\n            <swag-customized-products-option-tree-content\n                class="swag-customized-products-option-type-modal-content-tree__form"\n                :data="activeItem"\n                :versionContext="versionContext"\n                :option="option">\n\n                <template #root-content>\n                    {% block swag_customized_products_option_type_base_tree_content_root_component %}\n                        {# Add root content here #}\n                    {% endblock %}\n                </template>\n\n                <template #content="{ data }">\n                    {% block swag_customized_products_option_type_base_tree_content_component %}\n                        {# Add content here #}\n                    {% endblock %}\n                </template>\n\n            </swag-customized-products-option-tree-content>\n        {% endblock %}\n\n    </div>\n{% endblock %}\n',inject:["repositoryFactory","acl"],props:{option:{type:Object,required:!0},versionContext:{type:Object,required:!0}},data:function(){return{activeItem:null,defaultValue:null,optionValues:[]}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.registerWatcher();var e=this.option.values.find((function(e){return e.default}));e&&(this.defaultValue=e.id),this.checkRequired(this.option.percentageSurcharge)||(this.option.percentageSurcharge=0),void 0===this.option.typeProperties.isMultiSelect&&this.$set(this.option.typeProperties,"isMultiSelect",!1)},registerWatcher:function(){var e=this;return this.$watch("activeItem",(function(t){e.$emit("option-valid",e.validateInput(t))}),{deep:!0,immediate:!0}),!0},validateInput:function(e){return null!==e},checkRequired:function(e){return!Ne.isUndefined(e)&&(Ne.isNumber(e)||Ne.isString(e)&&e.length>0)},setActiveItem:function(e){this.activeItem=e},setOptionValues:function(e){this.optionValues=e}}});n("sjBO");function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ae(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Ve(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==Ve(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Ve(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var qe=Shopware.Component,Fe=Shopware.Component.getComponentHelper().mapPropertyErrors;qe.register("swag-customized-products-option-type-header",{template:'{% block swag_customized_products_option_type_header %}\n    <div class="swag-customized-products-option-type-header">\n\n        {% block swag_customized_products_option_type_header_form_group %}\n            <sw-container class="swag-customized-products-option-type-header__form_group"\n                          columns="1fr 1fr"\n                          align="center"\n                          gap="32px">\n\n                {% block swag_customized_products_option_type_header_field_display_name %}\n                    <sw-text-field {% if VUE3 %}\n                                       v-model:value="option.displayName"\n                                   {% else %}\n                                       v-model="option.displayName"\n                                   {% endif %}\n                                   class="swag-customized-products-option-type-header__field_display_name"\n                                   :label="$tc(\'swag-customized-products.optionDetailModal.optionType.nameLabel\')"\n                                   :placeholder="$tc(\'swag-customized-products.detail.tabGeneral.placeholderDisplayName\')"\n                                   :error="optionDisplayNameError"\n                                   :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                                   required>\n                    </sw-text-field>\n                {% endblock %}\n\n                {% block swag_customized_products_option_type_header_field_required %}\n                    <sw-checkbox-field v-if="showRequired"\n                                       {% if VUE3 %}\n                                           v-model:value="option.required"\n                                       {% else %}\n                                           v-model="option.required"\n                                       {% endif %}\n                                       v-tooltip="requiredTooltip"\n                                       class="swag-customized-products-option-type-header__field_required"\n                                       :disabled="option.templateExclusionConditions.length > 0 || !acl.can(\'swag_customized_products_template.editor\')"\n                                       :label="$tc(\'swag-customized-products.optionDetailModal.optionType.requiredLabel\')">\n                    </sw-checkbox-field>\n                {% endblock %}\n            </sw-container>\n        {% endblock %}\n\n        {% block swag_customized_products_option_type_header_field_description %}\n            <sw-text-editor v-model="option.description"\n                            class="swag-customized-products-option-type-header__field_description"\n                            :label="$tc(\'swag-customized-products.optionDetailModal.optionType.descriptionLabel\')"\n                            :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                            :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderDescription\')">\n            </sw-text-editor>\n        {% endblock %}\n    </div>\n{% endblock %}\n',inject:["acl"],mixins:["placeholder"],props:{option:{type:Object,required:!0},showRequired:{type:Boolean,required:!1,default:!0},data:{type:Object,required:!1,default:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Re(Object(n),!0).forEach((function(t){Ae(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Re(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({displayName:{get:function(){return this.data?this.data.name:this.option.displayName},set:function(e){this.data&&(this.data.name=e),this.option.displayName=e}},requiredTooltip:function(){return this.option.templateExclusionConditions.length>0?this.$tc("swag-customized-products.optionDetailModal.optionType.requiredTooltip.disabled"):this.$tc("swag-customized-products.optionDetailModal.optionType.requiredTooltip.enabled")}},Fe("option",["displayName"]))});var Ue=Shopware.Component,Ge=Shopware.Data.Criteria;Ue.register("swag-customized-products-option-type-surcharges",{template:'{% block swag_customized_products_option_type_surcharges %}\n    <div class="swag-customized-products-option-type-surcharges">\n\n        {% block swag_customized_products_option_type_surcharges_field_relative %}\n            <sw-switch-field\n                {% if VUE3 %}\n                    v-model:value="value.relativeSurcharge"\n                {% else %}\n                    v-model="value.relativeSurcharge"\n                {% endif %}\n                v-tooltip="relativeTooltip"\n                :disabled="disabled"\n                class="swag-customized-products-option-type-surcharges-switch"\n                :label="$tc(\'swag-customized-products.optionDetailModal.optionType.surcharges.relativeLabel\')">\n            </sw-switch-field>\n        {% endblock %}\n\n        {% block swag_customized_products_option_type_surcharges_tax %}\n            <sw-entity-single-select\n                {% if VUE3 %}\n                    v-model:value="value.taxId"\n                {% else %}\n                    v-model="value.taxId"\n                {% endif %}\n                entity="tax"\n                :popoverConfig="{active: true, resizeWidth: true, style: { zIndex: 1000 }}"\n                :label="$tc(\'swag-customized-products.optionDetailModal.optionType.surcharges.taxLabel\')"\n                :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.surcharges.taxPlaceholder\')"\n                :disabled="disabled">\n            </sw-entity-single-select>\n        {% endblock %}\n\n        {% block swag_customized_products_option_type_surcharges_surcharges %}\n            <div class="swag-customized-products-option-type-surcharges__fields">\n\n                {% block swag_customized_products_option_type_surcharges_content %}\n                    {% block swag_customized_products_option_type_surcharges_content_simple %}\n                        {% block swag_customized_products_option_type_surcharges_content_simple_relative %}\n                            <template v-if="value.relativeSurcharge">\n\n                                {% block swag_customized_products_option_type_surcharges_content_simple_relative_content %}\n                                    <div class="swag-customized-products-option-grid">\n\n                                        {% block swag_customized_products_option_type_surcharges_content_simple_relative_content_number_field %}\n                                            <sw-number-field\n                                                {% if VUE3 %}\n                                                    v-model:value="value.percentageSurcharge"\n                                                {% else %}\n                                                    v-model="value.percentageSurcharge"\n                                                {% endif %}\n                                                class="swag-customized-products-option-type-surcharges__field_relative_value"\n                                                :label="$tc(\'swag-customized-products.optionDetailModal.optionType.surcharges.relativeLabel\')"\n                                                :disabled="disabled"\n                                                :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.surcharges.relativeLabel\')">\n                                                <template #suffix>\n                                                    <span>&#037;</span>\n                                                </template>\n                                            </sw-number-field>\n                                        {% endblock %}\n\n                                    </div>\n                                {% endblock %}\n\n                            </template>\n                        {% endblock %}\n\n                        {% block swag_customized_products_option_type_surcharges_content_simple_absolute %}\n                            <template v-else>\n\n                                {% block swag_customized_products_option_type_surcharges_content_simple_absolute_price_field %}\n                                    <sw-price-field\n                                        :taxRate="{ id: value.taxId }"\n                                        :price="value.price"\n                                        :currency="systemDefaultCurrency"\n                                        :disabled="!value.taxId || disabled">\n                                    </sw-price-field>\n                                {% endblock %}\n\n                            </template>\n                        {% endblock %}\n\n                        {% block swag_customized_products_option_type_surcharges_field_advanced %}\n                            <sw-switch-field\n                                {% if VUE3 %}\n                                    v-model:value="value.advancedSurcharge"\n                                {% else %}\n                                    v-model="value.advancedSurcharge"\n                                {% endif %}\n                                v-tooltip="advancedTooltip"\n                                class="swag-customized-products-option-type-surcharges-switch"\n                                :disabled="(!value.taxId && !value.relativeSurcharge) || disabled"\n                                :label="$tc(\'swag-customized-products.optionDetailModal.optionType.surcharges.advancedLabel\')">\n                            </sw-switch-field>\n                        {% endblock %}\n                    {% endblock %}\n\n                    {% block swag_customized_products_option_type_surcharges_content_advanced %}\n                        <swag-customized-products-option-type-advanced-surcharges\n                            v-if="(value.taxId || value.relativeSurcharge) && value.advancedSurcharge"\n                            :taxId="value.taxId"\n                            :prices="value.prices"\n                            :relativeSurcharge="value.relativeSurcharge"\n                            :currencies="currencies"\n                            :disabled="disabled"\n                            @prices-add="$emit(\'prices-add\', $event)"\n                            @prices-remove="$emit(\'prices-remove\', $event)">\n                        </swag-customized-products-option-type-advanced-surcharges>\n                    {% endblock %}\n                {% endblock %}\n\n            </div>\n        {% endblock %}\n\n        {% block swag_customized_products_option_type_surcharges_field_once_per_order %}\n            <sw-container columns="repeat(auto-fit, minmax(250px, 1fr)" gap="0 30px">\n                <sw-checkbox-field\n                    {% if VUE3 %}\n                        v-model:value="value.oneTimeSurcharge"\n                    {% else %}\n                        v-model="value.oneTimeSurcharge"\n                    {% endif %}\n                    :disabled="disabled"\n                    class="swag-customized-products-option-type-surcharges__field-oncePerOrder"\n                    :label="$tc(\'swag-customized-products.optionDetailModal.optionType.surcharges.oncePerOrderLabel\')">\n                </sw-checkbox-field>\n\n                {% block swag_customized_products_option_type_surcharges_currencies_link %}\n                    <template v-if="disabled">\n                        <span class="swag-customized-products-option-currency-depending-prices-link"\n                              v-tooltip.top="{\n                                  message: $tc(\'sw-privileges.tooltip.warning\'),\n                                  disabled: !disabled,\n                                  showOnDisabledElements: true\n                              }">\n                            {{ $tc(\'sw-product.detailBase.linkMaintainCurrencyPrices\') }} <sw-icon name="regular-long-arrow-right" small></sw-icon>\n                        </span>\n                    </template>\n                    <template v-else-if="value.taxId && !value.relativeSurcharge && !value.advancedSurcharge">\n                        <a v-if="value.taxId && !value.relativeSurcharge && !value.advancedSurcharge"\n                           class="swag-customized-products-option-currency-depending-prices-link"\n                           @click.prevent="displayMaintainCurrenciesModal = true" >\n                            {{ $tc(\'sw-product.detailBase.linkMaintainCurrencyPrices\') }} <sw-icon name="regular-long-arrow-right" small></sw-icon>\n                        </a>\n                    </template>\n                {% endblock %}\n\n                {# Prevents the checkbox from checking if clicked in right fraction #}\n                <div v-if="value.relativeSurcharge"></div>\n            </sw-container>\n        {% endblock %}\n\n        {% block swag_customized_products_option_maintain_currencies_modal %}\n            <sw-maintain-currencies-modal\n                v-if="displayMaintainCurrenciesModal"\n                :taxRate="{ id: value.taxId }"\n                :defaultPrice="defaultPrice"\n                :currencies="currencies"\n                :prices="value.price"\n                :hideListPrices="true"\n                @modal-close="onMaintainCurrenciesClose">\n            </sw-maintain-currencies-modal>\n        {% endblock %}\n\n    </div>\n{% endblock %}\n',inject:["repositoryFactory"],props:{value:{type:Object,required:!0},versionContext:{type:Object,required:!0},disabled:{type:Boolean,required:!1,default:!1}},data:function(){return{displayMaintainCurrenciesModal:!1,systemDefaultCurrency:{},advancedTooltip:"",currencies:[],color:""}},computed:{defaultPrice:function(){return this.value.price.find((function(e){return e.currencyId===Shopware.Context.app.systemCurrencyId}))},currencyRepository:function(){return this.repositoryFactory.create("currency")},relativeTooltip:function(){return this.$tc("swag-customized-products.optionDetailModal.optionType.surcharges.relativeSurchargesTooltip")}},watch:{"value.relativeSurcharge":{handler:function(e){e||this.value.taxId||(this.value.advancedSurcharge=!1),e||this.value.taxId?this.advancedTooltip=this.$tc("swag-customized-products.optionDetailModal.optionType.surcharges.advancedSurchargesTooltip"):this.advancedTooltip=this.$tc("swag-customized-products.optionDetailModal.optionType.surcharges.selectTaxRateTooltip")},immediate:!0}},created:function(){this.createdComponent()},methods:{createdComponent:function(){var e=this;this.value.price||this.$emit("price-add",{net:0,gross:0,linked:!0,currencyId:Shopware.Context.app.systemCurrencyId}),this.currencyRepository.search(new Ge(1,null),Shopware.Context.api).then((function(t){e.currencies=t,e.systemDefaultCurrency=t.get(Shopware.Context.app.systemCurrencyId)}))},onMaintainCurrenciesClose:function(e){this.value.price=e,this.displayMaintainCurrenciesModal=!this.displayMaintainCurrenciesModal}}});n("AfyW");function Be(e){return function(e){if(Array.isArray(e))return He(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return He(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return He(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function He(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Shopware.Component.register("swag-customized-products-option-type-advanced-surcharges",{template:'{% block swag_customized_products_option_type_advanced_surcharges %}\n    <div class="swag-customized-products-option-type-advanced-surcharges">\n\n        {% block swag_customized_products_option_type_advanced_surcharges_warning_base_price %}\n            <sw-alert variant="warning">\n                {{ $tc(\'swag-customized-products.optionDetailModal.optionType.surcharges.textWarningBasePrice\') }}\n            </sw-alert>\n        {% endblock %}\n\n        <div :key="relativeSurcharge">\n\n            {% block swag_customized_products_option_type_advanced_surcharges_data_grid %}\n                <sw-data-grid :isLoading="isLoading"\n                              :compactMode="false"\n                              :dataSource="prices"\n                              :columns="pricesColumns"\n                              :allowInlineEdit="false"\n                              :allowColumnEdit="true"\n                              :showSettings="true"\n                              :showSelection="false">\n\n                    <template #column-ruleId="{ item, compact, isInlineEdit }">\n\n                        {% block swag_customized_products_option_type_advanced_surcharges_select_rule_id %}\n                            <sw-entity-single-select\n                                {% if VUE3 %}\n                                    v-model:value="item.ruleId"\n                                {% else %}\n                                    v-model="item.ruleId"\n                                {% endif %}\n                                entity="rule"\n                                :popoverConfig="{active: true, resizeWidth: true, style: { zIndex: 1000 }}"\n                                :placeholder="$tc(\'swag-customized-products.general.selectRule\')">\n\n                                <template #result-item="{ isSelected, setValue, item, index, labelProperty, searchTerm, highlightSearchTerm, getKey }">\n\n                                    {% block swag_customized_products_option_type_advanced_surcharges_select_rule_id_result_item %}\n                                        <li v-bind="{ item, index }"\n                                            :disabled="isRuleSelected(item.id)"\n                                            is="sw-select-result"\n                                            @item-select="setValue">\n                                            {{ getKey(item, labelProperty) || getKey(item, `translated.${labelProperty}`) }}\n                                        </li>\n                                    {% endblock %}\n                                </template>\n                            </sw-entity-single-select>\n                        {% endblock %}\n                    </template>\n\n                    <template v-for="currency in currencies" :slot="`column-${currency.id}`" slot-scope="{ item, compact, isInlineEdit }">\n\n                        {% block swag_customized_products_option_type_advanced_surcharges_currency_column %}\n                            {% block swag_customized_products_option_type_advanced_surcharges_currency_column_inheritance_switch %}\n                                <template v-if="currency.id !== defaultCurrency">\n                                    <sw-inheritance-switch class="sw-product-detail-context-prices__inherited-icon"\n                                                           :isInherited="isPriceFieldInherited(item, currency)"\n                                                           @inheritance-restore="onInheritanceRestore(item, currency)"\n                                                           @inheritance-remove="onInheritanceRemove(item, currency)">\n                                    </sw-inheritance-switch>\n                                </template>\n                            {% endblock %}\n\n                            {% block swag_customized_products_option_type_advanced_surcharges_currency_column_price_field %}\n                                <sw-price-field :taxRate="{ id: taxId }"\n                                                :price="item.price"\n                                                :defaultPrice="findDefaultPriceOfRule(item)"\n                                                :currency="currency"\n                                                :label="false"\n                                                :disableSuffix="true"\n                                                :compact="compact">\n                                </sw-price-field>\n                            {% endblock %}\n                        {% endblock %}\n                    </template>\n\n                    <template #column-percentageSurcharge="{ item, compact, isInlineEdit }">\n\n                        {% block swag_customized_products_option_type_advanced_surcharges_percentage_surcharge_column %}\n                            <sw-number-field {% if VUE3 %}\n                                                v-model:value="item.percentageSurcharge"\n                                             {% else %}\n                                                v-model="item.percentageSurcharge"\n                                             {% endif %}\n                                             :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.surcharges.relativeLabel\')">\n                                {% block swag_customized_products_option_type_advanced_surcharges_percentage_surcharge_column_suffix %}\n                                    <template #suffix>\n                                        <span>&#037;</span>\n                                    </template>\n                                {% endblock %}\n                            </sw-number-field>\n                        {% endblock %}\n                    </template>\n\n                    <template #actions="{ item }">\n\n                        {% block swag_customized_products_option_type_advanced_surcharges_percentage_surcharge_column_actions_delete %}\n                            <sw-context-menu-item variant="danger" @click="removeOptionPrice(item)">\n                                {{ $tc(\'global.default.delete\') }}\n                            </sw-context-menu-item>\n                        {% endblock %}\n                    </template>\n                </sw-data-grid>\n            {% endblock %}\n        </div>\n\n        {% block swag_customized_products_option_type_advanced_surcharges_select_price_rule %}\n            <sw-entity-single-select\n                class="swag-customized-products-option-type-advanced-surcharges__select-price"\n                :value="null"\n                :popoverConfig="{active: true, resizeWidth: true, style: { zIndex: 1000 }}"\n                :placeholder="$tc(\'swag-customized-products.general.selectRule\')"\n                entity="rule"\n                @change="addOptionPrice">\n\n                <template #result-item="{ isSelected, setValue, item, index, labelProperty, searchTerm, highlightSearchTerm, getKey }">\n\n                    {% block swag_customized_products_option_type_advanced_surcharges_select_price_rule_result %}\n                        <li v-bind="{ item, index }"\n                            :disabled="isRuleSelected(item.id)"\n                            is="sw-select-result"\n                            @item-select="setValue">\n                            {{ getKey(item, labelProperty) || getKey(item, `translated.${labelProperty}`) }}\n                        </li>\n                    {% endblock %}\n                </template>\n            </sw-entity-single-select>\n        {% endblock %}\n    </div>\n{% endblock %}\n',props:{prices:{type:Array,required:!0},currencies:{type:Array,required:!0},taxId:{type:String,required:!0},relativeSurcharge:{type:Boolean,required:!1,default:!1}},data:function(){return{isLoading:!1}},computed:{defaultCurrency:function(){return Shopware.Context.app.systemCurrencyId},pricesColumns:function(){var e=this,t=this.currencies.map((function(e){return{property:e.id,label:e.name,rawData:!0}})).sort((function(t){return t.property===e.defaultCurrency?-1:1})),n={property:"ruleId",label:this.$tc("swag-customized-products.optionDetailModal.optionType.advancedSurcharges.columnTitles.rule"),inlineEdit:!0,rawData:!0,primary:!0,width:"250px"};return this.relativeSurcharge?[n,{property:"percentageSurcharge",label:this.$tc("swag-customized-products.optionDetailModal.optionType.surcharges.relativeLabel"),inlineEdit:!0,rawData:!0,primary:!0,width:"250px"}]:[n].concat(Be(t))}},methods:{addOptionPrice:function(e){this.$emit("prices-add",e)},removeOptionPrice:function(e){this.$emit("prices-remove",e.id)},isPriceFieldInherited:function(e,t){return!e.price.some((function(e){return e.currencyId===t.id}))},onInheritanceRestore:function(e,t){e.price=e.price.filter((function(e){return e.currencyId!==t.id}))},onInheritanceRemove:function(e,t){var n=this.findDefaultPriceOfRule(e),o={currencyId:t.id,gross:this.convertPrice(n.gross,t),linked:n.linked,net:this.convertPrice(n.net,t)};e.price.push(o)},convertPrice:function(e,t){var n=(e*t.factor).toFixed(t.decimalPrecision);return Number(n)},findDefaultPriceOfRule:function(e){return e.price.find((function(e){return e.currencyId===Shopware.Context.app.systemCurrencyId}))},isRuleSelected:function(e){return this.prices.some((function(t){return t.ruleId===e}))}}});Shopware.Component.extend("swag-customized-products-option-type-checkbox","swag-customized-products-option-type-base",{template:'{% block swag_customized_products_option_type_base_header %}\n    <swag-customized-products-option-type-header\n            :option="option"\n            :showRequired="false">\n    </swag-customized-products-option-type-header>\n{% endblock %}\n\n{% block swag_customized_products_option_type_base_content %}\n    <sw-text-field\n            {% if VUE3 %}\n                v-model:value="option.itemNumber"\n            {% else %}\n                v-model="option.itemNumber"\n            {% endif %}\n            :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n            :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderItemNumber\')"\n            :label="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberLabel\')"\n            :helpText="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberHelpText\')">\n    </sw-text-field>\n{% endblock %}\n'});Shopware.Component.extend("swag-customized-products-option-type-colorpicker","swag-customized-products-option-type-base",{template:'{% block swag_customized_products_option_type_base_content %}\n    {% block swag_customized_products_option_type_colorpicker_field_itemNumber %}\n        <div class="swag-customized-products-option-grid">\n            <sw-text-field {% if VUE3 %}\n                               v-model:value="option.itemNumber"\n                           {% else %}\n                               v-model="option.itemNumber"\n                           {% endif %}\n                           :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                           :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderItemNumber\')"\n                           :label="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberLabel\')"\n                           :helpText="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberHelpText\')">\n            </sw-text-field>\n        </div>\n    {% endblock %}\n\n    {% block swag_customized_products_option_type_colorpicker_field_group %}\n        <sw-container class="swag-customized-products-option-type-textarea__field-group"\n                      columns="repeat(auto-fit, minmax(150px, 1fr))"\n                      gap="0px 30px">\n\n            {% block swag_customized_products_option_type_colorpicker_field_group_content %}\n                <sw-text-field {% if VUE3 %}\n                                   v-model:value="option.typeProperties.placeholder"\n                               {% else %}\n                                   v-model="option.typeProperties.placeholder"\n                               {% endif %}\n                               class="swag-customized-products-option-type-textarea__field-placeholder"\n                               :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                               :label="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderLabel\')"\n                               :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderPlaceholder\')">\n                </sw-text-field>\n            {% endblock %}\n        </sw-container>\n    {% endblock %}\n{% endblock %}\n'});Shopware.Component.extend("swag-customized-products-option-type-datetime","swag-customized-products-option-type-base",{template:'{% block swag_customized_products_option_type_base_content %}\n    {% block swag_customized_products_option_type_datetime_field_group_general %}\n        <sw-container class="swag-customized-products-option-type-textarea__field_group"\n                      columns="repeat(auto-fit, minmax(250px, 1fr))"\n                      gap="0px 30px">\n\n            {% block swag_customized_products_option_type_datetime_field_group_content_general %}\n                {% block swag_customized_products_option_type_textarea_field_item_number %}\n                    <sw-text-field {% if VUE3 %}\n                                       v-model:value="option.itemNumber"\n                                   {% else %}\n                                       v-model="option.itemNumber"\n                                   {% endif %}\n                                   :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                                   :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderItemNumber\')"\n                                   :label="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberLabel\')"\n                                   :helpText="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberHelpText\')">\n                    </sw-text-field>\n                {% endblock %}\n\n                {% block swag_customized_products_option_type_datetime_field_group_placeholder %}\n                    <sw-text-field {% if VUE3 %}\n                                       v-model:value="option.placeholder"\n                                   {% else %}\n                                       v-model="option.placeholder"\n                                   {% endif %}\n                                   :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                                   class="swag-customized-products-option-type-textarea__field_placeholder"\n                                   :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderPlaceholder\')"\n                                   :label="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderLabel\')">\n                    </sw-text-field>\n                {% endblock %}\n            {% endblock %}\n        </sw-container>\n    {% endblock %}\n\n    {% block swag_customized_products_option_type_datetime_field_group_datetime %}\n        <sw-container class="swag-customized-products-option-type-textarea__field_group"\n                      columns="repeat(auto-fit, minmax(250px, 1fr))"\n                      gap="0px 30px">\n\n            {% block swag_customized_products_option_type_datetime_field_group_content_datetime %}\n                {% block swag_customized_products_option_type_datetime_field_group_min_date %}\n                    <sw-datepicker\n                        {% if VUE3 %}\n                            v-model:value="option.typeProperties.minDate"\n                        {% else %}\n                            v-model="option.typeProperties.minDate"\n                        {% endif %}\n                        ref="minDateField"\n                        name="sw-field--option-typeProperties-minDate"\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        :label="$tc(\'swag-customized-products.optionDetailModal.optionType.datetime.minDate\')"\n                        :config="minDateConfig"\n                        dateType="date"\n                        size="default">\n                    </sw-datepicker>\n                {% endblock %}\n\n                {% block swag_customized_products_option_type_datetime_field_group_max_date %}\n                    <sw-datepicker\n                        {% if VUE3 %}\n                            v-model:value="option.typeProperties.maxDate"\n                            @base-field-mounted="initializeMinDate"\n                        {% else %}\n                            v-model="option.typeProperties.maxDate"\n                        {% endif %}\n                        ref="maxDateField"\n                        name="sw-field--option-typeProperties-maxDate"\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        :label="$tc(\'swag-customized-products.optionDetailModal.optionType.datetime.maxDate\')"\n                        :config="maxDateConfig"\n                        dateType="date"\n                        size="default">\n                    </sw-datepicker>\n                {% endblock %}\n            {% endblock %}\n        </sw-container>\n    {% endblock %}\n{% endblock %}\n',inject:["feature"],data:function(){return{minSelectableDate:"0000-01-01",minDateConfig:{defaultDate:new Date},maxDateConfig:{disable:[]}}},watch:{"option.typeProperties.minDate":function(e){this.onMinDateChange(e)}},mounted:function(){this.feature.isActive("VUE3")||this.mountedComponent()},methods:{mountedComponent:function(){this.initializeMinDate()},initializeMinDate:function(){this.maxDateConfig.defaultDate=this.option.typeProperties.minDate,this.onMinDateChange(this.option.typeProperties.minDate,!0)},onMinDateChange:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){if(this.enableMaxDateField(),!t){var n=this.$refs.maxDateField;n.flatpickrInstance.clear()}}else this.disableMaxDateField()},enableMaxDateField:function(){var e=this.$refs.maxDateField;this.acl.can("swag_customized_products_template.editor")&&e.flatpickrInstance._input.removeAttribute("disabled");var t=new Date(this.option.typeProperties.minDate);t.setDate(t.getDate()-1),this.maxDateConfig.disable=[{from:new Date(this.minSelectableDate),to:t}]},disableMaxDateField:function(){var e=this.$refs.maxDateField;e.flatpickrInstance._input.setAttribute("disabled","disabled"),e.flatpickrInstance.clear()}}});Shopware.Component.extend("swag-customized-products-option-type-fileupload","swag-customized-products-option-type-base",{template:'{% block swag_customized_products_option_type_base_content %}\n    {% block swag_customized_products_option_type_fileupload_content %}\n        <div class="swag-customized-products-option-type-fileupload__content">\n\n            {% block swag_customized_products_option_type_fileupload_field_item_number %}\n                <sw-text-field {% if VUE3 %}\n                                   v-model:value="option.itemNumber"\n                               {% else %}\n                                   v-model="option.itemNumber"\n                               {% endif %}\n                               :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                               class="swag-customized-products-option-type-fileupload__field_item_number"\n                               :label="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberLabel\')"\n                               :helpText="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberHelpText\')">\n                </sw-text-field>\n            {% endblock %}\n\n            {% block swag_customized_products_option_type_fileupload_limit_group %}\n                <sw-container class="swag-customized-products-option-type-fileupload__limit-group"\n                              columns="repeat(auto-fit, minmax(150px, 160px))"\n                              gap="0px 30px">\n\n                    {% block swag_customized_products_option_type_fileupload_field_max_count %}\n                        <sw-number-field {% if VUE3 %}\n                                             v-model:value="option.typeProperties.maxCount"\n                                         {% else %}\n                                             v-model="option.typeProperties.maxCount"\n                                         {% endif %}\n                                         :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                                         class="swag-customized-products-option-type-fileupload__field_max_count"\n                                         :label="$tc(\'swag-customized-products.optionDetailModal.optionType.imageupload.maxCountLabel\')"\n                                         :step="1"\n                                         :min="1"\n                                         numberType="int"\n                                         required>\n                        </sw-number-field>\n                    {% endblock %}\n\n                    {% block swag_customized_products_option_type_fileupload_field_max_file_size %}\n                        <sw-number-field {% if VUE3 %}\n                                             v-model:value="option.typeProperties.maxFileSize"\n                                         {% else %}\n                                             v-model="option.typeProperties.maxFileSize"\n                                         {% endif %}\n                                         :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                                         class="swag-customized-products-option-type-fileupload__field_max_file_size"\n                                         :label="$tc(\'swag-customized-products.optionDetailModal.optionType.imageupload.maxFileSizeLabel\')"\n                                         :min="1"\n                                         numberType="int"\n                                         required>\n\n                            {% block swag_customized_products_option_type_fileupload_field_max_file_size_suffix %}\n                                <template #suffix>\n                                    <span>MB</span>\n                                </template>\n                            {% endblock %}\n                        </sw-number-field>\n                    {% endblock %}\n\n                </sw-container>\n            {% endblock %}\n\n        </div>\n    {% endblock %}\n\n{% endblock %}\n',created:function(){void 0===this.option.typeProperties.maxFileSize&&this.$set(this.option.typeProperties,"maxFileSize",10),void 0===this.option.typeProperties.maxCount&&this.$set(this.option.typeProperties,"maxCount",1)},methods:{validateInput:function(e){return this.checkRequired(e.typeProperties.maxFileSize)&&this.checkRequired(e.typeProperties.maxCount)}}});n("G73H");function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Je(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==We(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==We(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===We(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ye=Shopware.Component,Ze=Shopware.Component.getComponentHelper().mapPropertyErrors;Ye.extend("swag-customized-products-option-type-imageselect","swag-customized-products-option-type-base-tree",{template:'{% block swag_customized_products_option_type_base_tree_content_root_component %}\n    {% block swag_customized_products_option_type_imageselect_field_container %}\n        <sw-container\n                columns="1fr 1fr"\n                gap="30px">\n\n            {% block swag_customized_products_option_type_imageselect_field_placeholder %}\n                <sw-text-field\n                        {% if VUE3 %}\n                            v-model:value="option.placeholder"\n                        {% else %}\n                            v-model="option.placeholder"\n                        {% endif %}\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        class="swag-customized-products-option-type-imageselect__field-placeholder"\n                        :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderPlaceholder\')"\n                        :label="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderLabel\')">\n                </sw-text-field>\n            {% endblock %}\n\n            {% block swag_customized_products_option_type_imageselect_field_default %}\n                <swag-customized-products-option-tree-default-select\n                        :option="option"\n                        :optionValues="optionValues">\n                </swag-customized-products-option-tree-default-select>\n            {% endblock %}\n\n        </sw-container>\n    {% endblock %}\n{% endblock %}\n\n{% block swag_customized_products_option_type_base_tree_content_component %}\n    {% block swag_customized_products_option_type_imageselect_content_listener %}\n        <sw-upload-listener\n                :uploadTag="uploadTag"\n                autoUpload\n                @media-upload-finish="setMediaItem">\n        </sw-upload-listener>\n    {% endblock %}\n\n    {% block swag_customized_products_option_type_imageselect_content_component %}\n        <sw-media-compact-upload-v2\n                v-if="data.value"\n                class="swag-customized-products-option-type-imageselect__imageupload"\n                required\n                :label="$tc(\'swag-customized-products.detail.tabGeneral.labelImage\')"\n                :defaultFolder="templateRepository.schema.entity"\n                :source="displayMediaItem"\n                :allowMultiSelect="false"\n                :uploadTag="uploadTag"\n                :error="activeItemValueValueError"\n                :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                @selection-change="setMediaFromSelection"\n                @media-drop="({ targetId }) => { data.value._value = targetId }"\n                @media-upload-remove-image="onUnlinkImage">\n        </sw-media-compact-upload-v2>\n    {% endblock %}\n{% endblock %}\n',inject:["repositoryFactory"],data:function(){return{activeItem:null,displayMediaItem:null,uploadTag:"swag-customized-products-option-imageselect-upload-tag"}},computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(Object(n),!0).forEach((function(t){Je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({mediaRepository:function(){return this.repositoryFactory.create("media")},templateRepository:function(){return this.repositoryFactory.create("swag_customized_products_template")}},Ze("activeItem",["value._value"])),watch:{activeItem:function(){this.activeItem.value&&this.setMediaItem({targetId:this.activeItem.value._value})}},methods:{setMediaFromSelection:function(e){this.setMediaItem({targetId:e[0].id})},setMediaItem:function(e){var t=this,n=e.targetId;if(!n)return this.displayMediaItem=null,void(this.activeItem.value._value="");this.mediaRepository.get(n,Shopware.Context.api).then((function(e){t.displayMediaItem=e,t.activeItem.value._value=n}))},onUnlinkImage:function(){this.setMediaItem({targetId:null})},onDropMedia:function(e){this.setMediaItem({targetId:e.id})}}});Shopware.Component.extend("swag-customized-products-option-type-timestamp","swag-customized-products-option-type-base",{template:'{% block swag_customized_products_option_type_base_content %}\n    {% block swag_customized_products_option_type_timestamp_field_group_general %}\n        <sw-container\n                class="swag-customized-products-option-type-textarea__field_group"\n                columns="repeat(auto-fit, minmax(250px, 1fr))"\n                gap="0px 30px">\n\n            {% block swag_customized_products_option_type_timestamp_field_group_content_general %}\n                {% block swag_customized_products_option_type_textarea_field_item_number %}\n                    <sw-text-field\n                            {% if VUE3 %}\n                                v-model:value="option.itemNumber"\n                            {% else %}\n                                v-model="option.itemNumber"\n                            {% endif %}\n                            :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                            :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderItemNumber\')"\n                            :label="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberLabel\')"\n                            :helpText="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberHelpText\')">\n                    </sw-text-field>\n                {% endblock %}\n\n                {% block swag_customized_products_option_type_timestamp_field_group_placeholder %}\n                    <sw-text-field\n                            {% if VUE3 %}\n                                v-model:value="option.placeholder"\n                            {% else %}\n                                v-model="option.placeholder"\n                            {% endif %}\n                            class="swag-customized-products-option-type-textarea__field_placeholder"\n                            :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                            :label="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderLabel\')"\n                            :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderPlaceholder\')">\n                    </sw-text-field>\n                {% endblock %}\n            {% endblock %}\n        </sw-container>\n    {% endblock %}\n\n    {% block swag_customized_products_option_type_timestamp_field_group_timestamp %}\n        <sw-container class="swag-customized-products-option-type-textarea__field_group"\n                      columns="repeat(auto-fit, minmax(250px, 1fr))"\n                      gap="0px 30px">\n\n            {% block swag_customized_products_option_type_timestamp_field_group_content_timestamp %}\n                {% block swag_customized_products_option_type_timestamp_field_group_min_date %}\n                    <sw-datepicker\n                        {% if VUE3 %}\n                            v-model:value="option.typeProperties.startTime"\n                        {% else %}\n                            v-model="option.typeProperties.startTime"\n                        {% endif %}\n                        name="sw-field--option-typeProperties-startTime"\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        :label="$tc(\'swag-customized-products.optionDetailModal.optionType.datetime.minDate\')"\n                        ref="minTimeField"\n                        dateType="time"\n                        size="default">\n                    </sw-datepicker>\n                {% endblock %}\n\n                {% block swag_customized_products_option_type_timestamp_field_group_max_date %}\n                    <sw-datepicker\n                        {% if VUE3 %}\n                            v-model:value="option.typeProperties.endTime"\n                            @base-field-mounted="initializeStartTime"\n                        {% else %}\n                            v-model="option.typeProperties.endTime"\n                        {% endif %}\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        :label="$tc(\'swag-customized-products.optionDetailModal.optionType.datetime.maxDate\')"\n                        ref="maxTimeField"\n                        :config="maxTimeConfig"\n                        dateType="time"\n                        size="default">\n                    </sw-datepicker>\n                {% endblock %}\n            {% endblock %}\n        </sw-container>\n    {% endblock %}\n{% endblock %}\n',inject:["feature"],data:function(){return{maxTimeConfig:{minTime:null}}},watch:{"option.typeProperties.startTime":function(e){this.onStartTimeChanged(e)}},mounted:function(){this.feature.isActive("VUE3")||this.mountedComponent()},methods:{mountedComponent:function(){this.initializeStartTime()},initializeStartTime:function(){this.onStartTimeChanged(this.option.typeProperties.startTime,!0)},onStartTimeChanged:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e){if(this.enableMaxTimeField(),!t){var n=this.$refs.maxTimeField;n.flatpickrInstance.setDate(e)}}else this.disableMaxTimeField()},enableMaxTimeField:function(){var e=this.$refs.maxTimeField;this.acl.can("swag_customized_products_template.editor")&&e.flatpickrInstance._input.removeAttribute("disabled"),this.maxTimeConfig.minTime=this.option.typeProperties.startTime},disableMaxTimeField:function(){var e=this.$refs.maxTimeField;e.flatpickrInstance._input.setAttribute("disabled","disabled"),e.flatpickrInstance.clear()}}});Shopware.Component.extend("swag-customized-products-option-type-textfield","swag-customized-products-option-type-base",{template:'{% block swag_customized_products_option_type_base_content %}\n    {% block swag_customized_products_option_type_textfield_content %}\n        <div class="swag-customized-products-option-type-textfield__content">\n\n            {% block swag_customized_products_option_type_textfield_field_group %}\n                <sw-container\n                    class="swag-customized-products-option-type-textfield__field-group"\n                    columns="repeat(auto-fit, minmax(150px, 1fr))"\n                    gap="0px 30px">\n\n                    {% block swag_customized_products_option_type_textfield_field_item_number %}\n                        <sw-text-field\n                            {% if VUE3 %}\n                                v-model:value="option.itemNumber"\n                            {% else %}\n                                v-model="option.itemNumber"\n                            {% endif %}\n                            class="swag-customized-products-option-type-textfield__field-item-number"\n                            :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                            :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderItemNumber\')"\n                            :label="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberLabel\')"\n                            :helpText="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberHelpText\')">\n                        </sw-text-field>\n                    {% endblock %}\n\n                    {% block swag_customized_products_option_type_textfield_field_group_placeholder %}\n                        <sw-text-field\n                            {% if VUE3 %}\n                                v-model:value="option.placeholder"\n                            {% else %}\n                                v-model="option.placeholder"\n                            {% endif %}\n                            class="swag-customized-products-option-type-textfield__field-placeholder"\n                            :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                            :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderPlaceholder\')"\n                            :label="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderLabel\')">\n                        </sw-text-field>\n                    {% endblock %}\n\n                </sw-container>\n            {% endblock %}\n\n            {% block swag_customized_products_option_type_textfield_container_min_max %}\n                <sw-container\n                    class="swag-customized-products-option-type-textfield__field-group"\n                    columns="repeat(auto-fit, minmax(150px, 1fr))"\n                    gap="0px 30px">\n\n                    {% block swag_customized_products_option_type_textfield_field_min_length %}\n                        <sw-number-field\n                            {% if VUE3 %}\n                                v-model:value="option.typeProperties.minLength"\n                            {% else %}\n                                v-model="option.typeProperties.minLength"\n                            {% endif %}\n                            class="swag-customized-products-option-type-textfield__fiel-min-length"\n                            :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                            :label="$tc(\'swag-customized-products.optionDetailModal.optionType.textfield.minLengthLabel\')"\n                            numberType="int"\n                            required>\n                        </sw-number-field>\n                    {% endblock %}\n\n                    {% block swag_customized_products_option_type_textfield_field_max_length %}\n                        <sw-number-field\n                            {% if VUE3 %}\n                                v-model:value="option.typeProperties.maxLength"\n                            {% else %}\n                                v-model="option.typeProperties.maxLength"\n                            {% endif %}\n                            class="swag-customized-products-option-type-textfield__field-max-length"\n                            :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                            :label="$tc(\'swag-customized-products.optionDetailModal.optionType.textfield.maxLengthLabel\')"\n                            numberType="int"\n                            required>\n                        </sw-number-field>\n                    {% endblock %}\n\n                </sw-container>\n            {% endblock %}\n\n        </div>\n    {% endblock %}\n{% endblock %}\n',methods:{createdComponent:function(){this.checkRequired(this.option.typeProperties.minLength)||(this.option.typeProperties.minLength=0),this.checkRequired(this.option.typeProperties.maxLength)||(this.option.typeProperties.maxLength=1e3),this.$super("createdComponent")},validateInput:function(e){return this.checkRequired(e.typeProperties.minLength)&&this.checkRequired(e.typeProperties.maxLength)}}});Shopware.Component.extend("swag-customized-products-option-type-select","swag-customized-products-option-type-base-tree",{template:'{% block swag_customized_products_option_type_base_tree_content_root_component %}\n    {% block swag_customized_products_option_type_select_field_container %}\n        <sw-container\n                columns="1fr 1fr"\n                gap="30px">\n\n            {% block swag_customized_products_option_type_select_field_placeholder %}\n                <sw-text-field\n                    {% if VUE3 %}\n                        v-model:value="option.placeholder"\n                    {% else %}\n                        v-model="option.placeholder"\n                    {% endif %}\n                    class="swag-customized-products-option-type-select__field-placeholder"\n                    :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                    :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderPlaceholder\')"\n                    :label="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderLabel\')">\n                </sw-text-field>\n            {% endblock %}\n\n            {% block swag_customized_products_option_type_select_field_default %}\n                <swag-customized-products-option-tree-default-select\n                    :option="option"\n                    :optionValues="optionValues">\n                </swag-customized-products-option-tree-default-select>\n            {% endblock %}\n\n        </sw-container>\n    {% endblock %}\n\n    {% block swag_customized_products_option_type_select_field_dropdown %}\n        <sw-checkbox-field\n            class="swag-customized-products-option-type-select-is-drop-down__checkbox-field"\n            :value="option.typeProperties.isDropDown"\n            :label="$tc(\'swag-customized-products.optionDetailModal.optionType.select.isDropDownLabel\')"\n            :disabled="option.typeProperties.isMultiSelect || !acl.can(\'swag_customized_products_template.editor\')"\n            @change="changeIsDropDown">\n        </sw-checkbox-field>\n    {% endblock %}\n{% endblock %}\n\n{% block swag_customized_products_option_type_base_tree_content_component %}\n{% endblock %}\n',methods:{changeIsDropDown:function(e){this.$set(this.option.typeProperties,"isDropDown",e)}}});function Qe(e){return(Qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function et(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==Qe(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,t||"default");if("object"!==Qe(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===Qe(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var tt=Shopware.Component,nt=Shopware.Component.getComponentHelper().mapPropertyErrors;tt.extend("swag-customized-products-option-type-colorselect","swag-customized-products-option-type-base-tree",{template:'{% block swag_customized_products_option_type_base_tree_content_root_component %}\n    {% block swag_customized_products_option_type_colorselect_field_container %}\n        <sw-container\n                columns="1fr 1fr"\n                gap="30px">\n\n            {% block swag_customized_products_option_type_colorselect_field_placeholder %}\n                <sw-text-field\n                        {% if VUE3 %}\n                            v-model:value="option.placeholder"\n                        {% else %}\n                            v-model="option.placeholder"\n                        {% endif %}\n                        class="swag-customized-products-option-type-colorselect__field-placeholder"\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderPlaceholder\')"\n                        :label="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderLabel\')">\n                </sw-text-field>\n            {% endblock %}\n\n            {% block swag_customized_products_option_type_colorselect_field__default %}\n                <swag-customized-products-option-tree-default-select\n                        :option="option"\n                        :optionValues="optionValues">\n                </swag-customized-products-option-tree-default-select>\n            {% endblock %}\n\n        </sw-container>\n    {% endblock %}\n{% endblock %}\n\n{% block swag_customized_products_option_type_base_tree_content_component %}\n    <sw-colorpicker\n            {% if VUE3 %}\n                v-model:value="data.value._value"\n            {% else %}\n                v-model="data.value._value"\n            {% endif %}\n            class="swag-customized-products-option-type-select__field_value"\n            :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n            :label="$tc(\'swag-customized-products.detail.tabGeneral.labelColor\')"\n            :error="activeItemValueValueError"\n            :zIndex="1000"\n            colorOutput="hex"\n            :readonly="true"\n            required>\n    </sw-colorpicker>\n{% endblock %}\n',computed:function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(n),!0).forEach((function(t){et(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Xe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},nt("activeItem",["value._value"]))});Shopware.Component.extend("swag-customized-products-option-type-numberfield","swag-customized-products-option-type-base",{template:'{% block swag_customized_products_option_type_base_content %}\n    <div class="swag-customized-products-option-type-numberfield__content">\n\n        {% block swag_customized_products_option_type_numberfield_field_item_number %}\n            <sw-text-field\n                    {% if VUE3 %}\n                        v-model:value="option.itemNumber"\n                    {% else %}\n                        v-model="option.itemNumber"\n                    {% endif %}\n                    :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                    :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderItemNumber\')"\n                    :label="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberLabel\')"\n                    :helpText="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberHelpText\')">\n            </sw-text-field>\n        {% endblock %}\n\n        {% block swag_customized_products_option_type_numberfield_field_group %}\n            <sw-container\n                    class="swag-customized-products-option-type-numberfield__field_group"\n                    columns="repeat(4, minmax(150px, 1fr))"\n                    gap="0px 32px">\n\n                {% block swag_customized_products_option_type_numberfield_field_min_value %}\n                    <sw-number-field\n                        {% if VUE3 %}\n                            v-model:value="option.typeProperties.minValue"\n                        {% else %}\n                            v-model="option.typeProperties.minValue"\n                        {% endif %}\n                        class="swag-customized-products-option-type-numberfield__field_min_value"\n                        name="sw-field--option-typeProperties-minValue"\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        :label="$tc(\'swag-customized-products.optionDetailModal.optionType.numberfield.minimumValueLabel\')"\n                        :step="0.1"\n                        :max="option.typeProperties.maxValue"\n                        placeholder="0"\n                        required>\n                    </sw-number-field>\n                {% endblock %}\n\n                {% block swag_customized_products_option_type_numberfield_field_max_value %}\n                    <sw-number-field\n                        {% if VUE3 %}\n                            v-model:value="option.typeProperties.maxValue"\n                        {% else %}\n                            v-model="option.typeProperties.maxValue"\n                        {% endif %}\n                        class="swag-customized-products-option-type-numberfield__field_max_value"\n                        name="sw-field--option-typeProperties-maxValue"\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        :label="$tc(\'swag-customized-products.optionDetailModal.optionType.numberfield.maximumValueLabel\')"\n                        :step="0.1"\n                        :min="option.typeProperties.minValue"\n                        placeholder="1"\n                        required>\n                    </sw-number-field>\n                {% endblock %}\n\n                {% block swag_customized_products_option_type_numberfield_field_interval %}\n                    <sw-number-field\n                        {% if VUE3 %}\n                            v-model:value="option.typeProperties.interval"\n                        {% else %}\n                            v-model="option.typeProperties.interval"\n                        {% endif %}\n                        class="swag-customized-products-option-type-numberfield__field_interval"\n                        name="sw-field--option-typeProperties-interval"\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        :label="$tc(\'swag-customized-products.optionDetailModal.optionType.numberfield.stepLabel\')"\n                        numberType="float"\n                        :step="0.1"\n                        :digits="10"\n                        placeholder="1"\n                        required>\n                    </sw-number-field>\n                {% endblock %}\n\n                {% block swag_customized_products_option_type_numberfield_field_default_value %}\n                    <swag-customized-products-nullable-number-field\n                        {% if VUE3 %}\n                            v-model:value="option.typeProperties.defaultValue"\n                        {% else %}\n                            v-model="option.typeProperties.defaultValue"\n                        {% endif %}\n                        class="swag-customized-products-option-type-numberfield__field_default_value"\n                        name="sw-field--option-typeProperties-defaultValue"\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        :label="$tc(\'swag-customized-products.optionDetailModal.optionType.defaultLabel\')"\n                        :step="0.1"\n                        :max="option.typeProperties.maxValue"\n                        :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.defaultPlaceholder\')">\n                    </swag-customized-products-nullable-number-field>\n                {% endblock %}\n\n            </sw-container>\n        {% endblock %}\n\n    </div>\n{% endblock %}\n',methods:{createdComponent:function(){this.checkRequired(this.option.typeProperties.minValue)||(this.option.typeProperties.minValue=0),this.checkRequired(this.option.typeProperties.maxValue)||(this.option.typeProperties.maxValue=100),this.checkRequired(this.option.typeProperties.interval)||(this.option.typeProperties.interval=1),this.$super("createdComponent")},validateInput:function(e){return this.checkRequired(e.typeProperties.minValue)&&this.checkRequired(e.typeProperties.maxValue)&&this.checkRequired(e.typeProperties.interval)}}});var ot=Shopware.Component,it=Shopware.Utils.types.isArray;ot.extend("swag-customized-products-option-type-htmleditor","swag-customized-products-option-type-base",{template:'{% block swag_customized_products_option_type_base_content %}\n    {% block swag_customized_products_option_type_htmleditor_content %}\n        <div class="swag-customized-products-option-type-htmleditor__content">\n            <sw-container\n                    class="swag-customized-products-option-type-textfield__field-group"\n                    columns="repeat(auto-fit, minmax(150px, 1fr))"\n                    gap="0px 30px">\n\n            {% block swag_customized_products_option_type_htmleditor_field_item_number %}\n                <sw-text-field {% if VUE3 %}\n                                   v-model:value="option.itemNumber"\n                               {% else %}\n                                   v-model="option.itemNumber"\n                               {% endif %}\n                               :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                               class="swag-customized-products-option-type-htmleditor__field_item_number"\n                               :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderItemNumber\')"\n                               :label="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberLabel\')"\n                               :helpText="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberHelpText\')">\n                </sw-text-field>\n            {% endblock %}\n\n                {% block swag_customized_products_option_type_htmleditor_field_placeholder %}\n                    <sw-text-field\n                            {% if VUE3 %}\n                                v-model:value="option.placeholder"\n                            {% else %}\n                                v-model="option.placeholder"\n                            {% endif %}\n                            :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                            class="swag-customized-products-option-type-htmleditor__field-placeholder"\n                            :placeholder="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderPlaceholder\')"\n                            :label="$tc(\'swag-customized-products.optionDetailModal.optionType.placeholderLabel\')">\n                    </sw-text-field>\n                {% endblock %}\n\n            </sw-container>\n        </div>\n    {% endblock %}\n{% endblock %}\n',methods:{createdComponent:function(){this.$super("createdComponent"),it(this.option.typeProperties)&&this.$set(this.option,"typeProperties",{}),this.option.typeProperties.hasOwnProperty("placeholder")||(this.option.typeProperties.placeholder="")}}});n("SkR/");Shopware.Component.extend("swag-customized-products-option-type-imageupload","swag-customized-products-option-type-base",{template:'{% block swag_customized_products_option_type_base_content %}\n    <div class="swag-customized-products-option-type-imageupload__content">\n\n        {% block swag_customized_products_option_type_imageupload_field_item_number %}\n            <sw-text-field {% if VUE3 %}\n                               v-model:value="option.itemNumber"\n                           {% else %}\n                               v-model="option.itemNumber"\n                           {% endif %}\n                           :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                           class="swag-customized-products-option-type-imageupload__field_item_number"\n                           :label="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberLabel\')"\n                           :helpText="$tc(\'swag-customized-products.optionDetailModal.optionType.itemNumberHelpText\')">\n            </sw-text-field>\n        {% endblock %}\n\n        {% block swag_customized_products_option_type_imageupload_limit_group %}\n            <sw-container class="swag-customized-products-option-type-imageupload__limit_group"\n                          columns="repeat(auto-fill, minmax(150px, 1fr))"\n                          gap="0 30px">\n\n                {% block swag_customized_products_option_type_imageupload_field_max_count %}\n                    <sw-number-field\n                        {% if VUE3 %}\n                            v-model:value="option.typeProperties.maxCount"\n                        {% else %}\n                            v-model="option.typeProperties.maxCount"\n                        {% endif %}\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        class="swag-customized-products-option-type-imageupload__field_max_count"\n                        :label="$tc(\'swag-customized-products.optionDetailModal.optionType.imageupload.maxCountLabel\')"\n                        :min="1"\n                        numberType="int"\n                        required>\n                    </sw-number-field>\n                {% endblock %}\n\n                {% block swag_customized_products_option_type_imageupload_field_max_file_size %}\n                    <sw-number-field\n                        {% if VUE3 %}\n                            v-model:value="option.typeProperties.maxFileSize"\n                        {% else %}\n                            v-model="option.typeProperties.maxFileSize"\n                        {% endif %}\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        class="swag-customized-products-option-type-imageupload__field_max_file_size"\n                        :label="$tc(\'swag-customized-products.optionDetailModal.optionType.imageupload.maxFileSizeLabel\')"\n                        :min="1"\n                        numberType="int"\n                        required>\n\n                        {% block swag_customized_products_option_type_imageupload_field_max_file_size_suffix %}\n                            <template #suffix>\n                                <span>MB</span>\n                            </template>\n                        {% endblock %}\n                    </sw-number-field>\n                {% endblock %}\n\n                {% block swag_customized_products_option_type_imageupload_field_excluded_extensions %}\n                    <sw-multi-select\n                        {% if VUE3 %}\n                            v-model:value="option.typeProperties.excludedExtensions"\n                        {% else %}\n                            v-model="option.typeProperties.excludedExtensions"\n                        {% endif %}\n                        :disabled="!acl.can(\'swag_customized_products_template.editor\')"\n                        class="swag-customized-products-option-type-imageupload__field_excluded_extensions"\n                        :label="$tc(\'swag-customized-products.optionDetailModal.optionType.imageupload.excludedExtensionsLabel\')"\n                        valueLimit="3"\n                        :options="extensions">\n                    </sw-multi-select>\n                {% endblock %}\n            </sw-container>\n        {% endblock %}\n    </div>\n{% endblock %}\n',computed:{extensions:function(){return[{value:"jpg",label:"JPG"},{value:"png",label:"PNG"},{value:"gif",label:"GIF"},{value:"webp",label:"WEBP"},{value:"svg",label:"SVG"},{value:"bmp",label:"BMP"},{value:"tif",label:"TIF"},{value:"eps",label:"EPS"}]}},created:function(){void 0===this.option.typeProperties.maxFileSize&&this.$set(this.option.typeProperties,"maxFileSize",10),void 0===this.option.typeProperties.maxCount&&this.$set(this.option.typeProperties,"maxCount",1),void 0===this.option.typeProperties.excludedExtensions&&this.$set(this.option.typeProperties,"excludedExtensions",[])},methods:{validateInput:function(e){return this.checkRequired(e.typeProperties.maxFileSize)&&this.checkRequired(e.typeProperties.maxCount)}}});n("ZH2x");Shopware.Module.register("swag-customized-products",{type:"plugin",name:"customized-products",title:"swag-customized-products.general.mainMenuItemGeneral",description:"swag-customized-products.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#57D9A3",icon:"regular-products",favicon:"icon-module-products.png",entity:"swag_customized_products_template",routes:{index:{component:"swag-customized-products-list",path:"index",meta:{privilege:"swag_customized_products_template.viewer"}},detail:{component:"swag-customized-products-detail",path:"detail/:id",props:{default:function(e){return{templateId:e.params.id}}},redirect:{name:"swag.customized.products.detail.base"},meta:{privilege:"swag_customized_products_template.viewer"},children:{base:{component:"swag-customized-products-detail-base",path:"base",meta:{parentPath:"swag.customized.products.index",privilege:"swag_customized_products_template.viewer"}}}},create:{component:"swag-customized-products-detail",path:"create",redirect:{name:"swag.customized.products.create.base"},children:{base:{component:"swag-customized-products-detail-base",path:"base",meta:{privilege:"swag_customized_products_template.creator",parentPath:"swag.customized.products.index"}}},meta:{privilege:"swag_customized_products_template.creator",parentPath:"swag.customized.products.index"}}},navigation:[{id:"swag-customized-products",path:"swag.customized.products.index",label:"swag-customized-products.general.mainMenuItemGeneral",parent:"sw-catalogue",privilege:"swag_customized_products_template.viewer",position:35}]});n("scCr"),n("IKsH");Shopware.Component.override("sw-product-detail-specifications",{template:'{% block sw_product_detail_specifications_custom_products %}\n    <sw-inherit-wrapper\n            {% if VUE3 %}\n                v-model:value="product.swagCustomizedProductsTemplateId"\n            {% else %}\n                v-model="product.swagCustomizedProductsTemplateId"\n            {% endif %}\n            class="swag-customized-products-product-assignment"\n            ref="swagCustomizedProductsTemplate"\n            :inheritedValue="parentProduct.swagCustomizedProductsTemplateId"\n            :customInheritationCheckFunction="swagCustomizedProductsCheckInheritanceFunction"\n            :customRestoreInheritanceFunction="swagCustomizedProductsRestoreInheritanceFunction"\n            :customRemoveInheritanceFunction="swagCustomizedProductsRemoveInheritanceFunction"\n            isAssociation>\n\n            <template #content="{ isInherited, isInheritField, restoreInheritance, removeInheritance, currentValue, updateCurrentValue }">\n                {% block swag_customized_products_product_assignment_extension_card %}\n                    <sw-card v-show="showProductCard(\'customized_products\')"\n                             :class="{ \'sw-card__inherited\': isInherited }"\n                             :isLoading="isLoading"\n                             :title="$tc(\'swag-customized-products-product-assignment.cardTitle\')">\n                        <template #title>\n\n                            {% block swag_customized_products_product_assignment_extension_card_title %}\n                                <div class="swag-customized-products-product-assignment__card-title sw-card__title" :class="{ \'sw-card__title__inherited\': isInherited }">\n                                    <sw-inheritance-switch\n                                            v-if="isInheritField"\n                                            class="swag-customized-products-product-assignment__inheritance-icon sw-inherit-wrapper__inheritance-icon"\n                                            :isInherited="isInherited"\n                                            @inheritance-restore="restoreInheritance"\n                                            @inheritance-remove="removeInheritance">\n                                    </sw-inheritance-switch>\n                                    {{ $tc(\'swag-customized-products-product-assignment.cardTitle\') }}\n                                </div>\n                            {% endblock %}\n\n                        </template>\n\n                        {% block swag_customized_products_product_assignment_extension_card_info %}\n                            <sw-container class="swag-customized-products-product-assignment__info">\n\n                                {% block swag_customized_products_product_assignment_extension_card_info_headline %}\n                                    <span class="swag-customized-products-product-assignment__info-headline">\n                                        {{ $tc(\'swag-customized-products-product-assignment.textHeadline\') }}\n                                    </span>\n                                {% endblock %}\n\n                                {% block swag_customized_products_product_assignment_extension_card_info_content %}\n                                    <p v-html="$tc(\'swag-customized-products-product-assignment.textContent\')"\n                                       class="swag-customized-products-product-assignment__info-text">\n                                    </p>\n                                {% endblock %}\n\n                            </sw-container>\n                        {% endblock %}\n\n                        {% block swag_customized_products_product_assignment_extension_card_form %}\n                            <sw-container class="swag-customized-products-product-assignment__select-container">\n\n                                {% block swag_customized_products_product_assignment_extension_card_select %}\n                                    <sw-entity-single-select\n                                            class="swag-customized-products-product-assignment__select"\n                                            entity="swag_customized_products_template"\n                                            labelProperty="internalName"\n                                            :label="$tc(\'swag-customized-products-product-assignment.selectLabel\')"\n                                            :placeholder="$tc(\'swag-customized-products-product-assignment.selectPlaceholder\')"\n                                            :isInherited="isInherited"\n                                            {% if VUE3 %}\n                                                v-model:value="currentValue"\n                                                @update:value="updateCurrentValue"\n                                            {% else %}\n                                                v-model="currentValue"\n                                                @change="updateCurrentValue"\n                                            {% endif %}\n                                            :disabled="isInherited || !acl.can(\'product.editor\')">\n                                    </sw-entity-single-select>\n                                {% endblock %}\n\n                            </sw-container>\n                        {% endblock %}\n\n                        {% block swag_customized_products_product_assignment_extension_card_module_link_container %}\n                            <sw-container\n                                    class="swag-customized-products-product-assignment__link-container"\n                                    columns="1fr"\n                                    justify="end">\n\n                                {% block swag_customized_products_product_assignment_extension_card_module_link %}\n                                    <router-link\n                                            class="swag-customized-products-product-assignment__quick-link sw-card__quick-link"\n                                            :to="{ name: \'swag.customized.products.index\' }">\n                                        {{ $tc(\'swag-customized-products-product-assignment.moduleLink\') }} <sw-icon name="regular-long-arrow-right" small></sw-icon>\n                                    </router-link>\n                                {% endblock %}\n\n                            </sw-container>\n                        {% endblock %}\n\n                    </sw-card>\n                {% endblock %}\n            </template>\n    </sw-inherit-wrapper>\n{% endblock %}\n',methods:{swagCustomizedProductsCheckInheritanceFunction:function(){return!!this.product.customFields.swagCustomizedProductsTemplateInherited},swagCustomizedProductsRestoreInheritanceFunction:function(){return this.product.customFields.swagCustomizedProductsTemplateInherited=!0,this.product.swagCustomizedProductsTemplateId=null,this.$refs.swagCustomizedProductsTemplate.forceInheritanceRemove=!1,this.product.swagCustomizedProductsTemplateId},swagCustomizedProductsRemoveInheritanceFunction:function(){return this.product.customFields.swagCustomizedProductsTemplateInherited=!1,this.product.swagCustomizedProductsTemplateId=null,this.$refs.swagCustomizedProductsTemplate.forceInheritanceRemove=!0,this.product.swagCustomizedProductsTemplateId}}});n("JK9/");function rt(e){return function(e){if(Array.isArray(e))return at(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var st=Shopware.Component,ct=Shopware.Data.EntityCollection;st.override("sw-order-line-items-grid",{template:'{% block sw_order_line_items_grid_grid_columns_label_link %}\n    <router-link v-else-if="!isInlineEdit && item.type === \'product\' && !productHasCustomizedProduct(item)"\n                 :title="$tc(\'sw-order.detailBase.contextMenuShowProduct\')"\n                 :to="{ name: \'sw.product.detail\', params: { id: item.productId } }">\n\n        {% block sw_order_line_items_grid_columns_name_label %}\n            <div v-if="item.payload && item.payload.options"\n                 class="sw-order-line-items-grid__item-payload-options">\n                <sw-product-variant-info :variations="item.payload.options">\n                    {{ item.label }}\n                </sw-product-variant-info>\n            </div>\n        {% endblock %}\n    </router-link>\n\n    <template v-else-if="!isInlineEdit && item.type ===\'product\' && productHasCustomizedProduct(item)">\n        <a href="#" class="swag-customized-product__open-product-link" @click.prevent="onOpenCustomProductConfiguration(item)">\n\n            {% block swag_customized_products_order_line_items_grid_columns_name_label %}\n                <strong v-if="productHasCustomizedProduct(item)" class="swag-customized-products-order-line-item-prefix">\n                    {{ $tc(\'swag-customized-products.extension.textOrderItemPrefix\') }}:\n                </strong>\n\n                <div v-if="item.payload && item.payload.options"\n                     class="sw-order-line-items-grid__item-payload-options">\n                    <sw-product-variant-info :variations="item.payload.options">\n                        {{ item.label }}\n                    </sw-product-variant-info>\n                </div>\n            {% endblock %}\n        </a>\n    </template>\n\n    {% parent %}\n{% endblock %}\n\n{# Modify the name to pretend an indicator when we\'re dealing with a product #}\n{% block sw_order_line_items_grid_grid_columns_label_content %}\n    <template v-else>\n        <strong v-if="productHasCustomizedProduct(item)" class="swag-customized-products-order-line-item-prefix">\n            {{ $tc(\'swag-customized-products.extension.textOrderItemPrefix\') }}:\n        </strong>\n        {{ item.label }}\n    </template>\n{% endblock %}\n\n{# Replace the original product price with the calculated custom product price #}\n{% block sw_order_line_items_grid_grid_columns_unit_price_inline_edit %}\n    <template v-if="productHasCustomizedProduct(item)">\n        <template v-if="item.parent">\n            {{ item.parent.unitPrice | currency(order.currency.shortName) }}\n        </template>\n\n        <template v-else>\n            {{ item.unitPrice | currency(order.currency.shortName) }}\n        </template>\n    </template>\n\n    <template v-else>\n        {% parent %}\n    </template>\n{% endblock %}\n\n{% block sw_order_line_items_grid_grid_columns_unit_price_content %}\n    <template v-if="!productHasCustomizedProduct(item) && (!isInlineEdit || itemCreatedFromProduct(item.id))">\n        {{ item.unitPrice | currency(order.currency.shortName) }}\n    </template>\n{% endblock %}\n\n{# Replace the original product price with the calculated custom product price #}\n{% block sw_order_line_items_grid_grid_columns_total_price_content %}\n    <template v-if="item.parent">\n        {{ item.parent.totalPrice | currency(order.currency.shortName) }}\n    </template>\n\n    <template v-else>\n        {% parent %}\n    </template>\n{% endblock %}\n\n{# Append "view configuration" button to the action column of the grid #}\n{% block sw_order_line_items_grid_grid_actions_show %}\n    {% parent %}\n    <sw-context-menu-item :disabled="!productHasCustomizedProduct(item) || !acl.can(\'swag_customized_products_template.viewer\')"\n                          @click="onOpenCustomProductConfiguration(item)">\n        {{ $tc(\'swag-customized-products.extension.buttonViewConfiguration\') }}\n    </sw-context-menu-item>\n{% endblock %}\n\n{# Append custom products configuration modal window #}\n{% block sw_order_line_items_grid_actions %}\n    {% parent %}\n\n    <swag-customized-products-configuration-modal\n        v-if="currentProduct && isCustomProductModalOpen"\n        :orderLineItems="unfilteredOrderLineItems"\n        :currentProduct="currentProduct"\n        :currency="order.currency"\n        @modal-close="onCloseCustomProductConfigurationModal">\n    </swag-customized-products-configuration-modal>\n{% endblock %}\n',inject:["acl","feature"],data:function(){return{unfilteredOrderLineItems:[],isCustomProductModalOpen:!1,currentProduct:null}},computed:{orderLineItems:function(){var e=this.$super("orderLineItems");return this.hydrateLineItems(e)}},methods:{hydrateLineItems:function(e){var t=this,n=e.reduce((function e(t,n){return t.push(n),n.children&&n.children.length>0&&n.children.reduce(e,t),t}),[]);this.unfilteredOrderLineItems=this.createUnfilteredEntityCollection(n);var o=this.filterLineItems(n);return o.forEach((function(e){t.productHasCustomizedProduct(e)&&"product"===e.type&&(e.parent=n.find((function(t){return t.id===e.parentId})))})),o},createUnfilteredEntityCollection:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=new ct(this.order.lineItems.source,this.order.lineItems.entity,this.order.lineItems.context,this.order.lineItems.criteria);return t.push.apply(t,rt(e)),t},filterLineItems:function(e){return e.filter((function(e){return!["customized-products","customized-products-option","option-values"].includes(e.type)}))},productHasCustomizedProduct:function(e){return!!e.parentId&&this.order.lineItems.has(e.parentId)},onOpenCustomProductConfiguration:function(e){this.acl.can("swag_customized_products_template.viewer")&&(this.isCustomProductModalOpen=!0,this.currentProduct=e)},onCloseCustomProductConfigurationModal:function(){this.isCustomProductModalOpen=!1,this.currentProduct=null},onConfirmDelete:function(){var e=this,t=this.unfilteredOrderLineItems.get(this.showDeleteModal);void 0!==t.parent&&(this.showDeleteModal=t.parentId),this.orderLineItemRepository.delete(this.showDeleteModal,this.context).then((function(){e.$emit("item-delete")})),this.showDeleteModal=!1}}});n("f2W5");var lt=Shopware.Component,dt=Shopware.Data.Criteria,ut=Shopware.Context.api;lt.register("swag-customized-products-configuration-modal",{template:'{% block swag_customized_product_configuration_modal %}\n    <sw-modal class="swag-customized-products-configuration-modal"\n              :title="$tc(\'swag-customized-products-configuration-modal.title\')"\n              @modal-close="onCloseModal">\n\n        {% block swag_customized_product_configuration_modal_renderer %}\n            <template v-if="!isLoading">\n                <swag-customized-products-dynamic-form-field-renderer\n                    v-for="option in options"\n                    :product="currentProduct"\n                    :option="option"\n                    :currency="currency"\n                    :key="option.id">\n                </swag-customized-products-dynamic-form-field-renderer>\n\n                <span v-if="options.length === 0">{{ $tc(\'swag-customized-products-configuration-modal.emptyConfigurationHint\') }}</span>\n            </template>\n        {% endblock %}\n\n        {% block swag_customized_product_configuration_modal_loader %}\n            <template v-else>\n                <sw-loader></sw-loader>\n            </template>\n        {% endblock %}\n\n        {% block swag_customized_product_configuration_modal_footer %}\n            <template #modal-footer>\n                <sw-button size="small" @click="onCloseModal">\n                    {{ $tc(\'global.default.cancel\') }}\n                </sw-button>\n            </template>\n        {% endblock %}\n    </sw-modal>\n{% endblock %}\n',inject:["repositoryFactory"],props:{orderLineItems:{type:Array,required:!0},currentProduct:{type:Object,required:!0},currency:{type:Object,required:!0}},data:function(){return{isLoading:!1,options:[]}},computed:{customProductContainer:function(){var e=this.currentProduct.parentId;if(!this.orderLineItems.has(e))return null;var t=this.orderLineItems.get(e);return"customized-products"!==t.type?null:t},customProductOptions:function(){var e=this.customProductContainer;return e?this.orderLineItems.reduce((function(t,n){return"customized-products-option"===n.type&&n.parentId===e.id&&t.push(n),t}),[]):[]},templateRepository:function(){return this.repositoryFactory.create("swag_customized_products_template")},optionValueRepository:function(){return this.repositoryFactory.create("swag_customized_products_template_option_value")},mediaRepository:function(){return this.repositoryFactory.create("media")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.fetchCustomProductTemplate()},onCloseModal:function(){this.$emit("modal-close")},fetchCustomProductTemplate:function(){var e=this;if(!this.customProductContainer.referencedId)return Promise.reject(new Error("Custom Product container was not found in order."));this.isLoading=!0;var t=this.createCustomProductTemplateCriteria();return this.templateRepository.get(this.customProductContainer.referencedId,ut,t).then((function(t){return e.options=e.hydrateCustomProductOptions(t),e.options}))},createCustomProductTemplateCriteria:function(){var e=new dt(1,null);return e.addAssociation("options"),e.addAssociation("options.values"),e.getAssociation("options").addSorting(dt.sort("position","ASC")),e.getAssociation("options.values").addSorting(dt.sort("position","ASC")),e},customProductOptionValues:function(e){return this.orderLineItems.reduce((function(t,n){return"option-values"===n.type&&e===n.parentId&&t.push(n),t}),[])},hydrateCustomProductOptions:function(e){var t=this,n=[],o=[];return e.options.forEach((function(e){var i=t.customProductOptions.find((function(t){return t.referencedId===e.id}));if(i){var r=i.payload.value;e.values.length>0&&(r=[],t.customProductOptionValues(i.id).forEach((function(n){var i={oneTimeSurcharge:n.payload.isOneTimeSurcharge,price:n.unitPrice,displayName:n.label,value:n.payload.value._value};"imageselect"!==e.type?r.push(i):o.push(t.mediaRepository.get(i.value,Shopware.Context.api).then((function(e){i.value=e,r.push(i)})))})));var a={id:i.referencedId,type:i.payload.type,displayName:i.label,price:i.price.unitPrice,oneTimeSurcharge:i.payload.isOneTimeSurcharge,value:r,media:[]};Object.prototype.hasOwnProperty.call(i.payload,"media")&&(a.media=i.payload.media),n.push(a)}})),Promise.all(o).then((function(){t.isLoading=!1})),n}}});n("kTGA");var pt=Shopware,mt=pt.Component,_t=pt.Filter;function ft(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],o=e.price;if(!o)return e.displayName;var i=t.currency,r=!0===e.oneTimeSurcharge?t.$tc("swag-customized-products-configuration-modal.oneTimeSurchargeSuffix"):t.$tc("swag-customized-products-configuration-modal.perItemSuffix"),a="".concat(_t.getByName("currency")(o,i.shortName)," ").concat(r);return o>0&&(a="+".concat(a)),a=!0===n?"<strong>(".concat(a,")</strong>"):"(".concat(a,")"),"".concat(e.displayName," ").concat(a)}function gt(e,t){var n=null;!0===t.showImageModal&&(n=function(e,t){var n=e("img",{class:"swag-customized-products-configuration-modal__image-content",attrs:{src:this.imageModal.url}}),o=e("div",{class:"swag-customized-products-configuration__image-wrapper"},[n]);return e("sw-modal",{class:"swag-customized-products-configuration__image-modal",props:{title:this.imageModal.label,variant:"full"},scopedSlots:{default:function(){return o}},on:{"modal-close":function(){t.showImageModal=!1}}})}(e,t));var o=function(e,t){var n=this;return t.option.value.reduce((function(o,i){var r=e("sw-icon",{class:"swag-customized-products-configuration-modal__image-label-icon",props:{name:"regular-eye-s",size:"12px"}}),a=e("span",{domProps:{innerHTML:ft(i,t,!0)}});return o.push(e("sw-label",{class:{"swag-customized-products-configuration-modal__label":!0,"swag-customized-products-configuration-modal__label--clickable":!0},scopedSlots:{default:function(){return[a,r]}},on:{selected:function(){n.imageModal={label:i.displayName,url:i.value.url},t.showImageModal=!0}}})),o}),[])}(e,t),i=e("template",{slot:"sw-field-input"},o),r=e("sw-block-field",{class:"swag-customized-products-configuration-modal__tagged-field",attrs:{label:ft(t.option,t)}},[i]);return e("div",{},[r,n])}function ht(e,t){switch(t.option.type){case"textarea":return function(e,t){return e("sw-textarea-field",{props:{value:t.option.value},attrs:{label:ft(t.option,t),disabled:!0,readonly:!0}})}(e,t);case"numberfield":return function(e,t){return e("sw-number-field",{props:{value:window.parseFloat(t.option.value)},attrs:{label:ft(t.option,t),disabled:!0,readonly:!0}})}(e,t);case"checkbox":return function(e,t){return e("sw-switch-field",{attrs:{label:ft(t.option,t),value:!0,disabled:!0}})}(e,t);case"timestamp":return function(e,t){return e("sw-text-field",{props:{value:new Date(t.option.value).toISOString().split("T")[1].split(".")[0]},attrs:{label:ft(t.option,t),disabled:!0,readonly:!0}})}(e,t);case"datetime":return function(e,t){return e("sw-text-field",{props:{value:new Date(t.option.value).toISOString().split("T")[0]},attrs:{label:ft(t.option,t),disabled:!0,readonly:!0}})}(e,t);case"select":return function(e,t){var n=t.option.value.reduce((function(n,o){return n.push(e("sw-label",{class:"swag-customized-products-configuration-modal__label",domProps:{innerHTML:ft(o,t,!0)}})),n}),[]),o=e("template",{slot:"sw-field-input"},n);return e("sw-block-field",{class:"swag-customized-products-configuration-modal__tagged-field",attrs:{label:ft(t.option,t)}},[o])}(e,t);case"colorselect":return function(e,t){var n=t.option.value.reduce((function(n,o){var i='<div style="background-color: '.concat(o.value,';"\n                                   class="swag-customized-products-configuration-modal__color-preview"></div>');return n.push(e("sw-label",{class:{"swag-customized-products-configuration-modal__label":!0,"swag-customized-products-configuration-modal__label-colorselect":!0},domProps:{innerHTML:i+ft(o,t,!0)}})),n}),[]),o=e("template",{slot:"sw-field-input"},n);return e("sw-block-field",{class:"swag-customized-products-configuration-modal__tagged-field",attrs:{label:ft(t.option,t)}},[o])}(e,t);case"imageselect":return gt(e,t);case"htmleditor":return function(e,t){var n=e("div",{class:"sw-field__label"},[e("label",{class:"swag-customized-products-html-renderer__label",attrs:{for:"swag-customized-products-html-renderer__display"},domProps:{innerHTML:ft(t.option,t)}})]),o=e("div",{class:["sw-block-field__block","swag-customized-products-html-renderer__display"],domProps:{innerHTML:t.option.value}});return e("div",{class:["sw-field","sw-block-field","sw-field--textarea","is--disabled","sw-field--default","swag-customized-products-html-renderer"]},[n,o])}(e,t);case"fileupload":case"imageupload":return function(e,t){return e("swag-customized-products-media-preview",{props:{mediaItems:t.option.media,optionId:t.option.id,label:ft(t.option,t)}})}(e,t);default:return function(e,t){return e("sw-text-field",{props:{value:t.option.value},attrs:{label:ft(t.option,t),disabled:!0,readonly:!0}})}(e,t)}}mt.register("swag-customized-products-dynamic-form-field-renderer",{render:function(e){return ht(e,this)},props:{option:{type:Object,required:!0},currency:{type:Object,required:!0}},data:function(){return{showImageModal:!1}}});n("VprP")},eCFA:function(e,t,n){},eSO6:function(e,t){Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"catalogues",key:"swag_customized_products_template",roles:{viewer:{privileges:[Shopware.Service("privileges").getPrivileges("media.viewer"),"version:read","tax:read","currency:read","swag_customized_products_template:read","swag_customized_products_template_media:read","swag_customized_products_template_option:read","swag_customized_products_template_option_value:read","swag_customized_products_template_option_price:read","swag_customized_products_template_options:read","swag_customized_products_template_products:read","swag_customized_products_template_exclusion:read","swag_customized_products_template_exclusions:read","swag_customized_products_template_exclusion_condition:read","swag_customized_products_template_exclusion_operator:read","swag_customized_products_template_configurations:read","swag_customized_products_template_option_value_price:read"],dependencies:[]},editor:{privileges:[Shopware.Service("privileges").getPrivileges("media.creator"),"version:update","tax:update","currency:update","swag_customized_products_template:update","swag_customized_products_template_media:update","swag_customized_products_template_option:update","swag_customized_products_template_option_value:update","swag_customized_products_template_option_price:update","swag_customized_products_template_options:update","swag_customized_products_template_products:update","swag_customized_products_template_exclusion:update","swag_customized_products_template_exclusions:update","swag_customized_products_template_exclusion_condition:update","swag_customized_products_template_exclusion_operator:update","swag_customized_products_template_configurations:update","swag_customized_products_template_option_value_price:update","swag_customized_products_template_media:create","swag_customized_products_template_option:create","swag_customized_products_template_option_value:create","swag_customized_products_template_option_price:create","swag_customized_products_template_options:create","swag_customized_products_template_exclusion:create","swag_customized_products_template_exclusions:create","swag_customized_products_template_exclusion_condition:create","swag_customized_products_template_exclusion_operator:create","swag_customized_products_template_configurations:create","swag_customized_products_template_option_value_price:create","version:delete","swag_customized_products_template_option:delete","swag_customized_products_template_option_value:delete","swag_customized_products_template_option_price:delete","swag_customized_products_template_options:delete","swag_customized_products_template_exclusion:delete","swag_customized_products_template_exclusions:delete","swag_customized_products_template_exclusion_condition:delete","swag_customized_products_template_exclusion_operator:delete","swag_customized_products_template_configurations:delete","swag_customized_products_template_option_value_price:delete"],dependencies:["swag_customized_products_template.viewer"]},deleter:{privileges:[Shopware.Service("privileges").getPrivileges("media.deleter"),"version:delete","tax:delete","currency:delete","swag_customized_products_template:delete","swag_customized_products_template_media:delete","swag_customized_products_template_option:delete","swag_customized_products_template_option_value:delete","swag_customized_products_template_option_price:delete","swag_customized_products_template_options:delete","swag_customized_products_template_products:delete","swag_customized_products_template_exclusion:delete","swag_customized_products_template_exclusions:delete","swag_customized_products_template_exclusion_condition:delete","swag_customized_products_template_exclusion_operator:delete","swag_customized_products_template_configurations:delete","swag_customized_products_template_option_value_price:delete"],dependencies:["swag_customized_products_template.viewer"]},creator:{privileges:[Shopware.Service("privileges").getPrivileges("media.creator"),"version:create","tax:create","currency:create","swag_customized_products_template:create","swag_customized_products_template_media:create","swag_customized_products_template_option:create","swag_customized_products_template_option_value:create","swag_customized_products_template_option_price:create","swag_customized_products_template_options:create","swag_customized_products_template_products:create","swag_customized_products_template_exclusion:create","swag_customized_products_template_exclusions:create","swag_customized_products_template_exclusion_condition:create","swag_customized_products_template_exclusion_operator:create","swag_customized_products_template_configurations:create","swag_customized_products_template_option_value_price:create"],dependencies:["swag_customized_products_template.viewer","swag_customized_products_template.editor"]}}}),Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"catalogues",key:"product",roles:{viewer:{privileges:["swag_customized_products_template:read"]}}})},f2W5:function(e,t,n){var o=n("eCFA");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("48e351a5",o,!0,{})},fA0m:function(e,t,n){var o=n("m+m7");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("fa01f1e0",o,!0,{})},hrM5:function(e,t,n){var o=n("6HXJ");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("3c5bddc6",o,!0,{})},"j+kO":function(e,t,n){},kTGA:function(e,t,n){var o=n("SlUi");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("6399fb40",o,!0,{})},l0Tq:function(e,t,n){},"m+m7":function(e,t,n){},oUoh:function(e,t,n){},q89k:function(e,t,n){var o=n("5ku8");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("649c20aa",o,!0,{})},scCr:function(e,t){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}var i=Shopware,r=i.Component,a=i.State;r.override("sw-product-detail",{computed:{getModeSettingSpecificationsTab:function(){var e={key:"customized_products",label:"swag-customized-products-product-assignment.cardTitle",enabled:!0,name:"specifications"};return this.$super("getModeSettingSpecificationsTab").reduce((function(t,n){return t.push(n),"essential_characteristics"===n.key&&t.push(e),t}),[])}},beforeCreate:function(){var e=a.get("swProductDetail").modeSettings;a.commit("swProductDetail/setModeSettings",[].concat(n(e),["customized_products"]))}})},sjBO:function(e,t,n){var o=n("4Etg");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("30d00d7d",o,!0,{})},vxDq:function(e,t){Shopware.Mixin.register("swag-customized-products-option",{methods:{translateOption:function(e){return this.$tc("swag-customized-products.optionTypes.".concat(e))}}})},wt9y:function(e,t,n){},"y+4J":function(e,t,n){var o=n("3HEn");o.__esModule&&(o=o.default),"string"==typeof o&&(o=[[e.i,o,""]]),o.locals&&(e.exports=o.locals);(0,n("P8hj").default)("2e1e0630",o,!0,{})},yzIl:function(e,t,n){},zQTJ:function(e,t){function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}Shopware.Component.extend("swag-customized-products-multi-select-extended","sw-multi-select",{props:{options:{type:Array,required:!1,default:function(){return[]}},searchFunction:{type:Function,required:!1,default:function(e){var t=this,n=e.options,o=e.labelProperty,i=e.valueProperty,r=n.filter((function(e){var n=e[o];return!!n&&n.toLowerCase()===t.searchTerm.toLowerCase()}));if(r.length>0)return r;var a={};return a[o]=this.searchTerm,a[i]=this.searchTerm,[a]}}},watch:{value:{handler:function(e){var t=this;this.options.splice(0),e.forEach((function(e){var n={};n[t.labelProperty]=e,n[t.valueProperty]=e,t.options.push(n)}))},deep:!0,immediate:!0}},created:function(){this.$on("item-add",this.onItemAdded),this.$on("item-remove",this.onItemRemoved)},methods:{addItem:function(e){if(void 0!==e){var t=e[this.valueProperty];this.isSelected(e)?this.remove(e):(this.$emit("item-add",e),this.currentValue=[].concat(n(this.currentValue),[t]),this.$refs.selectionList.focus(),this.$refs.selectionList.select())}},onItemAdded:function(e){var t=this;void 0===this.options.find((function(n){return n[t.valueProperty]===e[t.valueProperty]&&n[t.labelProperty]===e[t.labelProperty]}))&&this.options.push(e),this.searchTerm="",this.$refs.selectionList.focus(),this.$refs.selectionList.select()},onItemRemoved:function(e){var t=this;this.options.splice(this.options.findIndex((function(n){return n[t.valueProperty]===e[t.valueProperty]&&n[t.labelProperty]===e[t.labelProperty]})),1),this.searchTerm=""},onSearchTermChange:function(e){this.searchTerm=e,this.$emit("search-term-change",this.searchTerm),this.resetActiveItem()}}})}});
//# sourceMappingURL=swag-customized-products.js.map