"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["compumess"],{59:(e,t,i)=>{var n,r,s,o=i(4699),a=i(3206),l=i(1857),u=i.n(l);class h extends o.Z{init(){const{name:e,minInputValue:t,maxInputValue:i,min:n,max:r}=this.options,s=`#range-slider-${e}`,o=this;this.sliderElem=a.Z.querySelector(this.el,s),this.slider=$(this.sliderElem),this.rangeInfo=a.Z.querySelector(this.el,".compumess-range-slider-info"),this.rangeInfoMin=a.Z.querySelector(this.rangeInfo,"#range-slider-info-min"),this.rangeInfoMax=a.Z.querySelector(this.rangeInfo,"#range-slider-info-max"),this.slider.slider({range:!0,min:t,max:i,values:[t,i],stop:o._onSliderStop.bind(o),slide:o._onSliderSlide.bind(o)}),super.init()}setValuesFromUrl(e){const t=this.slider.slider("values"),{name:i,minKey:n,maxKey:r}=this.options;let s=!1;return Object.keys(e).forEach((o=>{const a=e[o];o.includes(i)&&a&&(o===n?(t[0]=a,s=!0):o===r&&(t[1]=a,s=!0))})),this._setSliderValues(t),this._updateRangeInfo(t),s}getValues(){const[e,t]=this._getSliderValues(),{name:i,minKey:n,maxKey:r}=this.options;return{[n]:e,[r]:t}}_getSliderValues(){return this.slider.slider("values")}_setSliderValues(e){this.slider.slider("values",e)}getLabels(){return[]}_onSliderStop(){window.clearTimeout(this.timeout),this.timeout=window.setTimeout((()=>{this.listing.changeListing()}),this.options.inputTimeout)}_onSliderSlide(e,t){this._updateRangeInfo(t.values)}_updateRangeInfo(e=[]){let[t,i]=e;const{decimals:n,currencySymbol:r}=this.options;t=Number(t),i=Number(i),n&&(t=t.toFixed(n),i=i.toFixed(n)),r&&r.length&&(t=`${t} ${r}`,i=`${i} ${r}`),this.rangeInfoMin.textContent=t,this.rangeInfoMax.textContent=i}}n=h,r="options",s=u()(o.Z.options,{containerSelector:".filter-range-slider-container",inputTimeout:500}),(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s;window.PluginManager.register("FilterRangeSliderPlugin",h,"[data-filter-range-slider]")},6536:(e,t,i)=>{i.d(t,{Z:()=>l});var n,r,s,o=i(6285),a=i(3206);class l extends o.Z{_init(){super._init(),this._validateMethods();const e=a.Z.querySelector(document,this.options.parentFilterPanelSelector);this.listing=window.PluginManager.getPluginInstanceFromElement(e,"Listing"),this.listing.registerFilter(this),this._preventDropdownClose()}_preventDropdownClose(){const e=a.Z.querySelector(this.el,this.options.dropdownSelector,!1);e&&e.addEventListener("click",(e=>{e.stopPropagation()}))}_validateMethods(){if("function"!=typeof this.getValues)throw new Error(`[${this._pluginName}] Needs the method "getValues"'`);if("function"!=typeof this.getLabels)throw new Error(`[${this._pluginName}] Needs the method "getLabels"'`);if("function"!=typeof this.reset)throw new Error(`[${this._pluginName}] Needs the method "reset"'`);if("function"!=typeof this.resetAll)throw new Error(`[${this._pluginName}] Needs the method "resetAll"'`)}}n=l,s={parentFilterPanelSelector:".cms-element-product-listing-wrapper",dropdownSelector:".filter-panel-item-dropdown"},(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(r="options"))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s},4699:(e,t,i)=>{i.d(t,{Z:()=>h});var n,r,s,o=i(6536),a=i(3206),l=i(1857),u=i.n(l);class h extends o.Z{init(){this._container=a.Z.querySelector(this.el,this.options.containerSelector),this._inputMin=a.Z.querySelector(this.el,this.options.inputMinSelector),this._inputMax=a.Z.querySelector(this.el,this.options.inputMaxSelector),this._timeout=null,this._hasError=!1,this._registerEvents()}_registerEvents(){this._inputMin.addEventListener("input",this._onChangeInput.bind(this)),this._inputMax.addEventListener("input",this._onChangeInput.bind(this))}_onChangeInput(){clearTimeout(this._timeout),this._timeout=setTimeout((()=>{this._isInputInvalid()?this._setError(this._getErrorMessageTemplate("filterRangeErrorMessage")):this._isInputLowerBoundInvalid()?this._setError(this._getErrorMessageTemplate("filterRangeLowerBoundErrorMessage")):this._removeError(),this.listing.changeListing()}),this.options.inputTimeout)}getValues(){const e={};return e[this.options.minKey]=this._inputMin.value,e[this.options.maxKey]=this._inputMax.value,e}_isInputInvalid(){return parseFloat(this._inputMin.value)>parseFloat(this._inputMax.value)}_isInputLowerBoundInvalid(){return parseFloat(this._inputMin.value)<this.options.lowerBound||parseFloat(this._inputMax.value)<this.options.lowerBound}_getErrorMessageTemplate(e){return`<div class="${this.options.errorContainerClass}">${this.options.snippets[e]}</div>`}_setError(e){this._hasError||(this._inputMin.classList.add(this.options.inputInvalidCLass),this._inputMax.classList.add(this.options.inputInvalidCLass),this._container.insertAdjacentHTML("afterend",e),this._hasError=!0)}_removeError(){this._inputMin.classList.remove(this.options.inputInvalidCLass),this._inputMax.classList.remove(this.options.inputInvalidCLass);const e=a.Z.querySelector(this.el,`.${this.options.errorContainerClass}`,!1);e&&e.remove(),this._hasError=!1}setValuesFromUrl(e){let t=!1;return Object.keys(e).forEach((i=>{i===this.options.minKey&&(this._inputMin.value=e[i],t=!0),i===this.options.maxKey&&(this._inputMax.value=e[i],t=!0)})),t}getLabels(){let e=[];return this._inputMin.value.length||this._inputMax.value.length?(this._inputMin.value.length&&e.push({label:`${this.options.snippets.filterRangeActiveMinLabel} ${this._inputMin.value} ${this.options.unit}`,id:this.options.minKey}),this._inputMax.value.length&&e.push({label:`${this.options.snippets.filterRangeActiveMaxLabel} ${this._inputMax.value} ${this.options.unit}`,id:this.options.maxKey})):e=[],e}reset(e){e===this.options.minKey&&(this._inputMin.value=""),e===this.options.maxKey&&(this._inputMax.value=""),this._removeError()}resetAll(){this._inputMin.value="",this._inputMax.value="",this._removeError()}}n=h,r="options",s=u()(o.Z.options,{inputMinSelector:".min-input",inputMaxSelector:".max-input",inputInvalidCLass:"is-invalid",inputTimeout:500,minKey:"min-price",maxKey:"max-price",lowerBound:0,unit:"â‚¬",errorContainerClass:"filter-range-error",containerSelector:".filter-range-container",snippets:{filterRangeActiveMinLabel:"",filterRangeActiveMaxLabel:"",filterRangeErrorMessage:"",filterRangeLowerBoundErrorMessage:""}}),(r=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var i=e[Symbol.toPrimitive];if(void 0!==i){var n=i.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(r))in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s}},e=>{e.O(0,["vendor-node","vendor-shared"],(()=>{return t=59,e(e.s=t);var t}));e.O()}]);