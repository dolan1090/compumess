{% block component_product_box %}
	{% if product %}
		{% set name = product.translated.name %}
		{% set id = product.id %}
		{% set cover = product.cover.media %}
		{% set variation = product.variation %}
		{% set displayParent = product.variantListingConfig.displayParent and product.parentId === null %}

		<div class="card product-box box-{{ layout }}">
		{# {{ dump() }} #}
			{% block component_product_box_content %}
				<div class="card-body">

					{% block component_product_box_image %}
						<div
							class="product-image-wrapper">
							{# fallback if display mode is not set #}
							{% set displayMode = displayMode ?: 'standard' %}

							{# set display mode 'cover' for box-image with standard display mode #}
							{% if layout == 'image' and displayMode == 'standard' %}
								{% set displayMode = 'cover' %}
							{% endif %}

							{% block component_product_box_image_link %}
								<a href="{{ seoUrl('frontend.detail.page', { 'productId': id }) }}" title="{{ name }}" class="product-image-link is-{{ displayMode }}">
									{% block component_product_box_image_link_inner %}
										{% if cover.url %}
											{% set attributes = {
                                            'class': 'product-image is-'~displayMode,
                                            'alt': (cover.translated.alt ?: name),
                                            'title': (cover.translated.title ?: name),
                                            'loading': 'lazy'
                                        } %}

											{% if displayMode == 'cover' or displayMode == 'contain' %}
												{% set attributes = attributes|merge({ 'data-object-fit': displayMode }) %}
											{% endif %}

											{% block component_product_box_image_thumbnail %}
												{% sw_thumbnails 'product-image-thumbnails' with {
                                                media: cover,
                                                sizes: sizes
                                            } %}
											{% endblock %}
										{% else %}
											{% block component_product_box_image_placeholder %}
												<div class="product-image-placeholder">
													{% sw_icon 'placeholder' style {
                                                    'size': 'fluid'
                                                } %}
												</div>
											{% endblock %}
										{% endif %}
									{% endblock %}
								</a>
							{% endblock %}

							{# {% if config('core.cart.wishlistEnabled') %}
								{% block component_product_box_wishlist_action %}
									{% sw_include '@Storefront/storefront/component/product/card/wishlist.html.twig' with {
                                    appearance: 'circle',
                                    productId: id
                                } %}
								{% endblock %}
							{% endif %} #}
						</div>
					{% endblock %}

					{% block component_product_box_info %}
						<div class="product-info">

							{% block component_product_box_name %}
								<a href="{{ seoUrl('frontend.detail.page', {'productId': id}) }}" class="product-name" title="{{ name }}" data-product-id='{{id}}'>
									{{ name }}
								</a>
							{% endblock %}

							{% block component_product_box_description %}
								<div
									class="product-description">
									{# {{ product.translated.description|striptags|raw }} #}
									{{ product.customFields.migration_ComuMess5_product_subtitle }}
								</div>
							{% endblock %}

							{% block component_product_box_action %}
								<div class="product--actions">
									{% if config('core.cart.wishlistEnabled') %}
											{% sw_include '@Storefront/storefront/component/product/card/wishlist.html.twig' with {
											appearance: 'circle',
											productId: id
										} %}
									{% endif %}
									<a href="/62000d-ac/dc-programmierbar-aus-1800-v-chroma/#download-tab" class="icon-mail-to">
										<img src="{{ asset('bundles/compumess/assets/download-img.png') }}" alt="Download Image" class="image-dowload-tab">
										Produktblätter
									</a>
									<a href="/62000d-ac/dc-programmierbar-aus-1800-v-chroma/#description-tab" class="icon-mail-to icon--search">
										<i class="fa-solid fa-magnifying-glass"></i>
										Serien- und Modellübersicht
									</a>
									<div class="zum-produkte">
										<a class="btn is--primary" href="/62000d-ac/dc-programmierbar-aus-1800-v-chroma/">
											Zum Produkt
										</a>
									</div>
								</div>
							{% endblock %}
						</div>
					{% endblock %}
				</div>
			{% endblock %}
		</div>
	{% endif %}
{% endblock %}
