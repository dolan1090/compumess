{% sw_extends '@Storefront/storefront/utilities/offcanvas.html.twig' %}

{% set customFields = {
    'Serie': 'migration_Compumess57Live_product_series',
    'Marke': 'migration_Compumess57Live_product_marke',
    'LeistungNum': 'migration_Compumess57Live_product_leistungnum',
    'Phasen': 'migration_Compumess57Live_product_phasengenauigkeit',
    'Ausgangsleistung': 'migration_Compumess57Live_product_attr2',
    'Eingangsspannung': 'migration_Compumess57Live_product_attr3',
    'Frequenzbereich': 'migration_Compumess57Live_product_frequenzbereich',
    'Ausgangsspannung': 'migration_Compumess57Live_product_ausgangsspannung',
    'Ausgangsstrom': 'migration_Compumess57Live_product_attr4',
    'Anzeige': 'migration_Compumess57Live_product_anzeige',
    'Ausgänge': 'migration_Compumess57Live_product_attr6',
    'Ein-/Ausgangsisolation': 'migration_Compumess57Live_product_attr9',
    'GenauigkeitSpannung': 'migration_Compumess57Live_product_attr18',
    'Genauigkeit Strom': 'migration_Compumess57Live_product_attr19',
    'MTBF': 'migration_Compumess57Live_product_attr14',
    'Typ': 'migration_Compumess57Live_product_typ',
    'Bauform': 'migration_Compumess57Live_product_bauform',
    'Eingang': 'migration_Compumess57Live_product_eingang',
    'Kategorie': 'migration_Compumess57Live_product_kategorie',
    'Schnittstellen': 'migration_Compumess57Live_product_schnittstellen',
    'Beschreibung': 'migration_Compumess57Live_product_bullet_point',
    'Technologie': 'migration_Compumess57Live_product_technologie',
    'Technologie': 'migration_Compumess57Live_product_technologie',
    'Produktalternative': 'migration_Compumess57Live_product_alternative_product',
    'Eigenschaften der Serie': 'migration_Compumess57Live_product_key_features',
    'Eingangsbereich': 'migration_Compumess57Live_product_eingangsbereich',
    'Eingangspannung (VDC) nominal': 'migration_Compumess57Live_product_eingangsspannung_vdc_nominal',
    'Eingangsspannung (VDC) Bereich': 'migration_Compumess57Live_product_eingangsspannung_vdc_bereich',
    'Eingangsstrom (mA) Volllast': 'migration_Compumess57Live_product_eingangsstrom_ma_volllast',
    'Eingangsstrom (mA) ohne Last': 'migration_Compumess57Live_product_eingangsstrom_ma_ohne_last',
    'Ausgangsspannung (VDC)': 'migration_Compumess57Live_product_ausgangsspannung_vdc',
    'Ausgangsstrom (mA, Max)': 'migration_Compumess57Live_product_ausgangsstrom_ma_max',
    'Ausgangsstrom (mA, Min)': 'migration_Compumess57Live_product_ausgangsstrom_ma_min',
    'Effizienz (%, Typ)': 'migration_Compumess57Live_product_effizienz_typ',
    'Reflektierte Welligkeit Strom (mA Pk-Pk)': 'migration_Compumess57Live_product_reflektierte_welligkeit',
    'Fuse Rating Slow-Blow (mA)': 'migration_Compumess57Live_product_fuse_rating_slow_blow',
    'Arbeitstemperatur': 'migration_Compumess57Live_product_arbeitstemperatur',
    'BauformDetail': 'migration_Compumess57Live_product_bauform_detail',
    'Anwendung': 'migration_Compumess57Live_product_anwendung',
    'Regelung': 'migration_Compumess57Live_product_regelung',
    'SpezielleZulassungen': 'migration_Compumess57Live_product_spezielle_zulassungen',
    'Ähnliches Produkt': 'migration_Compumess57Live_product_related_product',
    'Kühlung': 'migration_Compumess57Live_product_k_hlung',
    'SubKategorie': 'migration_Compumess57Live_product_subkategorie',
    'Wirkungsgrad ≥': 'migration_Compumess57Live_product_wirkungsgrad',
    'AbmessungenLange': 'migration_Compumess57Live_product_abmessungen_l_nge',
    'AbmessungenBreite': 'migration_Compumess57Live_product_abmessungen_breite',
    'AbmessungenHohe': 'migration_Compumess57Live_product_abmessungen_h_he',
    'SchaltfrequenzTyp': 'migration_Compumess57Live_product_schaltfrequenz_typ',
} %}

{% block utilities_offcanvas_content %}
    <div class="content--description">
        <table class="product--properties-table">
            <tbody>
                <tr>
                    <td style=" background: none; ">
                        {{ page.product.translated.customFields.migration_Compumess57Live_product_header_description|raw }}
                    </td>
                </tr>
            </tbody>
        </table>
        <br/>
        <div class="product--properties panel has--border">
            <table class="product--properties-table">
                <tbody>
                    {% for label, field in customFields %}
                        {% set value = page.product.translated.customFields[field] %}
                        {% set valueTrim = value|trim %}
                        {% if valueTrim %}
                            <tr class="product--properties-row">
                                <td class="product--properties-label is--bold">{{ label }}</td>
                                <td class="product--properties-value">{{ value|raw }}</td>
                            </tr>
                        {% endif %}
                    {% endfor %}
                </tbody>
            </table>
        </div>
    </div>
{% endblock %}