{% sw_extends '@Storefront/storefront/base.html.twig' %}

{% block base_content %}
    {% block b2b_components_employee_invite %}
        <div class="b2b-employee-invite row justify-content-md-center">

            {% block b2b_components_employee_invite_inner %}
                <div class="col-md-8 col-lg-6">

                    {% block b2b_components_employee_invite_form %}
                        <form
                            method="post"
                            class="b2b-employee-invite-form card"
                            action="{{ path('frontend.business-partner.employee.invite.confirm') }}"
                            data-form-validation="true"
                        >

                            {% block b2b_components_employee_invite_header %}
                                <h1 class="b2b-employee-invite-header card-title">
                                    {{ 'employee-management.employeeSetPassword.title'|trans|sw_sanitize }}
                                </h1>
                            {% endblock %}

                            {% block b2b_components_employee_invite_body %}
                                <div class="b2b-employee-invite-body card-body">

                                    {% block b2b_components_employee_invite_new %}
                                        <p class="b2b-employee-invite-body-text card-text">
                                            {{ 'employee-management.employeeSetPassword.text'|trans|sw_sanitize }}
                                        </p>

                                        <div class="form-group">
                                            {% block b2b_components_employee_invite_new_label %}
                                                <label class="form-label" for="b2b-employee-invite-input-new-password">
                                                    {{ "account.profilePasswordCreateNew"|trans }} {{ "general.required"|trans }}
                                                </label>
                                            {% endblock %}

                                            {% block b2b_components_employee_invite_new_input %}
                                                <input
                                                    type="password"
                                                    id="b2b-employee-invite-input-new-password"
                                                    class="form-control{% if formViolations.getViolations('/newPassword') is not empty %} is-invalid{% endif %}"
                                                    autocomplete="new-password"
                                                    name="password[newPassword]"
                                                    data-form-validation-equal="newPassword"
                                                    data-form-validation-length="{{ config('b2b.employee.passwordMinLength') }}"
                                                    data-form-validation-length-message=" {{ "account.personalPasswordDescription"|trans({
                                                        '%minLength%': config('b2b.employee.passwordMinLength')
                                                    }) }}"
                                                    required="required"
                                                />
                                            {% endblock %}

                                            {% block b2b_components_employee_invite_new_violations %}
                                                {% if formViolations.getViolations("newPassword") is not empty %}
                                                    {% sw_include '@Storefront/storefront/utilities/form-violation.html.twig' with {
                                                        violationPath: '/newPassword'
                                                    } %}
                                                {% endif %}
                                            {% endblock %}
                                        </div>
                                    {% endblock %}

                                    {% block b2b_components_employee_invite_confirm %}
                                        <div class="form-group">

                                            {% block b2b_components_employee_invite_confirm_label %}
                                                <label class="form-label" for="b2b-employee-invite-input-password-confirmation">
                                                    {{ "account.personalPasswordConfirmationLabel"|trans }} {{ "general.required"|trans }}
                                                </label>
                                            {% endblock %}

                                            {% block b2b_components_employee_invite_confirm_input %}
                                                <input
                                                    type="password"
                                                    id="b2b-employee-invite-input-password-confirmation"
                                                    class="form-control{% if formViolations.getViolations('/newPassword') is not empty %} is-invalid{% endif %}"
                                                    autocomplete="new-password"
                                                    name="password[newPasswordConfirm]"
                                                    required="required"
                                                    data-form-validation-equal="newPassword"
                                                    data-form-validation-equal-message="{{ "account.personalPasswordConfirmationInvalidMessage"|trans }}"
                                                />
                                            {% endblock %}

                                            {% block b2b_components_employee_invite_confirm_violations %}
                                                {% if formViolations.getViolations("/newPasswordConfirm") is not empty %}
                                                    {% sw_include '@Storefront/storefront/utilities/form-violation.html.twig' with {
                                                        violationPath: '/newPasswordConfirm'
                                                    } %}
                                                {% endif %}
                                            {% endblock %}
                                        </div>
                                    {% endblock %}

                                    {% block b2b_components_employee_invite_hash_input %}
                                        <input
                                            type="hidden"
                                            id="b2b-employee-invite-input-password-hash"
                                            value="{{ page.getHash }}"
                                            name="password[hash]"
                                            required="required"
                                        />
                                    {% endblock %}

                                    {% block b2b_components_employee_invite_actions %}
                                        <div class="b2b-employee-invite-form-actions">
                                            {% block b2b_components_employee_invite_actions_content %}
                                                <button type="submit" id="b2b-employee-invite-confirm-button" class="btn btn-primary">
                                                    {{ 'global.default.save'|trans|sw_sanitize }}
                                                </button>
                                            {% endblock %}
                                        </div>
                                    {% endblock %}
                                </div>
                            {% endblock %}
                        </form>
                    {% endblock %}
                </div>
            {% endblock %}
        </div>
    {% endblock %}
{% endblock %}
