/*! For license information please see multi-warehouse.js.LICENSE.txt */
!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p=(window.__sw__.assetPath + '/bundles/multiwarehouse/'),r(r.s="HwkP")}({"+Cpp":function(e){e.exports=JSON.parse('{"sw-product":{"card":{"textHeadline":"Stock & Deliverability","textLinkModal":"See stock by warehouses and warehouse groups","textTooltipMultiSelect":"Assign warehouse groups to manage your stock individually across multiple warehouses.","textProductWarehouseModalDisabled":"Save your changes before you can open further stock details."},"modal-warehouse-group":{"textHeadline":"Stock by warehouse and warehouse groups","textInlineEdit":"Edit stock","buttonSave":"Save","buttonCancel":"Close","columnName":"Name","columnStock":"Stock","columnPriority":"Priority","labelTotalStock":"Total stock: ","navigationLabelStock":"Stock {totalStock}"},"variants-overview":{"inlineText":"See details"}}}')},"/26G":function(e,t){Shopware.License.get("MULTI_INVENTORY-3711815")&&Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"settings",key:"warehouse",roles:{viewer:{privileges:["warehouse:read","warehouse_product:read"],dependencies:[]},editor:{privileges:["warehouse:update","warehouse_product:update"],dependencies:["warehouse.viewer"]},creator:{privileges:["warehouse:create","warehouse_product:create"],dependencies:["warehouse.viewer"]},deleter:{privileges:["warehouse:delete","warehouse_product:delete"],dependencies:["warehouse.viewer"]}}})},"4v+g":function(e,t,r){},"6al/":function(e,t,r){var n=r("qdl3");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r("P8hj").default)("3deb4332",n,!0,{})},"7QJb":function(e,t,r){},"8k8h":function(e){e.exports=JSON.parse('{"sw-privileges":{"permissions":{"warehouse":{"label":"Lagerhäuser"}}},"sw-settings-warehouse":{"general":{"title":"Lagerhäuser","subtitle":"Lege Lagerhäuser an, um Deine verfügbaren Bestände zu verwalten.","notificationGeneric":"Ein Fehler ist aufgetreten."},"list":{"columnName":"Name","columnWarehouseGroups":"Lagerhausgruppen","actionDetail":"Bearbeiten","actionDelete":"Löschen","actionCreate":"Neues Lagerhaus erstellen","actionCreateShort":"Lagerhaus erstellen","textDeleteConfirm-1":"Beim Löschen eines Lagers werden alle zugehörigen Bestände entfernt.","textDeleteConfirm-2":"Bist Du sicher, dass Du das Lager ","textDeleteConfirm-3":" löschen möchtest?","buttonCancel":"Abbrechen","buttonDelete":"Löschen","whitespaceTitle":"Noch keine Lagerhäuser.","whitespaceSubTitle":"Erstelle Lagerhäuser, um Deine verfügbaren Bestände zu verwalten.","warehouseMessages":{"noRuleAssignedMessageTitle":"Lagerhausgruppen sind nicht funktionsfähig","noRuleAssignedMessage":"Die Konfiguration einiger Lagerhausgruppen wird ignoriert, weil keine Regel zugewiesen ist. Ohne eine Regel hat Deine Lagerhausgruppe keine Verantwortung und ist nicht funktionsfähig.<br>Weise eine Regel zu oder erstelle eine neue Regel über den Rule Builder, um Deinen Gruppen Verantwortung zu übertragen.<br>Betroffene Lagerhausgruppen: {warehouseGroups}"}},"detail":{"title":"Lagerhaus","titleCardMain":"Lagerhaus-Informationen","titleCardDelete":"Lagerhaus löschen","textDeleteWarehouseWarning":"Die Löschung dieses Lagerhauses kann nicht wieder rückgängig gemacht werden.","buttonSave":"Speichern","buttonDelete":"Lagerhaus löschen","buttonCancel":"Abbrechen","buttonDeleteModal":"Löschen","titleModalDelete":"Lagerhaus löschen","textDeleteConfirm-1":"Beim Löschen eines Lagers werden alle zugehörigen Bestände entfernt.","textDeleteConfirm-2":"Bist Du sicher, dass Du das Lager ","textDeleteConfirm-3":" löschen möchtest?","labelName":"Lagerhaus Name","placeholderName":"Gib einen Namen ein...","labelDescription":"Interne Beschreibung","placeholderDescription":"Gib eine interne Beschreibung ein...","labelGroups":"Lagerhausgruppen","placeholderGroups":"Wähle Lagerhausgruppen aus...","helpTextGroups":"Verwende Gruppen, um Deine Lager zu organisieren, und weise Regeln zu, um die Lagerzuständigkeiten für Deine verschiedenen Geschäftsfälle zu verwalten."},"create":{"title":"Neues Lagerhaus"}}}')},Fq9Z:function(e,t,r){},HwkP:function(e,t,r){"use strict";r.r(t);r("/26G");var n=r("8k8h"),o=r("mhV4");Shopware.License.get("MULTI_INVENTORY-3711815")&&(Shopware.Locale.extend("de-DE",n),Shopware.Locale.extend("en-GB",o));Shopware.Component.register("sw-settings-warehouse-index",{template:"<sw-page class=\"sw-settings-warehouse-index\">\n    <template #smart-bar-header>\n        <h2>{{ $tc('sw-settings.index.title') }} <sw-icon\n                name=\"regular-chevron-right-xs\"\n                small\n            /> {{ $tc('sw-settings-warehouse.general.title') }}</h2>\n    </template>\n\n    <template #content>\n        <sw-card-view>\n            <sw-warehouse-messages v-if=\"acl.can('warehouse-group.viewer')\"></sw-warehouse-messages>\n            <sw-settings-warehouse-list v-if=\"acl.can('warehouse.viewer')\"></sw-settings-warehouse-list>\n\n            <sw-settings-warehouse-group-list v-if=\"acl.can('warehouse-group.viewer')\"></sw-settings-warehouse-group-list>\n        </sw-card-view>\n    </template>\n</sw-page>\n",inject:["acl"],metaInfo:function(){return{title:this.$createTitle()}}});function i(e){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(){a=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},s=o.iterator||"@@iterator",u=o.asyncIterator||"@@asyncIterator",c=o.toStringTag||"@@toStringTag";function l(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,r){return e[t]=r}}function h(e,t,r,o){var i=t&&t.prototype instanceof f?t:f,a=Object.create(i.prototype),s=new G(o||[]);return n(a,"_invoke",{value:S(e,r,s)}),a}function p(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=h;var d={};function f(){}function w(){}function g(){}var m={};l(m,s,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(C([])));y&&y!==t&&r.call(y,s)&&(m=y);var b=g.prototype=f.prototype=Object.create(m);function x(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function o(n,a,s,u){var c=p(e[n],e,a);if("throw"!==c.type){var l=c.arg,h=l.value;return h&&"object"==i(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){o("next",e,s,u)}),(function(e){o("throw",e,s,u)})):t.resolve(h).then((function(e){l.value=e,s(l)}),(function(e){return o("throw",e,s,u)}))}u(c.arg)}var a;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return a=a?a.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return D()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===d)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=p(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===d)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),d;var o=p(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,d;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,d):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,d)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function G(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[s];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:D}}function D(){return{value:void 0,done:!0}}return w.prototype=g,n(b,"constructor",{value:g,configurable:!0}),n(g,"constructor",{value:w,configurable:!0}),w.displayName=l(g,c,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===w||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,l(e,c,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},x(L.prototype),l(L.prototype,u,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new L(h(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(b),l(b,c,"Generator"),l(b,s,(function(){return this})),l(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=C,G.prototype={constructor:G,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,d):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),d},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),d}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),d}},e}function s(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function u(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){s(i,n,o,a,u,"next",e)}function u(e){s(i,n,o,a,u,"throw",e)}a(void 0)}))}}function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function l(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){h(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==i(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==i(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===i(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var p=Shopware,d=p.Component,f=p.Mixin,w=Shopware.Data,g=w.Criteria,m=w.EntityCollection,v=Shopware.Component.getComponentHelper().mapPropertyErrors;d.register("sw-settings-warehouse-detail",{template:'<sw-page class="sw-settings-warehouse-detail">\n    <template #smart-bar-header>\n        <h2>{{ placeholder(warehouse, \'name\', $tc(\'sw-settings-warehouse.detail.title\')) }}</h2>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button  @click="toListing">\n            {{ $tc(\'sw-settings-warehouse.detail.buttonCancel\') }}\n        </sw-button>\n        <sw-button-process\n            v-if="acl.can(\'warehouse.editor\')"\n            :is-loading="isLoading"\n            :process-success="isSaveSuccessful"\n            variant="primary"\n            @process-finish="saveFinish"\n            @click.prevent="onSave"\n        >\n            {{ $tc(\'sw-settings-warehouse.detail.buttonSave\') }}\n        </sw-button-process>\n    </template>\n\n    <template #content>\n        <sw-card-view>\n            <template v-if="isLoading">\n                <sw-skeleton />\n                <sw-skeleton v-if="acl.can(\'warehouse.deleter\')" />\n            </template>\n\n            <template v-else-if="warehouse">\n                <sw-card\n                    :title="$tc(\'sw-settings-warehouse.detail.titleCardMain\')"\n                    :is-loading="isLoading"\n                    position-identifier="sw-settings-warehouse-detail-form"\n                >\n                    <sw-field\n                        v-model="warehouse.name"\n                        type="text"\n                        required\n                        validation="required"\n                        :error="warehouseNameError"\n                        :disabled="!acl.can(\'warehouse.editor\')"\n                        :label="$tc(\'sw-settings-warehouse.detail.labelName\')"\n                        :placeholder="$tc(\'sw-settings-warehouse.detail.placeholderName\')"\n                    />\n\n                    <sw-field\n                        v-model="warehouse.description"\n                        type="textarea"\n                        :disabled="!acl.can(\'warehouse.editor\')"\n                        :label="$tc(\'sw-settings-warehouse.detail.labelDescription\')"\n                        :placeholder="$tc(\'sw-settings-warehouse.detail.placeholderDescription\')"\n                    />\n\n                    <sw-entity-multi-select\n                        v-if="acl.can(\'warehouse-group.viewer\')"\n                        :criteria="warehouseGroupSelectCriteria"\n                        :entity-collection="warehouse.groups"\n                        :disabled="!acl.can(\'warehouse.editor\')"\n                        :label="$tc(\'sw-settings-warehouse.detail.labelGroups\')"\n                        :placeholder="$tc(\'sw-settings-warehouse.detail.placeholderGroups\')"\n                        :help-text="$tc(\'sw-settings-warehouse.detail.helpTextGroups\')"\n                        @change="updateGroupCollection"\n                    ></sw-entity-multi-select>\n                </sw-card>\n\n                <sw-card\n                    v-if="acl.can(\'warehouse.deleter\')"\n                    :title="$tc(\'sw-settings-warehouse.detail.titleCardDelete\')"\n                    :is-loading="isLoading"\n                    position-identifier="sw-settings-warehouse-detail-delete"\n                >\n                    <sw-container\n                        columns="1fr 175px"\n                        gap="0px 30px"\n                    >\n                        <div>{{ $tc(\'sw-settings-warehouse.detail.textDeleteWarehouseWarning\') }}</div>\n\n                        <div>\n                            <sw-button\n                                variant="ghost-danger"\n                                size="small"\n                                @click="showDeleteModal = true"\n                            >\n                                {{ $tc(\'sw-settings-warehouse.detail.buttonDelete\') }}\n                            </sw-button>\n                        </div>\n                    </sw-container>\n\n                    <sw-modal\n                        v-if="showDeleteModal"\n                        variant="small"\n                        :title="$tc(\'sw-settings-warehouse.detail.titleModalDelete\')"\n                        @modal-close="onCloseDeleteModal"\n                    >\n                        <p>\n                            {{ $tc(\'sw-settings-warehouse.detail.textDeleteConfirm-1\') }}<br>\n                            {{ $tc(\'sw-settings-warehouse.detail.textDeleteConfirm-2\') }}<b>{{ warehouse.name }}</b>{{ $tc(\'sw-settings-warehouse.detail.textDeleteConfirm-3\') }}\n                        </p>\n\n                        <template #modal-footer>\n                            <sw-button\n                                size="small"\n                                @click="onCloseDeleteModal"\n                            >\n                                {{ $tc(\'sw-settings-warehouse.detail.buttonCancel\') }}\n                            </sw-button>\n\n                            <sw-button\n                                variant="danger"\n                                size="small"\n                                @click="onConfirmDelete"\n                            >\n                                {{ $tc(\'sw-settings-warehouse.detail.buttonDeleteModal\') }}\n                            </sw-button>\n                        </template>\n                    </sw-modal>\n                </sw-card>\n            </template>\n        </sw-card-view>\n    </template>\n</sw-page>\n',inject:["repositoryFactory","acl"],mixins:[f.getByName("notification"),f.getByName("placeholder")],shortcuts:{"SYSTEMKEY+S":{active:function(){return this.acl.can("warehouse.editor")},method:"onSave"},ESCAPE:"onCancel"},data:function(){return{isLoading:!1,isSaveSuccessful:!1,warehouse:null,showDeleteModal:!1,productWarehouses:[]}},metaInfo:function(){return{title:this.$createTitle(this.identifier)}},computed:l(l({warehouseId:function(){return this.$router.currentRoute.params.id},warehouseCriteria:function(){return(new g).addAssociation("groups").addAssociation("productWarehouses")},warehouseRepository:function(){return this.repositoryFactory.create("warehouse","",{useSync:!0})},productWarehouseRepository:function(){return this.repositoryFactory.create("product_warehouse")},identifier:function(){return this.placeholder(this.warehouse,"name")}},v("warehouse",["name"])),{},{warehouseGroupSelectCriteria:function(){var e=new g;return e.addAssociation("products"),e.getAssociation("products").addAssociation("warehouses"),e.getAssociation("products").getAssociation("warehouses").addFilter(g.equals("warehouseId",this.warehouse.id)),e.addIncludes({product:["id","versionId","productWarehouses"],productWarehouses:["id","warehouseId","productId","productVersionId"]}),e}}),created:function(){this.createdComponent()},methods:{createdComponent:function(){this.getWarehouse()},onCloseDeleteModal:function(){this.showDeleteModal=!1},getWarehouse:function(){var e=this;return u(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,e.warehouseRepository.get(e.warehouseId,Shopware.Context.api,e.warehouseCriteria);case 4:e.warehouse=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.createNotificationError({message:e.$tc("sw-settings-warehouse.general.notificationGeneric")});case 10:return t.prev=10,e.isLoading=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})))()},onConfirmDelete:function(){var e=this;return u(a().mark((function t(){return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,e.showDeleteModal=!1,t.next=5,e.warehouseRepository.delete(e.warehouseId);case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.createNotificationError({message:e.$tc("sw-settings-warehouse.general.notificationGeneric")});case 10:return t.prev=10,e.isLoading=!1,e.toListing(),t.finish(10);case 14:case"end":return t.stop()}}),t,null,[[0,7,10,14]])})))()},onSave:function(){var e=this;return u(a().mark((function t(){var r,n,o,i,s;return a().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,e.isSaveSuccessful=!1,t.next=5,e.warehouseRepository.save(e.warehouse);case 5:return t.next=7,e.getWarehouse();case 7:e.isSaveSuccessful=!0,t.next=16;break;case 10:t.prev=10,t.t0=t.catch(0),o=null===(r=t.t0.response)||void 0===r||null===(n=r.data.errors[0])||void 0===n?void 0:n.detail,i=e.$tc("sw-settings-warehouse-group.general.notificationGeneric"),s=null!=o?o:e.$tc("global.notification.notificationSaveErrorMessageRequiredFieldsInvalid"),e.createNotificationError({title:i,message:s});case 16:return t.prev=16,e.isLoading=!1,t.finish(16);case 19:case"end":return t.stop()}}),t,null,[[0,10,16,19]])})))()},saveFinish:function(){this.isSaveSuccessful=!1},updateGroupCollection:function(e){this.warehouse.groups=e},toListing:function(){this.$router.push({name:"sw.settings.warehouse.index"})},onCancel:function(){this.toListing()},createMissingProductWarehouses:function(){var e=this,t=new m(this.productWarehouseRepository.route,this.productWarehouseRepository.entityName);this.warehouse.groups.forEach((function(r){r.products.forEach((function(r){r.extensions&&r.extensions.warehouses.length?t.add(r.extensions.warehouses[0]):t.add(e.createProductWarehouse(r.id,r.versionId))}))})),this.warehouse.productWarehouses=t},createProductWarehouse:function(e,t){var r=this.productWarehouseRepository.create();return Object.assign(r,{warehouseId:this.warehouse.id,productId:e,productVersionId:t,stock:0}),r}}});function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(){b=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new G(o||[]);return n(a,"_invoke",{value:S(e,r,s)}),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function p(){}function d(){}function f(){}var w={};u(w,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(C([])));m&&m!==t&&r.call(m,i)&&(w=m);var v=f.prototype=p.prototype=Object.create(w);function x(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function o(n,i,a,s){var u=l(e[n],e,i);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==y(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(h).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function S(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return D()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=_(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function _(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,_(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function k(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function G(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function C(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:D}}function D(){return{value:void 0,done:!0}}return d.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=u(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},x(L.prototype),u(L.prototype,a,(function(){return this})),e.AsyncIterator=L,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new L(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},x(v),u(v,s,"Generator"),u(v,i,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=C,G.prototype={constructor:G,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(k),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),k(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;k(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:C(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function x(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function L(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function S(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==y(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===y(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var _=Shopware,E=_.Component,k=_.Mixin,G=Shopware.Data.Criteria,C=Shopware.Component.getComponentHelper().mapPropertyErrors;E.register("sw-settings-warehouse-create",{template:'<sw-page class="sw-settings-warehouse-create">\n    <template #smart-bar-header>\n        <h2>{{ placeholder(warehouse, \'name\', $tc(\'sw-settings-warehouse.create.title\')) }}</h2>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button @click.prevent="onCancel">\n            {{ $tc(\'sw-settings-warehouse.detail.buttonCancel\') }}\n        </sw-button>\n        <sw-button-process\n            v-if="acl.can(\'warehouse.editor\')"\n            :is-loading="isLoading"\n            :process-success="isSaveSuccessful"\n            variant="primary"\n            @process-finish="saveFinish"\n            @click.prevent="onSave"\n        >\n            {{ $tc(\'sw-settings-warehouse.detail.buttonSave\') }}\n        </sw-button-process>\n    </template>\n\n    <template #content>\n        <sw-card-view>\n            <sw-skeleton v-if="isLoading" />\n\n            <sw-card\n                v-else\n                :title="$tc(\'sw-settings-warehouse.detail.titleCardMain\')"\n                :is-loading="isLoading"\n                position-identifier="sw-settings-warehouse-create-form"\n            >\n                <sw-field\n                    v-model="warehouse.name"\n                    type="text"\n                    required\n                    validation="required"\n                    :error="warehouseNameError"\n                    :label="$tc(\'sw-settings-warehouse.detail.labelName\')"\n                    :placeholder="$tc(\'sw-settings-warehouse.detail.placeholderName\')"\n                />\n\n                <sw-field\n                    v-model="warehouse.description"\n                    type="textarea"\n                    :label="$tc(\'sw-settings-warehouse.detail.labelDescription\')"\n                    :placeholder="$tc(\'sw-settings-warehouse.detail.placeholderDescription\')"\n                />\n\n                <sw-entity-multi-select\n                    v-if="acl.can(\'warehouse-group.viewer\')"\n                    :criteria="warehouseGroupSelectCriteria"\n                    :entity-collection="warehouse.groups"\n                    :label="$tc(\'sw-settings-warehouse.detail.labelGroups\')"\n                    :placeholder="$tc(\'sw-settings-warehouse.detail.placeholderGroups\')"\n                    :help-text="$tc(\'sw-settings-warehouse.detail.helpTextGroups\')"\n                    @change="updateGroupCollection"\n                ></sw-entity-multi-select>\n            </sw-card>\n        </sw-card-view>\n    </template>\n</sw-page>\n',inject:["repositoryFactory","acl"],mixins:[k.getByName("notification"),k.getByName("placeholder")],shortcuts:{"SYSTEMKEY+S":{active:function(){return this.acl.can("warehouse.editor")},method:"onSave"},ESCAPE:"onCancel"},data:function(){return{isLoading:!1,isSaveSuccessful:!1,warehouse:null}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?L(Object(r),!0).forEach((function(t){S(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):L(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({warehouseRepository:function(){return this.repositoryFactory.create("warehouse")},warehouseGroupSelectCriteria:function(){return(new G).addAssociation("products")},productWarehouseRepository:function(){return this.repositoryFactory.create("product_warehouse")}},C("warehouse",["name"])),created:function(){this.createdComponent()},methods:{createdComponent:function(){this.initializeEntity()},initializeEntity:function(){this.warehouse=this.warehouseRepository.create()},onSave:function(){var e,t=this;return(e=b().mark((function e(){var r,n,o,i,a;return b().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,t.isSaveSuccessful=!1,e.next=5,t.warehouseRepository.save(t.warehouse);case 5:t.isSaveSuccessful=!0,t.toDetail(),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(0),o=null===(r=e.t0.response)||void 0===r||null===(n=r.data.errors[0])||void 0===n?void 0:n.detail,i=t.$tc("sw-settings-warehouse-group.general.notificationGeneric"),a=null!=o?o:t.$tc("global.notification.notificationSaveErrorMessageRequiredFieldsInvalid"),t.createNotificationError({title:i,message:a});case 15:return e.prev=15,t.isLoading=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,9,15,18]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){x(i,n,o,a,s,"next",e)}function s(e){x(i,n,o,a,s,"throw",e)}a(void 0)}))})()},saveFinish:function(){this.isSaveSuccessful=!1},updateGroupCollection:function(e){var t=this;this.warehouse.groups=e,this.warehouse.productWarehouses=e.map((function(e){return e.products.map((function(e){var r=t.productWarehouseRepository.create();return Object.assign(r,{warehouseId:t.warehouse.id,productId:e.id,productVersionId:e.versionId,stock:0}),r}))})).flat()},onCancel:function(){this.toListing()},toListing:function(){this.$router.push({name:"sw.settings.warehouse.index"})},toDetail:function(){this.$router.push({name:"sw.settings.warehouse.detail",params:{id:this.warehouse.id}})}}});r("LYKC");function D(e,t){if(!Shopware.License.get(t))return e;var r=e.buildHeaders;return e.buildHeaders=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Shopware.Context.api,o=r.call(e,n);return Object.assign(o,{"sw-license-toggle":t}),o},e}function P(e){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function O(){O=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new E(o||[]);return n(a,"_invoke",{value:x(e,r,s)}),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function p(){}function d(){}function f(){}var w={};u(w,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(k([])));m&&m!==t&&r.call(m,i)&&(w=m);var v=f.prototype=p.prototype=Object.create(w);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function o(n,i,a,s){var u=l(e[n],e,i);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==P(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(h).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:G}}function G(){return{value:void 0,done:!0}}return d.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=u(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),u(v,s,"Generator"),u(v,i,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function N(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function j(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){N(i,n,o,a,s,"next",e)}function s(e){N(i,n,o,a,s,"throw",e)}a(void 0)}))}}var W=Shopware,I=W.Component,M=W.Mixin,T=Shopware.Data.Criteria;I.register("sw-settings-warehouse-list",{template:'<sw-card\n    class="sw-settings-warehouse-list"\n    :title="$tc(\'sw-settings-warehouse.general.title\')"\n    :subtitle="showListing ? $tc(\'sw-settings-warehouse.general.subtitle\') : \'\'"\n    position-identifier="sw-settings-warehouse-list"\n>\n    <template\n        #toolbar\n        v-if="showListing"\n    >\n        <sw-card-filter\n            :disabled="isLoading"\n            @sw-card-filter-term-change="onChangeSearchTerm"\n        />\n\n        <sw-button\n            v-if="acl.can(\'warehouse.creator\')"\n            variant="ghost"\n            size="small"\n            :router-link="{ name: \'sw.settings.warehouse.create\' }"\n            :disabled="isLoading"\n        >\n            {{ $tc(\'sw-settings-warehouse.list.actionCreate\') }}\n        </sw-button>\n    </template>\n\n    <template #grid>\n        <sw-entity-listing\n            v-if="showListing"\n            :repository="repository"\n            :columns="columns"\n            :items="warehouses"\n            :plain-appearance="false"\n            :full-page="false"\n            :show-selection="false"\n            :is-loading="isLoading"\n            :criteria-limit="limit"\n            :allow-view="acl.can(\'warehouse.viewer\')"\n            :allow-edit="acl.can(\'warehouse.editor\')"\n            :allow-inline-edit="acl.can(\'warehouse.editor\')"\n            :allow-delete="acl.can(\'warehouse.deleter\')"\n            @update-records="onUpdateRecords"\n        >\n            <template #column-group="{ item }">\n                <sw-warehouse-label-list\n                    :items="item.groups"\n                    labelField="name"\n                ></sw-warehouse-label-list>\n            </template>\n\n            <template #actions="{ item }">\n                <sw-context-menu-item\n                    :router-link="{ name: \'sw.settings.warehouse.detail\', params: { id: item.id }}"\n                >\n                    {{ $tc(\'sw-settings-warehouse.list.actionDetail\') }}\n                </sw-context-menu-item>\n\n                <sw-context-menu-item\n                    v-if="acl.can(\'warehouse.deleter\')"\n                    @click="onClickDelete(item.id)"\n                    variant="danger"\n                >\n                    {{ $tc(\'sw-settings-warehouse.list.actionDelete\') }}\n                </sw-context-menu-item>\n            </template>\n\n            <template #action-modals="{ item }">\n                <sw-modal\n                    v-if="showDeleteModal === item.id"\n                    :title="$tc(\'global.default.warning\')"\n                    variant="small"\n                    @modal-close="onCloseDeleteModal"\n                >\n                    <p>\n                        {{ $tc(\'sw-settings-warehouse.list.textDeleteConfirm-1\') }}<br>\n                        {{ $tc(\'sw-settings-warehouse.list.textDeleteConfirm-2\') }}<b>{{ item.name }}</b>{{ $tc(\'sw-settings-warehouse.list.textDeleteConfirm-3\') }}\n                    </p>\n\n                    <template #modal-footer>\n                        <sw-button\n                            size="small"\n                            @click="onCloseDeleteModal"\n                        >\n                            {{ $tc(\'sw-settings-warehouse.list.buttonCancel\') }}\n                        </sw-button>\n\n                        <sw-button\n                            variant="danger"\n                            size="small"\n                            @click="onConfirmDelete(item.id)"\n                        >\n                            {{ $tc(\'sw-settings-warehouse.list.buttonDelete\') }}\n                        </sw-button>\n                    </template>\n                </sw-modal>\n            </template>\n        </sw-entity-listing>\n\n        <sw-empty-state\n            v-if="!showListing"\n            class="sw-settings-warehouse-list__whitespace"\n            :title="$tc(\'sw-settings-warehouse.list.whitespaceTitle\')"\n        >\n            <template #icon>\n                <img\n                    :src="\'/administration/static/img/empty-states/settings-empty-state.svg\' | asset"\n                    :alt="$tc(\'sw-empty-state.messageNoResultTitle\')"\n                >\n            </template>\n\n            <template #default>\n                <p>{{ $tc(\'sw-settings-warehouse.list.whitespaceSubTitle\') }}</p>\n\n                <sw-button\n                    v-if="acl.can(\'warehouse.creator\')"\n                    variant="ghost"\n                    size="small"\n                    :router-link="{ name: \'sw.settings.warehouse.create\' }"\n                >\n                    {{ $tc(\'sw-settings-warehouse.list.actionCreateShort\') }}\n                </sw-button>\n            </template>\n        </sw-empty-state>\n    </template>\n</sw-card>\n',inject:["acl","repositoryFactory"],mixins:[M.getByName("listing"),M.getByName("notification")],data:function(){return{warehouses:null,isLoading:!1,showDeleteModal:!1,sortBy:"name",limit:10}},computed:{showListing:function(){var e=this.isLoading,t=this.total,r=this.term;return e||t||r},repository:function(){return D(this.repositoryFactory.create("warehouse"),"MULTI_INVENTORY-2131206")},columns:function(){var e=[{property:"name",label:"sw-settings-warehouse.list.columnName",routerLink:"sw.settings.warehouse.detail",inlineEdit:"string",primary:!0}];return this.acl.can("warehouse-group.viewer")&&e.push({property:"group",label:"sw-settings-warehouse.list.columnWarehouseGroups",sortable:!1}),e}},methods:{onChangeSearchTerm:function(e){this.term=e,this.page=1,this.getList()},onClickDelete:function(e){this.showDeleteModal=e},onCloseDeleteModal:function(){this.showDeleteModal=!1},getCriteria:function(){var e=this.page,t=this.limit,r=this.term,n=this.sortBy,o=this.sortDirection,i=this.naturalSorting,a=new T(e,t).setTerm(r).addSorting(T.sort(n,o,i));return this.acl.can("warehouse-group.viewer")&&a.addAssociation("groups"),a},getList:function(){var e=this;return j(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,e.naturalSorting="name"===e.sortBy,t.next=5,e.repository.search(e.getCriteria());case 5:e.warehouses=t.sent,e.total=e.warehouses?e.warehouses.total:0,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.createNotificationError({message:e.$tc("sw-settings-warehouse.general.notificationGeneric")});case 12:return t.prev=12,e.isLoading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))()},onConfirmDelete:function(e){var t=this;return j(O().mark((function r(){return O().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.isLoading=!0,t.showDeleteModal=!1,r.next=5,t.repository.delete(e);case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),t.createNotificationError({message:t.$tc("sw-settings-warehouse.general.notificationGeneric")});case 10:return r.prev=10,r.next=13,t.getList();case 13:return r.finish(10);case 14:case"end":return r.stop()}}),r,null,[[0,7,10,14]])})))()},onUpdateRecords:function(e){this.warehouses=e,this.total=e.total,this.limit=e.criteria.limit,this.page=e.criteria.page}}});r("6al/");Shopware.Component.register("sw-warehouse-label-list",{template:'<div class="sw-warehouse-label-list">\r\n    <sw-label\r\n        v-for="item in visibleItems"\r\n        :key="item.id"\r\n    >\r\n        {{ item }}\r\n    </sw-label>\r\n    <sw-label\r\n        v-if="items.length > limit && !expand"\r\n        class="sw-warehouse-label-list__expand"\r\n        @selected="onClickExpand"\r\n    >\r\n        {{ items.length - limit }}+\r\n    </sw-label>\r\n</div>',props:{items:{type:Array,required:!0},labelField:{type:String,required:!0},limit:{type:Number,default:4}},data:function(){return{expand:!1}},computed:{visibleItems:function(){var e=this.expand,t=this.items,r=this.limit;return e?this.extractLabels(t):this.extractLabels(t.slice(0,r))}},methods:{onClickExpand:function(){this.expand=!0},extractLabels:function(e){var t=this.labelField;return e.map((function(e){return e[t]}))}}});r("ojaT");function $(e){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(){A=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new E(o||[]);return n(a,"_invoke",{value:x(e,r,s)}),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function p(){}function d(){}function f(){}var w={};u(w,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(k([])));m&&m!==t&&r.call(m,i)&&(w=m);var v=f.prototype=p.prototype=Object.create(w);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function o(n,i,a,s){var u=l(e[n],e,i);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==$(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(h).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:G}}function G(){return{value:void 0,done:!0}}return d.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=u(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),u(v,s,"Generator"),u(v,i,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function F(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}var R=Shopware.Data.Criteria;Shopware.Component.register("sw-warehouse-messages",{template:'{% block sw_warehouse_messages_no_rule_assigned_info %}\n    <sw-alert\n        variant="info"\n        v-if="ruleInfoVisible"\n        class="sw-warehouse-messages-no-rule-assigned-info"\n        :title="$tc(\'sw-settings-warehouse.list.warehouseMessages.noRuleAssignedMessageTitle\')"\n        :closable="true"\n        @close="ruleInfoVisible = false"\n    >\n        <span v-html="buildNoRuleAssignedAlertMessage(\'sw-settings-warehouse.list.warehouseMessages.noRuleAssignedMessage\', warehouseGroups)"></span>\n    </sw-alert>\n{% endblock %}\n',inject:["repositoryFactory"],data:function(){return{warehouseGroups:null,ruleInfoVisible:!1}},computed:{warehouseGroupCriteria:function(){var e=new R;return e.addFilter(R.equals("ruleId",null)),e.addIncludes({warehouseGroup:["id","name"]}),e},warehouseGroupRepository:function(){return this.repositoryFactory.create("warehouse_group")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.getWarehouseGroups()},getWarehouseGroups:function(){var e,t=this;return(e=A().mark((function e(){return A().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.warehouseGroupRepository.search(t.warehouseGroupCriteria,Shopware.Context.api);case 2:t.warehouseGroups=e.sent,t.ruleInfoVisible=t.warehouseGroups.length>0;case 4:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){F(i,n,o,a,s,"next",e)}function s(e){F(i,n,o,a,s,"throw",e)}a(void 0)}))})()},buildNoRuleAssignedAlertMessage:function(e,t){var r={warehouseGroups:t.map((function(e){return"<b><li>".concat(e.name,"</li></b>")})).join("\n")};return this.$tc(e,t.length,r)}}}),Shopware.License.get("MULTI_INVENTORY-3711815")&&Shopware.Module.register("sw-settings-warehouse",{type:"plugin",name:"settings-warehouse",title:"sw-settings-warehouse.general.title",entity:"warehouse",icon:"regular-cog",color:"#9AA8B5",routes:{index:{component:"sw-settings-warehouse-index",path:"index",meta:{parentPath:"sw.settings.index"}},detail:{component:"sw-settings-warehouse-detail",path:"detail/:id",meta:{parentPath:"sw.settings.warehouse.index",privilege:"warehouse.viewer"}},create:{component:"sw-settings-warehouse-create",path:"create",meta:{parentPath:"sw.settings.warehouse.index",privilege:"warehouse.creator"}}},settingsItem:{group:"shop",to:"sw.settings.warehouse.index",icon:"regular-warehouse",privilege:"warehouse.viewer"}});r("U2Kg");var B=r("MAec"),z=r("YQ3E");Shopware.License.get("MULTI_INVENTORY-3711815")&&(Shopware.Locale.extend("de-DE",B),Shopware.Locale.extend("en-GB",z));function V(e){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(){Y=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new E(o||[]);return n(a,"_invoke",{value:x(e,r,s)}),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function p(){}function d(){}function f(){}var w={};u(w,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(k([])));m&&m!==t&&r.call(m,i)&&(w=m);var v=f.prototype=p.prototype=Object.create(w);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function o(n,i,a,s){var u=l(e[n],e,i);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==V(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(h).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:G}}function G(){return{value:void 0,done:!0}}return d.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=u(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),u(v,s,"Generator"),u(v,i,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function q(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function U(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){q(i,n,o,a,s,"next",e)}function s(e){q(i,n,o,a,s,"throw",e)}a(void 0)}))}}var H=Shopware,J=H.Component,K=H.Mixin,Z=Shopware.Data.Criteria;J.register("sw-settings-warehouse-group-detail",{template:'<sw-page class="sw-settings-warehouse-group-detail">\n    <template #smart-bar-header>\n        <h2>{{ placeholder(warehouseGroup, \'name\', $tc(\'sw-settings-warehouse-group.detail.title\')) }}</h2>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button @click="toListing">{{ $tc(\'sw-settings-warehouse-group.detail.buttonCancel\') }}</sw-button>\n        <sw-button-process\n            v-if="acl.can(\'warehouse-group.editor\')"\n            :is-loading="isLoading"\n            :process-success="isSaveSuccessful"\n            variant="primary"\n            @process-finish="saveFinish"\n            @click.prevent="onSave"\n        >\n            {{ $tc(\'sw-settings-warehouse-group.detail.buttonSave\') }}\n        </sw-button-process>\n    </template>\n\n    <template #content>\n        <sw-card-view>\n            <template v-if="isLoading">\n                <sw-skeleton />\n                <sw-skeleton v-if="acl.can(\'warehouse.viewer\')" />\n                <sw-skeleton v-if="acl.can(\'warehouse-group.deleter\')" />\n            </template>\n\n            <template v-else>\n                <sw-warehouse-group-form :warehouseGroup="warehouseGroup" />\n\n                <sw-settings-warehouse-group-warehouses\n                    v-if="acl.can(\'warehouse.viewer\')"\n                    :warehouseGroupId="warehouseGroup.id"\n                    :local-mode="false"\n                    @selected-entities="setWarehouseGroupWarehouses"\n                />\n\n                <sw-card\n                    v-if="acl.can(\'warehouse-group.deleter\')"\n                    :title="$tc(\'sw-settings-warehouse-group.detail.titleCardDelete\')"\n                    position-identifier="sw-settings-warehouse-group-delete"\n                >\n                    <sw-container\n                        columns="1fr 175px"\n                        gap="0px 30px"\n                    >\n                        <div>{{ $tc(\'sw-settings-warehouse-group.detail.textDeleteWarehouseWarning\') }}</div>\n\n                        <sw-button\n                            variant="ghost-danger"\n                            size="small"\n                            @click="showDeleteModal = true"\n                        >\n                            {{ $tc(\'sw-settings-warehouse-group.detail.buttonDelete\') }}\n                        </sw-button>\n                    </sw-container>\n\n                    <sw-modal\n                        v-if="showDeleteModal"\n                        variant="small"\n                        :title="$tc(\'sw-settings-warehouse-group.detail.titleModalDelete\')"\n                        @modal-close="onCloseDeleteModal"\n                    >\n                        <p>\n                            {{ $tc(\'sw-settings-warehouse-group.detail.textDeleteConfirm-1\') }}<br>\n                            {{ $tc(\'sw-settings-warehouse-group.detail.textDeleteConfirm-2\') }}<b>{{ warehouseGroup.name }}</b>{{ $tc(\'sw-settings-warehouse-group.detail.textDeleteConfirm-3\') }}\n                        </p>\n\n                        <template #modal-footer>\n                            <sw-button\n                                size="small"\n                                @click="onCloseDeleteModal"\n                            >\n                                {{ $tc(\'sw-settings-warehouse-group.detail.buttonCancel\') }}\n                            </sw-button>\n\n                            <sw-button\n                                variant="danger"\n                                size="small"\n                                @click="onConfirmDelete"\n                            >\n                                {{ $tc(\'sw-settings-warehouse-group.detail.buttonDeleteModal\') }}\n                            </sw-button>\n                        </template>\n                    </sw-modal>\n                </sw-card>\n            </template>\n        </sw-card-view>\n    </template>\n</sw-page>\n',inject:["repositoryFactory","acl"],mixins:[K.getByName("notification"),K.getByName("placeholder")],shortcuts:{"SYSTEMKEY+S":{active:function(){return this.acl.can("warehouse-group.editor")},method:"onSave"},ESCAPE:"toListing"},data:function(){return{isLoading:!1,isSaveSuccessful:!1,warehouseGroup:null,showDeleteModal:!1,productWarehouses:[]}},metaInfo:function(){return{title:this.$createTitle(this.placeholder(this.warehouseGroup,"name"))}},computed:{warehouseGroupId:function(){return this.$router.currentRoute.params.id},warehouseGroupCriteria:function(){var e=new Z;return e.addAssociation("products"),e.getAssociation("products").addAssociation("warehouses"),e},warehouseGroupRepository:function(){return this.repositoryFactory.create("warehouse_group")},productWarehouseRepository:function(){return this.repositoryFactory.create("product_warehouse")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.getWarehouseGroup()},onCloseDeleteModal:function(){this.showDeleteModal=!1},setWarehouseGroupWarehouses:function(e){this.warehouseGroup.warehouses=e.map((function(e){return e.warehouse}))},getWarehouseGroup:function(){var e=this;return U(Y().mark((function t(){return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,e.warehouseGroupRepository.get(e.warehouseGroupId,Shopware.Context.api,e.warehouseGroupCriteria);case 4:e.warehouseGroup=t.sent,t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.createNotificationError({message:e.$tc("sw-settings-warehouse-group.general.notificationGeneric")});case 10:return t.prev=10,e.isLoading=!1,t.finish(10);case 13:case"end":return t.stop()}}),t,null,[[0,7,10,13]])})))()},onConfirmDelete:function(){var e=this;return U(Y().mark((function t(){return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,e.showDeleteModal=!1,t.next=5,e.warehouseGroupRepository.delete(e.warehouseGroupId);case 5:e.toListing(),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.createNotificationError({message:e.$tc("sw-settings-warehouse-group.general.notificationGeneric")});case 11:return t.prev=11,e.isLoading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()},onSave:function(){var e=this;return U(Y().mark((function t(){var r,n,o,i,a;return Y().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,e.isSaveSuccessful=!1,t.next=5,e.warehouseGroupRepository.save(e.warehouseGroup);case 5:return t.next=7,e.productWarehouseRepository.saveAll(e.productWarehouses);case 7:return t.next=9,e.getWarehouseGroup();case 9:e.isSaveSuccessful=!0,t.next=18;break;case 12:t.prev=12,t.t0=t.catch(0),o=null===(r=t.t0.response)||void 0===r||null===(n=r.data.errors[0])||void 0===n?void 0:n.detail,i=e.$tc("sw-settings-warehouse-group.general.notificationGeneric"),a=null!=o?o:e.$tc("global.notification.notificationSaveErrorMessageRequiredFieldsInvalid"),e.createNotificationError({title:i,message:a});case 18:return t.prev=18,e.isLoading=!1,t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[0,12,18,21]])})))()},saveFinish:function(){this.isSaveSuccessful=!1},toListing:function(){this.$router.push({name:"sw.settings.warehouse.index"})},findNewProductWarehouses:function(e){var t=this,r=[];return e.forEach((function(e){t.warehouseGroup.products.forEach((function(n){n.extensions.warehouses.some((function(t){return t.warehouseId===e.id}))||r.push(t.createProductWarehouse(e.id,n.id,n.versionId))}))})),this.productWarehouses=r,r},createProductWarehouse:function(e,t,r){var n=this.productWarehouseRepository.create();return Object.assign(n,{warehouseId:e,productId:t,productVersionId:r,stock:0,availableStock:0}),n}}});function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function X(){X=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new E(o||[]);return n(a,"_invoke",{value:x(e,r,s)}),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function p(){}function d(){}function f(){}var w={};u(w,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(k([])));m&&m!==t&&r.call(m,i)&&(w=m);var v=f.prototype=p.prototype=Object.create(w);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function o(n,i,a,s){var u=l(e[n],e,i);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==Q(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(h).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:G}}function G(){return{value:void 0,done:!0}}return d.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=u(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),u(v,s,"Generator"),u(v,i,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function ee(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}var te=Shopware,re=te.Component,ne=te.Mixin;re.register("sw-settings-warehouse-group-create",{template:'<sw-page class="sw-settings-warehouse-group-create">\n    <template #smart-bar-header>\n        <h2>{{ placeholder(warehouseGroup, \'name\', $tc(\'sw-settings-warehouse-group.create.title\')) }}</h2>\n    </template>\n\n    <template #smart-bar-actions>\n        <sw-button @click.prevent="onCancel">\n            {{ $tc(\'sw-settings-warehouse-group.detail.buttonCancel\') }}\n        </sw-button>\n        <sw-button-process\n            :is-loading="isLoading"\n            :process-success="isSaveSuccessful"\n            variant="primary"\n            @process-finish="saveFinish"\n            @click.prevent="onSave"\n        >\n            {{ $tc(\'sw-settings-warehouse-group.detail.buttonSave\') }}\n        </sw-button-process>\n    </template>\n\n    <template #content>\n        <sw-card-view>\n            <template v-if="isLoading">\n                <sw-skeleton />\n                <sw-skeleton v-if="acl.can(\'warehouse.viewer\')" />\n            </template>\n\n            <template v-else>\n                <sw-warehouse-group-form :warehouseGroup="warehouseGroup" />\n\n                <sw-settings-warehouse-group-warehouses\n                    v-if="acl.can(\'warehouse.viewer\')"\n                    :warehouseGroupId="warehouseGroup.id"\n                    :local-mode="true"\n                    @selected-entities="setWarehouseGroupWarehouses"\n                />\n            </template>\n        </sw-card-view>\n    </template>\n</sw-page>',inject:["repositoryFactory","acl"],mixins:[ne.getByName("notification"),ne.getByName("placeholder")],shortcuts:{"SYSTEMKEY+S":"onSave",ESCAPE:"onCancel"},data:function(){return{isLoading:!1,isSaveSuccessful:!1,warehouseGroup:null}},computed:{warehouseGroupRepository:function(){return this.repositoryFactory.create("warehouse_group")}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.initializeEntity()},initializeEntity:function(){this.warehouseGroup=this.warehouseGroupRepository.create()},saveFinish:function(){this.isSaveSuccessful=!1},onCancel:function(){this.toListing()},toListing:function(){this.$router.push({name:"sw.settings.warehouse.index"})},toDetail:function(){this.$router.push({name:"sw.settings.warehouse.group.detail",params:{id:this.warehouseGroup.id}})},setWarehouseGroupWarehouses:function(e){this.warehouseGroup.warehouses=e.map((function(e){return e.warehouse}))},onSave:function(){var e,t=this;return(e=X().mark((function e(){var r,n,o,i,a;return X().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,t.isSaveSuccessful=!1,e.next=5,t.warehouseGroupRepository.save(t.warehouseGroup);case 5:t.isSaveSuccessful=!0,t.toDetail(),e.next=15;break;case 9:e.prev=9,e.t0=e.catch(0),o=null===(r=e.t0.response)||void 0===r||null===(n=r.data.errors[0])||void 0===n?void 0:n.detail,i=t.$tc("sw-settings-warehouse-group.general.notificationGeneric"),a=null!=o?o:t.$tc("global.notification.notificationSaveErrorMessageRequiredFieldsInvalid"),t.createNotificationError({title:i,message:a});case 15:return e.prev=15,t.isLoading=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[0,9,15,18]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ee(i,n,o,a,s,"next",e)}function s(e){ee(i,n,o,a,s,"throw",e)}a(void 0)}))})()}}});r("wM0E");function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ie(){ie=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new E(o||[]);return n(a,"_invoke",{value:x(e,r,s)}),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function p(){}function d(){}function f(){}var w={};u(w,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(k([])));m&&m!==t&&r.call(m,i)&&(w=m);var v=f.prototype=p.prototype=Object.create(w);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function o(n,i,a,s){var u=l(e[n],e,i);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==oe(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(h).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:G}}function G(){return{value:void 0,done:!0}}return d.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=u(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),u(v,s,"Generator"),u(v,i,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function ae(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function se(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){ae(i,n,o,a,s,"next",e)}function s(e){ae(i,n,o,a,s,"throw",e)}a(void 0)}))}}var ue=Shopware,ce=ue.Component,le=ue.Mixin,he=Shopware.Data.Criteria;ce.register("sw-settings-warehouse-group-list",{template:'<sw-card\n    class="sw-settings-warehouse-group-list"\n    :title="$tc(\'sw-settings-warehouse-group.general.title\')"\n    :subtitle="showListing ? $tc(\'sw-settings-warehouse-group.general.subtitle\') : \'\'"\n    position-identifier="sw-settings-warehouse-group-list"\n>\n    <template\n        #toolbar\n        v-if="showListing"\n    >\n        <sw-card-filter\n            :disabled="isLoading"\n            @sw-card-filter-term-change="onChangeSearchTerm"\n        />\n\n        <sw-button\n            v-if="acl.can(\'warehouse-group.creator\')"\n            variant="ghost"\n            size="small"\n            :router-link="{ name: \'sw.settings.warehouse.group.create\' }"\n            :disabled="isLoading"\n        >\n            {{ $tc(\'sw-settings-warehouse-group.list.actionCreate\') }}\n        </sw-button>\n    </template>\n\n    <template #grid>\n        <sw-entity-listing\n            v-if="showListing"\n            :repository="repository"\n            :columns="columns"\n            :items="warehouseGroups"\n            :plain-appearance="false"\n            :full-page="false"\n            :show-selection="false"\n            :is-loading="isLoading"\n            :criteria-limit="limit"\n            :allow-view="acl.can(\'warehouse-group.viewer\')"\n            :allow-edit="acl.can(\'warehouse-group.editor\')"\n            :allow-inline-edit="acl.can(\'warehouse-group.editor\')"\n            :allow-delete="acl.can(\'warehouse-group.deleter\')"\n            @update-records="onUpdateRecords"\n        >\n            <template #actions="{ item }">\n                <sw-context-menu-item :router-link="{ name: \'sw.settings.warehouse.group.detail\', params: { id: item.id }}">\n                    {{ $tc(\'sw-settings-warehouse-group.list.actionDetail\') }}\n                </sw-context-menu-item>\n\n                <sw-context-menu-item\n                    v-if="acl.can(\'warehouse-group.deleter\')"\n                    @click="onClickDelete(item.id)"\n                    variant="danger"\n                >\n                    {{ $tc(\'sw-settings-warehouse-group.list.actionDelete\') }}\n                </sw-context-menu-item>\n            </template>\n\n            <template #action-modals="{ item }">\n                <sw-modal\n                    v-if="showDeleteModal === item.id"\n                    :title="$tc(\'sw-settings-warehouse-group.general.titleDelete\')"\n                    variant="small"\n                    @modal-close="onCloseDeleteModal"\n                >\n                    <p>\n                        {{ $tc(\'sw-settings-warehouse-group.list.textDeleteConfirm-1\') }}<br>\n                        {{ $tc(\'sw-settings-warehouse-group.list.textDeleteConfirm-2\') }}<b>{{ item.name }}</b>{{ $tc(\'sw-settings-warehouse-group.list.textDeleteConfirm-3\') }}\n                    </p>\n\n                    <template #modal-footer>\n                        <sw-button\n                            size="small"\n                            @click="onCloseDeleteModal"\n                        >\n                            {{ $tc(\'sw-settings-warehouse-group.list.buttonCancel\') }}\n                        </sw-button>\n\n                        <sw-button\n                            variant="danger"\n                            size="small"\n                            @click="onConfirmDelete(item.id)"\n                        >\n                            {{ $tc(\'sw-settings-warehouse-group.list.buttonDelete\') }}\n                        </sw-button>\n                    </template>\n                </sw-modal>\n            </template>\n        </sw-entity-listing>\n\n        <sw-empty-state\n            v-if="!showListing"\n            class="sw-settings-warehouse-group-list__whitespace"\n            :title="$tc(\'sw-settings-warehouse-group.list.whitespaceTitle\')"\n        >\n            <template #icon>\n                <img\n                    :src="\'/administration/static/img/empty-states/settings-empty-state.svg\' | asset"\n                    :alt="$tc(\'sw-empty-state.messageNoResultTitle\')"\n                >\n            </template>\n\n            <template #default>\n                <p>{{ $tc(\'sw-settings-warehouse-group.list.whitespaceSubTitle\') }}</p>\n\n                <sw-button\n                    v-if="acl.can(\'warehouse-group.creator\')"\n                    variant="ghost"\n                    size="small"\n                    :router-link="{ name: \'sw.settings.warehouse.group.create\' }"\n                >\n                    {{ $tc(\'sw-settings-warehouse-group.list.actionCreateShort\') }}\n                </sw-button>\n            </template>\n        </sw-empty-state>\n    </template>\n</sw-card>\n',inject:["acl","repositoryFactory"],mixins:[le.getByName("listing"),le.getByName("notification")],data:function(){return{warehouseGroups:null,isLoading:!1,showDeleteModal:!1,sortBy:"name",limit:10}},computed:{showListing:function(){var e=this.isLoading,t=this.total,r=this.term;return e||t||r},repository:function(){return D(this.repositoryFactory.create("warehouse_group"),"MULTI_INVENTORY-2506228")},columns:function(){return[{property:"name",label:"sw-settings-warehouse-group.list.columnName",routerLink:"sw.settings.warehouse.group.detail",inlineEdit:"string",primary:!0},{property:"rule.name",label:"sw-settings-warehouse-group.list.columnRule"},{property:"priority",label:"sw-settings-warehouse-group.list.columnPriority",inlineEdit:"number"}]}},methods:{onChangeSearchTerm:function(e){this.term=e,this.page=1,this.getList()},onClickDelete:function(e){this.showDeleteModal=e},onCloseDeleteModal:function(){this.showDeleteModal=!1},getCriteria:function(){var e=this.page,t=this.limit,r=this.term,n=this.sortBy,o=this.sortDirection,i=this.naturalSorting;return new he(e,t).setTerm(r).addSorting(he.sort(n,o,i)).addAssociation("rule")},getList:function(){var e=this;return se(ie().mark((function t(){return ie().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,e.naturalSorting="name"===e.sortBy,t.next=5,e.repository.search(e.getCriteria());case 5:e.warehouseGroups=t.sent,e.total=e.warehouseGroups?e.warehouseGroups.total:0,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),e.createNotificationError({message:e.$tc("sw-settings-warehouse-group.general.notificationGeneric")});case 12:return t.prev=12,e.isLoading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,9,12,15]])})))()},onConfirmDelete:function(e){var t=this;return se(ie().mark((function r(){return ie().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,t.isLoading=!0,t.showDeleteModal=!1,r.next=5,t.repository.delete(e);case 5:r.next=10;break;case 7:r.prev=7,r.t0=r.catch(0),t.createNotificationError({message:t.$tc("sw-settings-warehouse-group.general.notificationGeneric")});case 10:return r.prev=10,r.next=13,t.getList();case 13:return r.finish(10);case 14:case"end":return r.stop()}}),r,null,[[0,7,10,14]])})))()},onUpdateRecords:function(e){this.warehouseGroups=e,this.total=e.total,this.limit=e.criteria.limit,this.page=e.criteria.page}}});r("t9Rd");function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function de(){de=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new E(o||[]);return n(a,"_invoke",{value:x(e,r,s)}),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function p(){}function d(){}function f(){}var w={};u(w,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(k([])));m&&m!==t&&r.call(m,i)&&(w=m);var v=f.prototype=p.prototype=Object.create(w);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function o(n,i,a,s){var u=l(e[n],e,i);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==pe(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(h).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:G}}function G(){return{value:void 0,done:!0}}return d.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=u(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),u(v,s,"Generator"),u(v,i,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function fe(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function we(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){fe(i,n,o,a,s,"next",e)}function s(e){fe(i,n,o,a,s,"throw",e)}a(void 0)}))}}var ge=Shopware,me=ge.Component,ve=ge.Mixin,ye=Shopware.Data,be=ye.Criteria,xe=ye.EntityCollection;me.register("sw-settings-warehouse-group-warehouses",{template:'<sw-card\n    class="sw-settings-warehouse-group-warehouses"\n    :title="showListing ? $tc(\'sw-settings-warehouse-group.warehouseAssignment.titleCard\') : \'\'"\n    position-identifier="sw-settings-warehouse-group-warehouses"\n>\n    <template\n        #toolbar\n        v-if="showListing"\n    >\n        <sw-card-filter\n            :disabled="isLoading"\n            @sw-card-filter-term-change="onChangeSearchTerm"\n        />\n\n        <sw-button\n            variant="ghost"\n            size="small"\n            :disabled="isLoading"\n            @click="onClickAddWarehouses"\n        >\n            {{ $tc(\'sw-settings-warehouse-group.warehouseAssignment.buttonAddWarehouses\') }}\n        </sw-button>\n    </template>\n\n    <template #grid>\n        <sw-entity-listing\n            v-if="showListing"\n            :disableDataFetching="localMode"\n            :allow-inline-edit="!localMode"\n            :repository="repository"\n            :columns="columns"\n            :items="warehouseGroupWarehouses"\n            :plain-appearance="false"\n            :full-page="false"\n            :show-selection="false"\n            :is-loading="isLoading"\n            :criteria-limit="limit"\n            :allow-view="acl.can(\'warehouse.viewer\')"\n            :allow-edit="acl.can(\'warehouse-group.editor\')"\n            :allow-delete="acl.can(\'warehouse-group.editor\')"\n            @update-records="onUpdateRecords"\n        >\n            <template #actions="{ item }">\n                <sw-context-menu-item\n                    v-if="acl.can(\'warehouse-group.editor\')"\n                    @click="showDeleteModal = item.id"\n                    variant="danger"\n                >\n                    {{ $tc(\'sw-settings-warehouse-group.warehouseAssignment.actionDeleteWarehouse\') }}\n                </sw-context-menu-item>\n            </template>\n\n            <template #action-modals="{ item }">\n                <sw-modal\n                    v-if="showDeleteModal === item.id"\n                    :title="$tc(\'global.default.warning\')"\n                    variant="small"\n                    @modal-close="onCancelDelete"\n                >\n                    <p>\n                        {{ $tc(\'sw-settings-warehouse-group.warehouseAssignment.textDeleteConfirm-1\') }}<br>\n                        {{ $tc(\'sw-settings-warehouse-group.warehouseAssignment.textDeleteConfirm-2\') }}<b>{{ item.warehouse.name }}</b>{{ $tc(\'sw-settings-warehouse-group.warehouseAssignment.textDeleteConfirm-3\') }}\n                    </p>\n\n                    <template #modal-footer>\n                        <sw-button\n                            size="small"\n                            @click="onCancelDelete"\n                        >\n                            {{ $tc(\'sw-settings-warehouse-group.warehouseAssignment.buttonCancel\') }}\n                        </sw-button>\n\n                        <sw-button\n                            variant="danger"\n                            size="small"\n                            @click="onConfirmDelete(item)"\n                        >\n                            {{ $tc(\'sw-settings-warehouse-group.warehouseAssignment.buttonDelete\') }}\n                        </sw-button>\n                    </template>\n                </sw-modal>\n            </template>\n        </sw-entity-listing>\n\n        <sw-empty-state\n            v-else\n            :title="$tc(\'sw-settings-warehouse-group.warehouseAssignment.titleWhitespace\')"\n            class="sw-settings-warehouse-group-warehouses__whitespace"\n        >\n            <template #icon>\n                <img\n                    :src="\'/administration/static/img/empty-states/settings-empty-state.svg\' | asset"\n                    :alt="$tc(\'sw-empty-state.messageNoResultTitle\')"\n                >\n            </template>\n\n            <template #default>\n                <sw-button\n                    variant="ghost"\n                    size="small"\n                    @click="onClickAddWarehouses"\n                >\n                    {{ $tc(\'sw-settings-warehouse-group.warehouseAssignment.whitespaceButtonAdd\') }}\n                </sw-button>\n            </template>\n        </sw-empty-state>\n\n        <sw-warehouse-selection\n            v-if="showSelectionModal"\n            :initial-selection="selectedWarehouseIds"\n            :warehouse-group-id="warehouseGroupId"\n            @modal-close="showSelectionModal = false"\n            @confirm-selection="onConfirmSelection"\n        ></sw-warehouse-selection>\n    </template>\n</sw-card>\n',inject:["acl","repositoryFactory","syncService"],mixins:[ve.getByName("listing"),ve.getByName("notification")],props:{warehouseGroupId:{type:String,required:!0},localMode:{type:Boolean,default:!0}},data:function(){return{warehouseGroupWarehouses:null,isLoading:!1,showSelectionModal:!1,showDeleteModal:!1,limit:10,total:0,term:"",sortBy:"warehouse.name"}},computed:{showListing:function(){var e=this.isLoading,t=this.total,r=this.term;return e||t||r},repository:function(){var e=this.repositoryFactory.create("warehouse_group_warehouse");return e.save=this.upsertEntity.bind(this),e},warehouseRepository:function(){return this.repositoryFactory.create("warehouse")},columns:function(){return[{property:"warehouse.name",label:"sw-settings-warehouse-group.warehouseAssignment.columnWarehouseName",primary:!0},{property:"priority",label:"sw-settings-warehouse-group.warehouseAssignment.columnWarehousePriority",inlineEdit:"number"}]},selectedWarehouseIds:function(){var e;return(null!==(e=this.warehouseGroupWarehouses)&&void 0!==e?e:[]).map((function(e){return e.warehouseId}))}},methods:{onChangeSearchTerm:function(e){this.term=e,this.page=1,this.getList()},getCriteria:function(){var e=this.page,t=this.limit,r=this.term,n=this.sortBy,o=this.sortDirection,i=this.naturalSorting,a=new be(e,t).setTerm(r).addSorting(be.sort(n,o,i));return r&&a.addFilter(be.contains("warehouse.name",r)),a.addFilter(be.equals("warehouseGroupId",this.warehouseGroupId)),a.addAssociation("warehouse"),a.addAssociation("warehouseGroup"),a},onUpdateRecords:function(e){this.warehouseGroupWarehouses=e,this.total=e.total,this.limit=e.criteria.limit,this.page=e.criteria.page,this.getWarehouseDetails()},onClickAddWarehouses:function(){this.showSelectionModal=!0},onConfirmSelection:function(e){this.showSelectionModal=!1,e.length&&this.createEntities(e)},createEntities:function(e){var t=this.createCollection(e);this.saveCollection(t),this.$emit("selected-entities",t,e)},createCollection:function(e){var t=this,r=this.warehouseGroupId,n=this.warehouseGroupWarehouses,o=null!=n?n:new xe(this.repository.route,this.repository.entityName);return e.forEach((function(e){var n=t.repository.create();n.warehouseId=e.id,n.warehouseGroupId=r,n.priority=1,n.warehouse=e,o.add(n)})),o},saveCollection:function(e){e.criteria=this.getCriteria(),e.total=e.length,this.warehouseGroupWarehouses=e,this.total=e.total},onCancelDelete:function(){this.showDeleteModal=!1},onConfirmDelete:function(e){var t=this;return we(de().mark((function r(){return de().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(r.prev=0,!t.localMode){r.next=5;break}t.warehouseGroupWarehouses=t.warehouseGroupWarehouses.filter((function(t){return t.id!==e.id})),r.next=8;break;case 5:return t.isLoading=!0,r.next=8,t.deleteWarehouseAssociation(e.warehouseId);case 8:return r.prev=8,t.showDeleteModal=!1,r.finish(8);case 11:case"end":return r.stop()}}),r,null,[[0,,8,11]])})))()},getWarehouseGroupWarehouses:function(){var e=this;return we(de().mark((function t(){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.repository.search(e.getCriteria());case 2:e.warehouseGroupWarehouses=t.sent,e.total=e.warehouseGroupWarehouses?e.warehouseGroupWarehouses.total:0;case 4:case"end":return t.stop()}}),t)})))()},getWarehouseDetails:function(){var e=this;return we(de().mark((function t(){var r,n,o;return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.warehouseGroupWarehouses.map((function(e){return e.warehouseId})),n=new be(1,e.limit).setIds(r),t.next=4,e.warehouseRepository.search(n);case 4:o=t.sent,e.warehouseGroupWarehouses.forEach((function(e){e.warehouse=o.get(e.warehouseId)}));case 6:case"end":return t.stop()}}),t)})))()},getList:function(){var e=this;return we(de().mark((function t(){return de().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,!e.localMode){t.next=3;break}return t.abrupt("return");case 3:return e.isLoading=!0,t.next=6,e.getWarehouseGroupWarehouses();case 6:return t.next=8,e.getWarehouseDetails();case 8:t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),e.createNotificationError({message:e.$tc("sw-settings-warehouse.general.notificationGeneric")});case 13:return t.prev=13,e.isLoading=!1,t.finish(13);case 16:case"end":return t.stop()}}),t,null,[[0,10,13,16]])})))()},deleteWarehouseAssociation:function(e){var t=this;return we(de().mark((function r(){var n;return de().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,n=[{action:"delete",entity:"warehouse_group_warehouse",payload:[{warehouseGroupId:t.warehouseGroupId,warehouseId:e}]}],r.next=4,t.syncService.sync(n);case 4:r.next=9;break;case 6:r.prev=6,r.t0=r.catch(0),t.createNotificationError({message:t.$tc("sw-settings-warehouse.general.notificationGeneric")});case 9:return r.prev=9,t.getList(),r.finish(9);case 12:case"end":return r.stop()}}),r,null,[[0,6,9,12]])})))()},upsertEntity:function(e){return this.syncService.sync([{action:"upsert",entity:"warehouse_group_warehouse",payload:[e]}])}}});r("ZjV5");function Le(e){return(Le="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Se(){Se=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new E(o||[]);return n(a,"_invoke",{value:x(e,r,s)}),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function p(){}function d(){}function f(){}var w={};u(w,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(k([])));m&&m!==t&&r.call(m,i)&&(w=m);var v=f.prototype=p.prototype=Object.create(w);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function o(n,i,a,s){var u=l(e[n],e,i);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==Le(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(h).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:G}}function G(){return{value:void 0,done:!0}}return d.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=u(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),u(v,s,"Generator"),u(v,i,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function _e(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}var Ee=Shopware,ke=Ee.Component,Ge=Ee.Mixin,Ce=Shopware.Data.Criteria;ke.register("sw-warehouse-selection",{template:'<sw-modal\r\n    :title="$tc(\'sw-settings-warehouse-group.warehouseAssignment.titleWarehouseSelect\')"\r\n    @modal-close="onCancel"\r\n    class="sw-warehouse-selection"\r\n>\r\n    <template v-if="showListing">\r\n        <div class="sw-warehouse-selection__toolbar">\r\n            <sw-simple-search-field\r\n                v-model="term"\r\n                size="small"\r\n                variant="form"\r\n                @search-term-change="onChangeSearchTerm"\r\n            />\r\n        </div>\r\n        <sw-entity-listing\r\n            :repository="repository"\r\n            :columns="columns"\r\n            :items="warehouses"\r\n            :plain-appearance="true"\r\n            :full-page="false"\r\n            :show-selection="true"\r\n            :show-settings="false"\r\n            :show-actions="false"\r\n            :is-loading="isLoading"\r\n            :criteria-limit="limit"\r\n            :allow-delete="false"\r\n            :allow-column-edit="false"\r\n            @update-records="onUpdateRecords"\r\n            @selection-change="onSelectionChange"\r\n        ></sw-entity-listing>\r\n    </template>\r\n\r\n    <template>\r\n        <sw-empty-state\r\n            v-if="!showListing"\r\n            class="sw-warehouse-selection__whitespace"\r\n            :title="$tc(\'sw-settings-warehouse-group.warehouseAssignment.whitespaceTitleWarehouseSelection\')"\r\n            subline=""\r\n        >\r\n            <template #icon>\r\n                <img\r\n                    :src="\'/administration/static/img/empty-states/settings-empty-state.svg\' | asset"\r\n                    :alt="$tc(\'sw-empty-state.messageNoResultTitle\')"\r\n                >\r\n            </template>\r\n        </sw-empty-state>\r\n    </template>\r\n\r\n    <template #modal-footer>\r\n        <sw-button\r\n            size="small"\r\n            @click="onCancel"\r\n        >\r\n            {{ $tc(\'sw-settings-warehouse-group.warehouseAssignment.buttonCancel\') }}\r\n        </sw-button>\r\n\r\n        <sw-button\r\n            variant="primary"\r\n            size="small"\r\n            @click="onConfirmSelection"\r\n            :disabled="!selection.length"\r\n        >\r\n            {{ $tc(\'sw-settings-warehouse-group.warehouseAssignment.buttonConfirmSelection\', 0, { count: selection.length }) }}\r\n        </sw-button>\r\n    </template>\r\n</sw-modal>',inject:["acl","repositoryFactory"],mixins:[Ge.getByName("listing"),Ge.getByName("notification")],props:{warehouseGroupId:{type:String,required:!0},initialSelection:{type:Array,default:function(){return[]}}},data:function(){return{isLoading:!1,selection:[],warehouses:null,page:1,limit:10,term:""}},computed:{showListing:function(){var e=this.isLoading,t=this.total,r=this.term;return e||t||r},repository:function(){return this.repositoryFactory.create("warehouse")},columns:function(){return[{property:"name",label:"sw-settings-warehouse-group.warehouseAssignment.columnWarehouseName",primary:!0}]},criteria:function(){var e=this.page,t=this.limit,r=this.term,n=new Ce(e,t).setTerm(r).addAssociation("groups").addFilter(Ce.not("and",[Ce.equals("groups.id",this.warehouseGroupId)])).addAssociation("productWarehouses");return this.initialSelection.length&&n.addFilter(Ce.not("and",[Ce.equalsAny("id",this.initialSelection)])),n}},methods:{onChangeSearchTerm:function(e){this.term=e,this.page=1,this.getList()},getList:function(){var e,t=this;return(e=Se().mark((function e(){return Se().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,t.repository.search(t.criteria);case 4:t.warehouses=e.sent,t.total=t.warehouses?t.warehouses.total:0,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.createNotificationError({message:t.$tc("sw-settings-warehouse.general.notificationGeneric")});case 11:return e.prev=11,t.isLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){_e(i,n,o,a,s,"next",e)}function s(e){_e(i,n,o,a,s,"throw",e)}a(void 0)}))})()},onUpdateRecords:function(e){this.warehouses=e,this.total=e.total,this.limit=e.criteria.limit,this.page=e.criteria.page},onSelectionChange:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.selection=Array.from(Object.values(e))},onCancel:function(){this.$emit("modal-close")},onConfirmSelection:function(){this.$emit("confirm-selection",this.selection)}}});r("P044");function De(e){return(De="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Oe(e,t,r){return(t=function(e){var t=function(e,t){if("object"!==De(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!==De(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===De(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var Ne=Shopware.Component.getComponentHelper().mapPropertyErrors;Shopware.Component.register("sw-warehouse-group-form",{template:'<sw-card\n    :title="$tc(\'sw-settings-warehouse-group.detail.titleCardMain\')"\n    position-identifier="sw-settings-warehouse-group-form"\n>\n    <sw-container\n        columns="1fr 175px"\n        gap="0px 30px"\n    >\n        <sw-field\n            v-model="warehouseGroup.name"\n            type="text"\n            required\n            validation="required"\n            :error="warehouseGroupNameError"\n            :label="$tc(\'sw-settings-warehouse-group.detail.labelName\')"\n            :placeholder="$tc(\'sw-settings-warehouse-group.detail.placeholderName\')"\n        />\n        <sw-field\n            v-model="warehouseGroup.priority"\n            type="number"\n            :label="$tc(\'sw-settings-warehouse-group.detail.labelPriority\')"\n            :placeholder="$tc(\'sw-settings-warehouse-group.detail.placeholderPriority\')"\n        />\n    </sw-container>\n\n    <sw-field\n        v-model="warehouseGroup.description"\n        type="textarea"\n        :label="$tc(\'sw-settings-warehouse-group.detail.labelDescription\')"\n        :placeholder="$tc(\'sw-settings-warehouse-group.detail.placeholderDescription\')"\n    />\n\n    <span class="sw-warehouse-group-form__title">\n        {{ $tc(\'sw-settings-warehouse-group.detail.ruleInfoTitle\') }}\n    </span>\n\n    <p class="sw-warehouse-group-form__body">\n        {{ $tc(\'sw-settings-warehouse-group.detail.ruleInfoText\') }}\n    </p>\n\n    <sw-entity-single-select\n        :label="$tc(\'sw-settings-warehouse-group.detail.labelRule\')"\n        :placeholder="$tc(\'sw-settings-warehouse-group.detail.placeholderRule\')"\n        id="warehouse-group-rule-selection"\n        entity="rule"\n        :value="warehouseGroup.ruleId"\n        show-clearable-button\n        @change="setRuleId"\n        validation="required"\n    />\n</sw-card>\n',props:{warehouseGroup:{type:Object,required:!0}},computed:function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){Oe(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Ne("warehouseGroup",["name"])),methods:{setRuleId:function(e){this.warehouseGroup.ruleId=e}}}),Shopware.License.get("MULTI_INVENTORY-3711815")&&Shopware.Module.register("sw-settings-warehouse-group",{type:"plugin",name:"settings-warehouse-group",title:"sw-settings-warehouse-group.general.title",description:"sw-settings-warehouse-group.general.description",entity:"warehouse_group",icon:"regular-cog",color:"#9AA8B5",routes:{detail:{component:"sw-settings-warehouse-group-detail",path:"detail/:id",meta:{parentPath:"sw.settings.warehouse.index",privilege:"warehouse-group.viewer"}},create:{component:"sw-settings-warehouse-group-create",path:"create",meta:{parentPath:"sw.settings.warehouse.index",privilege:"warehouse-group.creator"}}}});r("tqps");if(Shopware.License.get("MULTI_INVENTORY-3711815")){var je=Shopware.Component,We=Shopware.Data,Ie=We.Criteria,Me=We.EntityCollection;je.override("sw-product-deliverability-form",{template:'\n{% block sw_product_deliverability_form %}\n    <div class="product-deliverability-form">\n        {% block sw_product_deliverability_form_warehouse_group_assignment %}\n        <sw-container\n            id="warehouseGroupAssignmentContainer"\n            columns="1fr"\n            gap="0px 30px"\n        >\n            <sw-entity-multi-select\n                v-if="acl.can(\'warehouse-group.viewer\')"\n                entity-name="warehouse_group"\n                label-property="name"\n                :criteria="warehouseGroupSelectCriteria"\n                :entity-collection="product.extensions.warehouseGroups"\n                :value="product.extensions.warehouseGroups"\n                :label="$tc(\'sw-settings-warehouse.detail.labelGroups\')"\n                :placeholder="$tc(\'sw-settings-warehouse.detail.placeholderGroups\')"\n                :help-text="$tc(\'sw-product.card.textTooltipMultiSelect\')"\n                :disabled="!this.acl.can(\'warehouse-group.editor\')"\n                @change="setWarehouseGroupCollection"\n                @item-add="markEntityAsNew"\n            ></sw-entity-multi-select>\n        </sw-container>\n        {% endblock %}\n\n        <sw-container\n            v-if="isWarehouseGroupAssigned"\n            key="sw-container--closeout-and-stocks"\n            columns="1fr 1fr"\n        >\n            {% block sw_product_deliverability_form_is_closeout_field %}\n            <sw-inherit-wrapper\n                v-model="product.isCloseout"\n                :has-parent="!!parentProduct.id"\n                :inherited-value="parentProduct.isCloseout"\n            >\n                <template #content="props">\n                    <sw-field\n                        type="switch"\n                        name="sw-field--product-is-closeout"\n                        :error="productIsCloseoutError"\n                        :map-inheritance="props"\n                        :label="$tc(\'sw-product.settingsForm.labelIsCloseout\')"\n                        :help-text="$tc(\'sw-product.settingsForm.isCloseoutHelpText\')"\n                        :disabled="props.isInherited || !allowEdit"\n                        :value="props.currentValue"\n                        @change="props.updateCurrentValue"\n                    />\n                </template>\n            </sw-inherit-wrapper>\n            {% endblock %}\n\n            <template v-if="acl.can(\'warehouse-group.viewer\')">\n                <a\n                    class="sw-card__quick-link advanced-visibility sw-product__warehouse-group-modal-link"\n                    :class="isProductWarehouseModalDisabled ? \'sw-product__warehouse-group-modal-link--disabled\' : \'\'"\n                    @click="displayWarehouseGroupModal"\n                >\n                    <span v-tooltip.top="{ message: $tc(\'sw-product.card.textProductWarehouseModalDisabled\'), disabled: !isProductWarehouseModalDisabled }">\n                        {{ $tc(\'sw-product.card.textLinkModal\') }} <sw-icon\n                            name="regular-long-arrow-right"\n                            small\n                        />\n                    </span>\n                </a>\n\n                <sw-product-warehouse-group-modal\n                    v-if="showWarehouseGroupModal"\n                    :product="product"\n                    @modal-close="closeWarehouseGroupModal"\n                ></sw-product-warehouse-group-modal>\n            </template>\n        </sw-container>\n\n        <sw-container\n            v-if="!isWarehouseGroupAssigned"\n            columns="1fr 1fr 1fr"\n            gap="0px 30px"\n        >\n            \n            {% block sw_product_deliverability_form_stock_field %}\n            <sw-field\n                v-model="product.stock"\n                type="number"\n                name="sw-field--product-stock"\n                number-type="int"\n                :disabled="!allowEdit"\n                :label="$tc(\'sw-product.settingsForm.labelStock\')"\n                :placeholder="$tc(\'sw-product.settingsForm.placeholderStock\')"\n                :error="productStockError"\n            />\n            {% endblock %}\n\n            \n            {% block sw_product_deliverability_form_available_stock_field %}\n            <sw-field\n                v-model="product.availableStock"\n                type="number"\n                name="sw-field--product-available-stock"\n                number-type="int"\n                :disabled="true"\n                :label="$tc(\'sw-product.settingsForm.labelAvailableStock\')"\n            />\n            {% endblock %}\n\n            \n            {% block sw_product_deliverability_form_is_closeout_field %}\n            <sw-inherit-wrapper\n                v-model="product.isCloseout"\n                :has-parent="!!parentProduct.id"\n                :inherited-value="parentProduct.isCloseout"\n            >\n                <template #content="props">\n\n                    <sw-field\n                        type="switch"\n                        name="sw-field--product-is-closeout"\n                        :error="productIsCloseoutError"\n                        :map-inheritance="props"\n                        :label="$tc(\'sw-product.settingsForm.labelIsCloseout\')"\n                        :help-text="$tc(\'sw-product.settingsForm.isCloseoutHelpText\')"\n                        :disabled="props.isInherited || !allowEdit"\n                        :value="props.currentValue"\n                        @change="props.updateCurrentValue"\n                    />\n\n                </template>\n            </sw-inherit-wrapper>\n            {% endblock %}\n        </sw-container>\n\n        <hr class="sw-product-deliverability-form__divider">\n\n        <sw-container\n            columns="1fr 1fr 1fr"\n            gap="0px 30px"\n        >\n            \n            {% block sw_product_deliverability_form_delivery_time_field %}\n            <sw-inherit-wrapper\n                v-if="showModeSetting"\n                v-model="product.deliveryTimeId"\n                :inherited-value="parentProduct.deliveryTimeId"\n                :has-parent="!!parentProduct.id"\n                :label="$tc(\'sw-product.settingsForm.labelDeliveryTime\')"\n            >\n                <template #content="{ currentValue, updateCurrentValue, isInherited }">\n\n                    <sw-entity-single-select\n                        id="deliveryTimeId"\n                        :key="isInherited"\n                        :value="currentValue"\n                        entity="delivery_time"\n                        :disabled="isInherited || !allowEdit"\n                        class="product-deliverability-form__delivery-time"\n                        :error="productDeliveryTimeIdError"\n                        :placeholder="$tc(\'sw-product.settingsForm.placeholderDeliveryTime\')"\n                        show-clearable-button\n                        @change="updateCurrentValue"\n                    />\n                </template>\n            </sw-inherit-wrapper>\n            {% endblock %}\n\n            \n            {% block sw_product_deliverability_form_restock_field %}\n            <sw-inherit-wrapper\n                v-if="showModeSetting"\n                v-model="product.restockTime"\n                class="sw-product-deliverability__restock-field"\n                :has-parent="!!parentProduct.id"\n                :inherited-value="parentProduct.restockTime"\n            >\n                <template #content="props">\n\n                    <sw-field\n                        type="number"\n                        name="sw-field--product-restock-time"\n                        :map-inheritance="props"\n                        number-type="int"\n                        allow-empty\n                        :min="0"\n                        :disabled="props.isInherited || !allowEdit"\n                        :label="$tc(\'sw-product.settingsForm.labelRestockTime\')"\n                        :placeholder="$tc(\'sw-product.settingsForm.placeholderRestockTime\')"\n                        :value="props.currentValue"\n                        :error="productRestockTimeError"\n                        @change="props.updateCurrentValue"\n                    />\n\n                </template>\n            </sw-inherit-wrapper>\n            {% endblock %}\n\n            \n            {% block sw_product_deliverability_form_shipping_free_field %}\n            <sw-inherit-wrapper\n                v-if="showModeSetting"\n                v-model="product.shippingFree"\n                class="sw-product-deliverability__shipping-free"\n                :has-parent="!!parentProduct.id"\n                :inherited-value="parentProduct.shippingFree"\n            >\n                <template #content="props">\n\n                    <sw-field\n                        type="switch"\n                        :map-inheritance="props"\n                        :error="productShippingFreeError"\n                        :label="$tc(\'sw-product.settingsForm.labelShippingFree\')"\n                        :disabled="props.isInherited || !allowEdit"\n                        :value="props.currentValue"\n                        @change="props.updateCurrentValue"\n                    />\n\n                </template>\n            </sw-inherit-wrapper>\n            {% endblock %}\n        </sw-container>\n\n        <sw-container\n            columns="1fr 1fr 1fr"\n            gap="0px 30px"\n        >\n            \n            {% block sw_product_deliverability_form_min_purchase_field %}\n            <sw-inherit-wrapper\n                v-if="showModeSetting"\n                v-model="product.minPurchase"\n                class="sw-product-deliverability__min-purchase"\n                :has-parent="!!parentProduct.id"\n                :inherited-value="parentProduct.minPurchase"\n            >\n                <template #content="props">\n\n                    <sw-field\n                        type="number"\n                        :map-inheritance="props"\n                        number-type="int"\n                        :min="1"\n                        :error="productMinPurchaseError"\n                        :label="$tc(\'sw-product.settingsForm.labelMinPurchase\')"\n                        :placeholder="$tc(\'sw-product.settingsForm.placeholderMinPurchase\')"\n                        :disabled="props.isInherited || !allowEdit"\n                        :value="props.currentValue"\n                        @change="props.updateCurrentValue"\n                    />\n\n                </template>\n            </sw-inherit-wrapper>\n            {% endblock %}\n\n            \n            {% block sw_product_deliverability_form_purchase_steps_field %}\n            <sw-inherit-wrapper\n                v-if="showModeSetting"\n                v-model="product.purchaseSteps"\n                class="sw-product-deliverability__purchase-step"\n                :has-parent="!!parentProduct.id"\n                :inherited-value="parentProduct.purchaseSteps"\n            >\n                <template #content="props">\n\n                    <sw-field\n                        type="number"\n                        :map-inheritance="props"\n                        number-type="int"\n                        :min="1"\n                        :error="productPurchaseStepsError"\n                        :label="$tc(\'sw-product.settingsForm.labelPurchaseSteps\')"\n                        :placeholder="$tc(\'sw-product.settingsForm.placeholderPurchaseSteps\')"\n                        :disabled="props.isInherited || !allowEdit"\n                        :value="props.currentValue"\n                        @change="props.updateCurrentValue"\n                    />\n                </template>\n            </sw-inherit-wrapper>\n            {% endblock %}\n\n            \n            {% block sw_product_deliverability_form_max_purchase_field %}\n            <sw-inherit-wrapper\n                v-if="showModeSetting"\n                v-model="product.maxPurchase"\n                class="sw-product-deliverability__max-purchase"\n                :has-parent="!!parentProduct.id"\n                :inherited-value="parentProduct.maxPurchase"\n            >\n                <template #content="props">\n\n                    <sw-field\n                        type="number"\n                        :map-inheritance="props"\n                        number-type="int"\n                        :allow-empty="true"\n                        :min="0"\n                        :error="productMaxPurchaseError"\n                        :label="$tc(\'sw-product.settingsForm.labelMaxPurchase\')"\n                        :placeholder="$tc(\'sw-product.settingsForm.placeholderMaxPurchase\')"\n                        :disabled="props.isInherited || !allowEdit"\n                        :value="props.currentValue"\n                        @change="props.updateCurrentValue"\n                    />\n                </template>\n            </sw-inherit-wrapper>\n            {% endblock %}\n        </sw-container>\n    </div>\n{% endblock %}\n',inject:["acl","repositoryFactory"],data:function(){return{showWarehouseGroupModal:!1,warehouseGroupSortBy:"priority",warehouseGroupSortDirection:"DESC",originProductWarehouses:null}},computed:{productWarehouseRepository:function(){return this.repositoryFactory.create("product_warehouse")},isWarehouseGroupAssigned:function(){return this.product.extensions.warehouseGroups&&this.product.extensions.warehouseGroups.length},isProductWarehouseModalDisabled:function(){return this.product.isNew()||!this.product.extensions.warehouseGroups||!this.product.extensions.warehouseGroups.length||this.product.extensions.warehouseGroups.some((function(e){return e.isNew()}))},warehouseGroupSelectCriteria:function(){var e=new Ie;return e.addAssociation("warehouses"),e}},methods:{createdComponent:function(){this.$super("createdComponent"),this.originProductWarehouses=this.product.extensions.warehouses},setWarehouseGroupCollection:function(e){this.product.extensions.warehouseGroups=e},displayWarehouseGroupModal:function(){this.isProductWarehouseModalDisabled||(this.showWarehouseGroupModal=!0)},closeWarehouseGroupModal:function(){this.showWarehouseGroupModal=!1},createMissingProductWarehouses:function(){var e=this,t=this.product.extensions.warehouseGroups,r=new Me(this.productWarehouseRepository.route,this.productWarehouseRepository.entityName),n=this.originProductWarehouses,o=new Set;t.forEach((function(e){e.warehouses.forEach((function(e){var t=e.id;o.add(t)}))})),n.forEach((function(e){var t=e.warehouseId;o.add(t)})),o.forEach((function(t){var o=n.find((function(e){return e.warehouseId===t}));o?r.add(o):r.add(e.createProductWarehouse(t))})),this.product.extensions.warehouses=r},createProductWarehouse:function(e){var t=this.productWarehouseRepository.create();return Object.assign(t,{warehouseId:e,productId:this.product.id,productVersionId:this.product.versionId,stock:0}),t},markEntityAsNew:function(e){this.product.getOrigin().extensions.warehouseGroups.find((function(t){return t.id===e.id}))||e.markAsNew()}}})}r("JtUB");function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(){$e=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new E(o||[]);return n(a,"_invoke",{value:x(e,r,s)}),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function p(){}function d(){}function f(){}var w={};u(w,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(k([])));m&&m!==t&&r.call(m,i)&&(w=m);var v=f.prototype=p.prototype=Object.create(w);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function o(n,i,a,s){var u=l(e[n],e,i);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==Te(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(h).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:G}}function G(){return{value:void 0,done:!0}}return d.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=u(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),u(v,s,"Generator"),u(v,i,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function Ae(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}var Fe=Shopware,Re=Fe.Component,Be=Fe.Mixin,ze=Shopware.Data.Criteria;Re.register("sw-product-warehouse-group-modal",{template:'<sw-modal\n    :title="$tc(\'sw-product.modal-warehouse-group.textHeadline\')"\n    class="sw-product-warehouse-group-modal"\n    variant="large"\n    @modal-close="closeModal"\n>\n    <sw-container\n        class="sw-product-warehouse-group-modal__content"\n        columns="30% auto"\n    >\n        <div class="sw-product-warehouse-group-modal__navigation">\n            <sw-tabs\n                v-if="!isLoading"\n                :is-vertical="true"\n                @new-item-active="setActiveGroup"\n                position-identifier="sw-product-warehouse-group-modal-tabs"\n            >\n                <sw-tabs-item\n                    v-for="(group, index) in warehouseGroups"\n                    :key="`product-warehouse-stock-tab--${index}`"\n                    :active="group.id === activeGroupId"\n                    :name="group.id"\n                >\n                    <sw-container\n                        :key="`sw-product-warehouse-group-modal__navigation--${index}`"\n                        columns="1fr auto"\n                        justify="stretch"\n                    >\n                        <span\n                            class="sw-product-warehouse-group-modal__navigation-group"\n                            v-tooltip="{ message: group.name }"\n                        >\n                            {{ group.name }}\n                        </span>\n                        <span class="sw-product-warehouse-group-modal__navigation-stock">{{ getTotalStock(group.id) }}</span>\n                    </sw-container>\n                </sw-tabs-item>\n            </sw-tabs>\n        </div>\n\n        <sw-product-warehouse-stock\n            v-if="activeGroupId"\n            :product-id="product.id"\n            :product-version-id="product.versionId"\n            :warehouse-group-id="activeGroupId"\n            @update-records="refreshNavigation"\n        />\n    </sw-container>\n\n    <template slot="modal-footer">\n        <sw-button\n            size="small"\n            @click="closeModal"\n        >\n            {{ $tc(\'sw-product.modal-warehouse-group.buttonCancel\') }}\n        </sw-button>\n    </template>\n</sw-modal>\n',inject:["acl","repositoryFactory"],mixins:[Be.getByName("notification")],props:{product:{type:Object,required:!0}},data:function(){return{warehouseGroups:null,activeGroupId:null,isLoading:!1,sortBy:"priority",sortDirection:"DESC"}},computed:{warehouseGroupRepository:function(){return this.repositoryFactory.create("warehouse_group")},warehouseGroupCriteria:function(){var e=this.sortBy,t=this.sortDirection,r=new ze;return r.addFilter(ze.equals("products.id",this.product.id)),r.addSorting(ze.sort(e,t)),r.addAggregation(ze.filter("total-stock",[ze.equals("warehouses.productWarehouses.productId",this.product.id)],ze.terms("totalStock","warehouse_group.id",null,null,ze.sum("totalStock","warehouses.productWarehouses.stock")))),r}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.getWarehouseGroups()},getWarehouseGroups:function(){var e,t=this;return(e=$e().mark((function e(){return $e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.isLoading=!0,e.next=4,t.warehouseGroupRepository.search(t.warehouseGroupCriteria);case 4:t.warehouseGroups=e.sent,t.activeGroupId=t.warehouseGroups.length?t.warehouseGroups[0].id:null,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t.createNotificationError({message:t.$tc("sw-settings-warehouse-group.general.notificationGeneric")});case 11:return e.prev=11,t.isLoading=!1,e.finish(11);case 14:case"end":return e.stop()}}),e,null,[[0,8,11,14]])})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ae(i,n,o,a,s,"next",e)}function s(e){Ae(i,n,o,a,s,"throw",e)}a(void 0)}))})()},setActiveGroup:function(e){this.activeGroupId=e.name},closeModal:function(){this.$emit("modal-close")},getAggregations:function(e){var t=this.warehouseGroups.aggregations.totalStock,r={totalStock:0};return t.buckets.forEach((function(t){t.key===e&&(r.totalStock=t.totalStock.sum)})),r},getTotalStock:function(e){var t=this.getAggregations(e).totalStock;return this.$tc("sw-product.modal-warehouse-group.navigationLabelStock",0,{totalStock:t})},refreshNavigation:function(){this.getWarehouseGroups()}}});r("kpHl");function Ve(e){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ye(){Ye=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n=Object.defineProperty||function(e,t,r){e[t]=r.value},o="function"==typeof Symbol?Symbol:{},i=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(e){u=function(e,t,r){return e[t]=r}}function c(e,t,r,o){var i=t&&t.prototype instanceof p?t:p,a=Object.create(i.prototype),s=new E(o||[]);return n(a,"_invoke",{value:x(e,r,s)}),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h={};function p(){}function d(){}function f(){}var w={};u(w,i,(function(){return this}));var g=Object.getPrototypeOf,m=g&&g(g(k([])));m&&m!==t&&r.call(m,i)&&(w=m);var v=f.prototype=p.prototype=Object.create(w);function y(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function o(n,i,a,s){var u=l(e[n],e,i);if("throw"!==u.type){var c=u.arg,h=c.value;return h&&"object"==Ve(h)&&r.call(h,"__await")?t.resolve(h.__await).then((function(e){o("next",e,a,s)}),(function(e){o("throw",e,a,s)})):t.resolve(h).then((function(e){c.value=e,a(c)}),(function(e){return o("throw",e,a,s)}))}s(u.arg)}var i;n(this,"_invoke",{value:function(e,r){function n(){return new t((function(t,n){o(e,r,t,n)}))}return i=i?i.then(n,n):n()}})}function x(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return G()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var s=L(a,r);if(s){if(s===h)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=l(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===h)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}function L(e,t){var r=t.method,n=e.iterator[r];if(void 0===n)return t.delegate=null,"throw"===r&&e.iterator.return&&(t.method="return",t.arg=void 0,L(e,t),"throw"===t.method)||"return"!==r&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+r+"' method")),h;var o=l(n,e.iterator,t.arg);if("throw"===o.type)return t.method="throw",t.arg=o.arg,t.delegate=null,h;var i=o.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function E(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function k(e){if(e){var t=e[i];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,o=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return o.next=o}}return{next:G}}function G(){return{value:void 0,done:!0}}return d.prototype=f,n(v,"constructor",{value:f,configurable:!0}),n(f,"constructor",{value:d,configurable:!0}),d.displayName=u(f,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,u(e,s,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},y(b.prototype),u(b.prototype,a,(function(){return this})),e.AsyncIterator=b,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new b(c(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},y(v),u(v,s,"Generator"),u(v,i,(function(){return this})),u(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),r=[];for(var n in t)r.push(n);return r.reverse(),function e(){for(;r.length;){var n=r.pop();if(n in t)return e.value=n,e.done=!1,e}return e.done=!0,e}},e.values=k,E.prototype={constructor:E,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var s=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(s&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(s){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,h):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),h}},e}function qe(e,t,r,n,o,i,a){try{var s=e[i](a),u=s.value}catch(e){return void r(e)}s.done?t(u):Promise.resolve(u).then(n,o)}function Ue(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){qe(i,n,o,a,s,"next",e)}function s(e){qe(i,n,o,a,s,"throw",e)}a(void 0)}))}}var He=Shopware,Je=He.Component,Ke=He.Mixin,Ze=Shopware.Data.Criteria;Je.register("sw-product-warehouse-stock",{template:'<div class="sw-product-warehouse-stock">\n    <div class="sw-product-warehouse-stock__toolbar">\n        <sw-card-filter\n            :disabled="isLoading"\n            @sw-card-filter-term-change="onChangeSearchTerm"\n        />\n    </div>\n\n    <sw-entity-listing\n        :repository="warehouseRepository"\n        :columns="warehouseColumns"\n        :items="warehouses"\n        :plain-appearance="false"\n        :full-page="false"\n        :show-selection="false"\n        :show-actions="true"\n        :show-settings="true"\n        :is-loading="isLoading"\n        :criteria-limit="limit"\n        :allow-bulk-edit="true"\n        :allow-view="acl.can(\'warehouse-group.viewer\')"\n        :allow-edit="acl.can(\'warehouse.editor\')"\n        :allow-inline-edit="acl.can(\'warehouse.editor\')"\n        :allow-delete="false"\n        @update-records="onUpdateRecords"\n    >\n        <template #column-warehouse.productWarehouses[0].stock="{ item, column, isInlineEdit }">\n            <sw-data-grid-inline-edit\n                v-if="isInlineEdit"\n                :column="column"\n                :compact="true"\n                :value="item.warehouse.productWarehouses[0].stock"\n                @input="item.warehouse.productWarehouses[0].stock = $event"\n            />\n            <span\n                v-else\n                class="sw-data-grid__cell-value"\n            >\n                {{ item.warehouse.productWarehouses[0].stock }}\n            </span>\n        </template>\n    </sw-entity-listing>\n</div>\n',inject:["acl","repositoryFactory"],mixins:[Ke.getByName("notification")],props:{productId:{type:String,required:!0},productVersionId:{type:String,required:!0},warehouseGroupId:{type:String,required:!0}},data:function(){return{warehouses:null,isLoading:!1,sortBy:"priority",sortDirection:"DESC",limit:10,page:1,term:""}},watch:{warehouseGroupId:function(e){e&&this.loadWarehouses()}},computed:{warehouseRepository:function(){var e=this.repositoryFactory.create("warehouse_group_warehouse");return e.save=this.upsertProductWarehouse.bind(this),e},productWarehouseRepository:function(){return this.repositoryFactory.create("product_warehouse")},warehouseCriteria:function(){var e=this.productId,t=this.warehouseGroupId,r=this.term,n=this.sortDirection,o=this.page,i=this.limit,a=new Ze(o,i);return a.setTerm(r),a.addFilter(Ze.equals("warehouseGroupId",t)),a.addAssociation("warehouse.productWarehouses"),a.getAssociation("warehouse.productWarehouses").addFilter(Ze.equals("productId",e)),a.addAssociation("warehouseGroup"),a.addSorting(Ze.sort("priority",n)),a},warehouseColumns:function(){return[{property:"warehouse.name",label:"sw-product.modal-warehouse-group.columnName"},{property:"warehouse.productWarehouses[0].stock",inlineEdit:"number",label:"sw-product.modal-warehouse-group.columnStock",align:"right",sortable:!1},{property:"priority",label:"sw-product.modal-warehouse-group.columnPriority",align:"right",sortable:!1}]}},created:function(){this.createdComponent()},methods:{createdComponent:function(){this.loadWarehouses()},loadWarehouses:function(){var e=this;return Ue(Ye().mark((function t(){var r;return Ye().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.isLoading=!0,t.next=4,e.warehouseRepository.search(e.warehouseCriteria);case 4:r=t.sent,e.createMissingProductWarehouses(r),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.createNotificationError({message:e.$tc("sw-settings-warehouse-group.general.notificationGeneric")});case 11:return t.prev=11,e.isLoading=!1,t.finish(11);case 14:case"end":return t.stop()}}),t,null,[[0,8,11,14]])})))()},createMissingProductWarehouses:function(e){var t=this;e.forEach((function(e){if(e.warehouse.productWarehouses&&e.warehouse.productWarehouses.length>0)return e;var r=t.productWarehouseRepository.create();Object.assign(r,{warehouseId:e.warehouseId,productId:t.productId,productVersionId:t.productVersionId,stock:0}),e.warehouse.productWarehouses.add(r)})),this.warehouses=e},onChangeSearchTerm:function(e){this.term=e,this.page=1,this.loadWarehouses()},onUpdateRecords:function(e){this.createMissingProductWarehouses(e),this.total=e.total,this.limit=e.criteria.limit,this.page=e.criteria.page},upsertProductWarehouse:function(e){var t=this;return Ue(Ye().mark((function r(){var n,o;return Ye().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return(n=e.warehouse.productWarehouses[0]).stock<0&&(n.stock=0),r.next=4,t.productWarehouseRepository.save(n);case 4:return o=r.sent,t.$emit("update-records"),r.abrupt("return",o);case 7:case"end":return r.stop()}}),r)})))()}}});Shopware.License.get("MULTI_INVENTORY-3711815")&&Shopware.Component.override("sw-product-variants-overview",{template:'\n{% block sw_product_variants_overview_data_grid_column_stock %}\n    <template\n        slot="column-stock"\n        slot-scope="{ item, isInlineEdit, compact }"\n    >\n        <template v-if="hasWarehouseGroups(item)">\n            <router-link\n                :to="{ name: \'sw.product.detail.base\', params: { id: item.id } }"\n            >\n                {{ $tc(\'sw-product.variants-overview.inlineText\') }}\n            </router-link>\n        </template>\n\n        <template v-else>\n            \n            {% block sw_product_variants_overview_data_grid_column_stock_inline_edit_field %}\n                <sw-field\n                    v-if="isInlineEdit"\n                    v-model="item.stock"\n                    type="number"\n                    :size="compact ? \'small\' : \'default\'"\n                />\n            {% endblock %}\n\n            \n            {% block sw_product_variants_overview_data_grid_column_stock_preview %}\n                <span v-else>\n                    {{ item.stock }}\n                </span>\n            {% endblock %}\n        </template>\n    </template>\n{% endblock %}\n',computed:{productRepository:function(){var e=this.$super("productRepository"),t=e.search;return e.search=function(r){return r.addAssociation("warehouseGroups"),t.call(e,r)},e}},methods:{hasWarehouseGroups:function(e){return!!(e.extensions.warehouseGroups&&e.extensions.warehouseGroups.length>0)}}});Shopware.License.get("MULTI_INVENTORY-3711815")&&Shopware.Component.override("sw-product-variant-modal",{template:'\n{% block sw_product_variant_modal_body_grid_column_stock %}\n    <template\n        slot="column-stock"\n        slot-scope="{ item, isInlineEdit, compact }"\n    >\n        <template v-if="hasWarehouseGroups(item)">\n            <router-link\n                :to="{ name: \'sw.product.detail.base\', params: { id: item.id } }"\n            >\n                {{ $tc(\'sw-product.variants-overview.inlineText\') }}\n            </router-link>\n        </template>\n\n        <template v-else>\n            \n            {% block sw_product_variant_modal_body_grid_column_stock_inline_edit %}\n                <sw-field\n                    v-if="isInlineEdit"\n                    v-model="item.stock"\n                    type="number"\n                    :size="compact ? \'small\' : \'default\'"\n                />\n            {% endblock %}\n\n            \n            {% block sw_product_variant_modal_body_grid_column_stock_content %}\n                <span v-else>\n                    {{ item.stock }}\n                </span>\n            {% endblock %}\n        </template>\n    </template>\n{% endblock %}\n',computed:{productRepository:function(){var e=this.$super("productRepository"),t=e.search;return e.search=function(r){return r.addAssociation("warehouseGroups"),t.call(e,r)},e}},methods:{hasWarehouseGroups:function(e){return!!(e.extensions.warehouseGroups&&e.extensions.warehouseGroups.length>0)}}});r("ntJe");Shopware.License.get("MULTI_INVENTORY-3711815")&&Shopware.Component.override("sw-product-detail-base",{template:'\n{% block sw_product_detail_deliverability_info_card %}\n    <sw-card\n        v-show="showProductCard(\'deliverability\')"\n        class="sw-product-detail-base__deliverability"\n        position-identifier="sw-product-detail-base-deliverability"\n        :title="$tc(\'sw-product.card.textHeadline\')"\n    >\n\n        \n        {% block sw_product_detail_deliverability_info_form %}\n            <sw-product-deliverability-form :allow-edit="acl.can(\'product.editor\')" />\n        {% endblock %}\n    </sw-card>\n{% endblock %}\n'});var Qe=r("R9Kk"),Xe=r("+Cpp");Shopware.License.get("MULTI_INVENTORY-3711815")&&(Shopware.Locale.extend("de-DE",Qe),Shopware.Locale.extend("en-GB",Xe))},JtUB:function(e,t,r){var n=r("M4Wf");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r("P8hj").default)("25d7b7e2",n,!0,{})},LYKC:function(e,t,r){var n=r("Lvfl");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r("P8hj").default)("1453beaa",n,!0,{})},Lvfl:function(e,t,r){},M4Wf:function(e,t,r){},MAec:function(e){e.exports=JSON.parse('{"sw-privileges":{"permissions":{"warehouse-group":{"label":"Lagerhausgruppen"}}},"sw-settings-warehouse-group":{"general":{"title":"Lagerhausgruppen","subtitle":"Erstelle Gruppen, um Deine Lager auf individuelle Weise zu organisieren.","notificationGeneric":"Ein Fehler ist aufgetreten.","titleDelete":"Lagerhausgruppe löschen"},"list":{"whitespaceTitle":"Noch keine Lagerhausgruppen.","whitespaceSubTitle":"Erstelle Gruppen, um Deine Lager auf individuelle Weise zu organisieren.","actionCreateShort":"Lagerhausgruppe erstellen","actionCreate":"Neue Lagerhausgruppe erstellen","actionDetail":"Bearbeiten","actionDelete":"Löschen","textDeleteConfirm-1":"Durch das Löschen einer Lagerhausgruppe wird ihre Zuordnung zu Produkten aufgehoben. Diese Produkte sind möglicherweise nicht mehr verfügbar.","textDeleteConfirm-2":"Bist Du sicher, dass Du die Lagerhausgruppe ","textDeleteConfirm-3":" löschen möchtest?","buttonCancel":"Abbrechen","buttonDelete":"Löschen","columnName":"Name","columnRule":"Regel","columnPriority":"Priorität"},"detail":{"title":"Lagerhausgruppe","titleCardMain":"Lagerhausgruppen-Informationen","titleCardDelete":"Lagerhausgruppe löschen","buttonCancel":"Abbrechen","buttonSave":"Speichern","buttonDelete":"Lagerhausgruppe löschen","buttonDeleteModal":"Löschen","labelName":"Lagerhausguppen-Name","placeholderName":"Gib einen Gruppen-Namen ein ...","labelPriority":"Priorität","placeholderPriority":"1...","helpTextPriority":"Lagerhausgruppen mit einer höheren Priorität werden bevorzugt, wenn mehr als eine Regel gilt.","labelDescription":"Interne Beschreibung","placeholderDescription":"Gib eine interne Beschreibung ein ...","labelRule":"Zugewiesene Regel","placeholderRule":"Wähle eine Regel aus ...","textDeleteWarehouseWarning":"Die Löschung dieser Lagerhausgruppe kann nicht wieder rückgängig gemacht werden.","titleModalDelete":"Lagerhausgruppe löschen","textDeleteConfirm-1":"Durch das Löschen einer Lagerhausgruppe wird ihre Zuordnung zu Produkten aufgehoben. Diese Produkte sind möglicherweise nicht mehr verfügbar.","textDeleteConfirm-2":"Bist Du sicher, dass Du die Lagerhausgruppe ","textDeleteConfirm-3":" löschen möchtest?","ruleInfoTitle":"Verfügbarkeit verwalten","ruleInfoText":"Verwenden Sie Regeln, um die Verfügbarkeit dieser Lagerhausgruppe individuell zu verwalten. Wenn keine Regel ausgewählt ist, wird Ihre Lagerhausgruppe ignoriert."},"create":{"title":"Neue Lagerhausgruppe"},"warehouseAssignment":{"columnWarehouseName":"Name","columnWarehousePriority":"Priorität","titleCard":"Lagerhäuser zuweisen","buttonAddWarehouses":"Lagerhaus hinzufügen","actionDeleteWarehouse":"Löschen","buttonCancel":"Abbrechen","buttonDelete":"Löschen","titleWhitespace":"Noch keine zugewiesenen Lagerhäuser","textDeleteConfirm-1":"Durch das Aufheben dieser Zuweisung, sind die konfigurierten Bestände nicht mehr in dieser Gruppe verfügbar.","textDeleteConfirm-2":"Bist Du sicher, dass Du die Zuweisung von Lagerhaus ","textDeleteConfirm-3":" aufheben möchtest?","whitespaceButtonAdd":"Lagerhäuser hinzufügen","titleWarehouseSelect":"Lagerhäuser hinzufügen","whitespaceTitleWarehouseSelection":"Keine nicht zugewiesenen Lagerhäuser gefunden","buttonConfirmSelection":"{count} Lagerhäuser hinzufügen","helpTextWarehousePriority":"Lagerhäuser mit höherer Priorität werden bevorzugt, wenn mehr als ein Lager in der Situation ist, eine bestimmte Produktanfrage zu erfüllen."}}}')},P044:function(e,t,r){var n=r("d9kY");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r("P8hj").default)("4bfb9ca2",n,!0,{})},P8hj:function(e,t,r){"use strict";function n(e,t){for(var r=[],n={},o=0;o<t.length;o++){var i=t[o],a=i[0],s={id:e+":"+o,css:i[1],media:i[2],sourceMap:i[3]};n[a]?n[a].parts.push(s):r.push(n[a]={id:a,parts:[s]})}return r}r.r(t),r.d(t,"default",(function(){return f}));var o="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!o)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var i={},a=o&&(document.head||document.getElementsByTagName("head")[0]),s=null,u=0,c=!1,l=function(){},h=null,p="data-vue-ssr-id",d="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function f(e,t,r,o){c=r,h=o||{};var a=n(e,t);return w(a),function(t){for(var r=[],o=0;o<a.length;o++){var s=a[o];(u=i[s.id]).refs--,r.push(u)}t?w(a=n(e,t)):a=[];for(o=0;o<r.length;o++){var u;if(0===(u=r[o]).refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete i[u.id]}}}}function w(e){for(var t=0;t<e.length;t++){var r=e[t],n=i[r.id];if(n){n.refs++;for(var o=0;o<n.parts.length;o++)n.parts[o](r.parts[o]);for(;o<r.parts.length;o++)n.parts.push(m(r.parts[o]));n.parts.length>r.parts.length&&(n.parts.length=r.parts.length)}else{var a=[];for(o=0;o<r.parts.length;o++)a.push(m(r.parts[o]));i[r.id]={id:r.id,refs:1,parts:a}}}}function g(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function m(e){var t,r,n=document.querySelector("style["+p+'~="'+e.id+'"]');if(n){if(c)return l;n.parentNode.removeChild(n)}if(d){var o=u++;n=s||(s=g()),t=b.bind(null,n,o,!1),r=b.bind(null,n,o,!0)}else n=g(),t=x.bind(null,n),r=function(){n.parentNode.removeChild(n)};return t(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap)return;t(e=n)}else r()}}var v,y=(v=[],function(e,t){return v[e]=t,v.filter(Boolean).join("\n")});function b(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function x(e,t){var r=t.css,n=t.media,o=t.sourceMap;if(n&&e.setAttribute("media",n),h.ssrId&&e.setAttribute(p,t.id),o&&(r+="\n/*# sourceURL="+o.sources[0]+" */",r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */"),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}},R9Kk:function(e){e.exports=JSON.parse('{"sw-product":{"card":{"textHeadline":"Lagerbestand & Lieferbarkeit","textLinkModal":"Verfügbarkeit nach Lagern und Lagergruppen anzeigen","textTooltipMultiSelect":"Weise Lagerhausgruppen zu, um Deinen Bestand über mehrere Lagerhäuser individuell zu verwalten.","textProductWarehouseModalDisabled":"Speichere Deine Änderungen, bevor Du weitere Bestandsdetails öffnen kannst."},"modal-warehouse-group":{"textHeadline":"Verfügbarkeit von Lagern und Lagergruppen","textInlineEdit":"Bestand bearbeiten","buttonSave":"Speichern","buttonCancel":"Schließen","columnName":"Name","columnStock":"Bestand","columnPriority":"Priorität","labelTotalStock":"Gesamtbestand: ","navigationLabelStock":"Bestand {totalStock}"},"variants-overview":{"inlineText":"siehe Details"}}}')},U2Kg:function(e,t){Shopware.License.get("MULTI_INVENTORY-3711815")&&Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"settings",key:"warehouse-group",roles:{viewer:{privileges:["warehouse_group:read"],dependencies:["warehouse.viewer","rule.viewer"]},editor:{privileges:["warehouse_group:update"],dependencies:["warehouse.viewer","rule.creator"]},creator:{privileges:["warehouse_group:create"],dependencies:["warehouse.viewer","rule.creator"]},deleter:{privileges:["warehouse_group:delete"]}}})},Y9Ft:function(e,t,r){},YQ3E:function(e){e.exports=JSON.parse('{"sw-privileges":{"permissions":{"warehouse-group":{"label":"Warehouse Groups"}}},"sw-settings-warehouse-group":{"general":{"title":"Warehouse groups","subtitle":"Create groups to organise your warehouses and assign rules to manage warehouse responsibilities for your different business cases.","notificationGeneric":"An error occurred.","titleDelete":"Delete warehouse group"},"list":{"whitespaceTitle":"No warehouse groups yet.","whitespaceSubTitle":"Create groups to organise your warehouses in your own individual way.","actionCreateShort":"Add warehouse group","actionCreate":"Add new warehouse group","actionDetail":"Edit","actionDelete":"Delete","textDeleteConfirm-1":"Deleting a warehouse group removes its assignment to products. These products may no longer be available.","textDeleteConfirm-2":"Are you sure you want to delete the warehouse group ","textDeleteConfirm-3":"?","buttonCancel":"Cancel","buttonDelete":"Delete","columnName":"Name","columnRule":"Rule","columnPriority":"Priority"},"detail":{"title":"Warehouse group","titleCardMain":"Warehouse group information","titleCardDelete":"Delete warehouse group","buttonCancel":"Cancel","buttonSave":"Save","buttonDelete":"Delete warehouse group","buttonDeleteModal":"Delete","labelName":"Warehouse group name","placeholderName":"Enter a group name...","labelPriority":"Priority","placeholderPriority":"1...","helpTextPriority":"Warehouse groups with a higher priority are given preference if more than one rule applies.","labelDescription":"Internal description","placeholderDescription":"Enter an internal description...","labelRule":"Rule","placeholderRule":"Select a rule...","textDeleteWarehouseWarning":"Deleting this warehouse group will be permanent.","titleModalDelete":"Delete Warehouse group","textDeleteConfirm-1":"Deleting a warehouse group removes its assignment to products. These products may no longer be available.","textDeleteConfirm-2":"Are you sure you want to delete the warehouse group ","textDeleteConfirm-3":"?","ruleInfoTitle":"Manage availability","ruleInfoText":"Use rules to manage the availability of this Warehouse group individually. If no rule is selected, your warehouse group will be ignored."},"create":{"title":"New warehouse group"},"warehouseAssignment":{"columnWarehouseName":"Name","columnWarehousePriority":"Priority","titleCard":"Warehouse assignments","buttonAddWarehouses":"Add warehouses","actionDeleteWarehouse":"Delete","buttonCancel":"Cancel","buttonDelete":"Delete","titleWhitespace":"No assigned warehouses yet","textDeleteConfirm-1":"Removing an assigned warehouse will make the configured stocks unavailable to this group.","textDeleteConfirm-2":"Are you sure you want to remove the assigned warehouse ","textDeleteConfirm-3":"?","whitespaceButtonAdd":"Add warehouses","titleWarehouseSelect":"Add warehouses","whitespaceTitleWarehouseSelection":"No unassigned warehouses found.","buttonConfirmSelection":"Add {count} warehouses","helpTextWarehousePriority":"Warehouses with a higher priority are given preference if more than one warehouse is in a position to fulfill a certain product request."}}}')},ZjV5:function(e,t,r){var n=r("Y9Ft");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r("P8hj").default)("34338399",n,!0,{})},d9kY:function(e,t,r){},kpHl:function(e,t,r){var n=r("Fq9Z");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r("P8hj").default)("5b223e0e",n,!0,{})},mhV4:function(e){e.exports=JSON.parse('{"sw-privileges":{"permissions":{"warehouse":{"label":"Warehouses"}}},"sw-settings-warehouse":{"general":{"title":"Warehouses","subtitle":"Create warehouses to manage your available stocks.","notificationGeneric":"An error occurred."},"list":{"columnName":"Name","columnWarehouseGroups":"Warehouse groups","actionDetail":"Edit","actionDelete":"Delete","actionCreate":"Add new warehouse","actionCreateShort":"Add warehouse","textDeleteConfirm-1":"Deleting a warehouse removes all associated stocks.","textDeleteConfirm-2":"Are you sure you want to delete the warehouse ","textDeleteConfirm-3":"?","buttonCancel":"Cancel","buttonDelete":"Delete","whitespaceTitle":"No warehouses yet.","whitespaceSubTitle":"Create warehouses to manage your available stocks.","warehouseMessages":{"noRuleAssignedMessageTitle":"Warehouse groups are not functional","noRuleAssignedMessage":"The configuration of some Warehouse groups is ignored because no rule is assigned. Without a rule, your Warehouse group has no responsibility and is not functional.<br>Assign a rule or create a new rule via the Rule Builder to give your groups responsibility.<br>Affected Warehouse groups: {warehouseGroups}"}},"detail":{"title":"Warehouse","titleCardMain":"Warehouse information","titleCardDelete":"Delete warehouse","textDeleteWarehouseWarning":"Deleting this warehouse will be permanent.","buttonSave":"Save","buttonDelete":"Delete warehouse","buttonCancel":"Cancel","buttonDeleteModal":"Delete","titleModalDelete":"Delete warehouse","textDeleteConfirm-1":"Deleting a warehouse removes all associated stocks.","textDeleteConfirm-2":"Are you sure you want to delete the warehouse ","textDeleteConfirm-3":"?","labelName":"Warehouse name","placeholderName":"Enter a warehouse name...","labelDescription":"Internal description","placeholderDescription":"Enter an internal description...","labelGroups":"Warehouse groups","placeholderGroups":"Select warehouse groups...","helpTextGroups":"Use groups to organise your warehouses and assign rules to manage warehouse responsibilities for your different business cases."},"create":{"title":"New warehouse"}}}')},ntJe:function(e,t){Shopware.License.get("MULTI_INVENTORY-3711815")&&Shopware.Component.override("sw-product-detail",{computed:{productCriteria:function(){var e=this.$super("productCriteria");return e.addAssociation("warehouses"),e.addAssociation("warehouseGroups"),e.getAssociation("warehouseGroups").addAssociation("warehouses"),e.addIncludes({warehouseGroups:["id","name"],warehouse:["id"]}),e}}})},ojaT:function(e,t,r){var n=r("4v+g");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r("P8hj").default)("6b2fea1a",n,!0,{})},qdl3:function(e,t,r){},rokj:function(e,t,r){},t9Rd:function(e,t,r){var n=r("zxUq");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r("P8hj").default)("1c42e1b8",n,!0,{})},tqps:function(e,t,r){var n=r("rokj");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r("P8hj").default)("41b0b4ce",n,!0,{})},wM0E:function(e,t,r){var n=r("7QJb");n.__esModule&&(n=n.default),"string"==typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);(0,r("P8hj").default)("52e2c8ac",n,!0,{})},zxUq:function(e,t,r){}});
//# sourceMappingURL=multi-warehouse.js.map