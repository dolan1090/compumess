"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["checkout-sweetener"],{2064:(e,r,t)=>{var i,s,n,o=t(3206),l=t(4690),a=t(8254),d=t(6285);class h extends d.Z{init(){if(!this.options.endpoint)throw new Error("The endpoint option is required");if(!this.options.orderId)throw new Error("The orderId option is required");this._client=new a.Z,this._showLoader(),this._client.post(this.options.endpoint,JSON.stringify({orderId:this.options.orderId}),((e,r)=>{if(r.status>=400)return void this._dismissLoader();const t=JSON.parse(e).text;this._replaceWithSweetener(t),this._dismissLoader(),this._showSweetenerDisclaimer()}))}_replaceWithSweetener(e){o.Z.querySelector(this.el,".finish-sweetener-text").innerHTML=e}_showSweetenerDisclaimer(){var e,r;null===(e=o.Z.querySelector(this.el,".finish-sweetener-disclaimer",!1))||void 0===e||null===(r=e.classList)||void 0===r||r.remove("d-none")}_showLoader(){this.el.classList.add("has--loader"),l.Z.create(this.el)}_dismissLoader(){l.Z.remove(this.el),this.el.classList.remove("has--loader")}}i=h,n={endpoint:null,orderId:null},(s=function(e){var r=function(e,r){if("object"!=typeof e||null===e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var i=t.call(e,r||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===r?String:Number)(e)}(e,"string");return"symbol"==typeof r?r:String(r)}(s="options"))in i?Object.defineProperty(i,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[s]=n,window.PluginManager.register("CheckoutSweetener",h,"[data-checkout-sweetener]")}},e=>{e.O(0,["vendor-node","vendor-shared"],(()=>{return r=2064,e(e.s=r);var r}));e.O()}]);