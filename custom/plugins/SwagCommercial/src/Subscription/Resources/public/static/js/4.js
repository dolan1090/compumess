(this.webpackJsonpPluginsubscription=this.webpackJsonpPluginsubscription||[]).push([[4],{"GOr+":function(e,t,n){"use strict";n.r(t);n("L2o/");function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return function(e){if(Array.isArray(e))return r(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,s)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){l(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t,n){return(t=function(e){var t=function(e,t){if("object"!==s(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var i=n.call(e,t||"default");if("object"!==s(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===s(t)?t:String(t)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var c=Shopware.Component.getComponentHelper().mapState;t.default=Shopware.Component.wrapComponentConfig({template:'<sw-modal\n    :title="$tc(\'commercial.subscriptions.settings.interval.advancedSettings\')"\n    class="sw-settings-subscription-interval-advanced-settings-modal"\n    @modal-close="closeModal"\n>\n    <sw-container\n        columns="4fr 1fr"\n        gap="0px 30px"\n        class="sw-settings-subscription-dateinterval-form"\n    >\n        <sw-number-field\n            v-model="frequency"\n            class="sw-settings-subscription-interval-advanced-settings-modal__frequency"\n            :min="1"\n            :step="1"\n            number-type="int"\n            :label="$tc(\'commercial.subscriptions.settings.interval.frequencyLabel\')"\n            :placeholder="$tc(\'commercial.subscriptions.settings.interval.frequencyPlaceholder\')"\n\t\t\t:disabled="!acl.can(\'plans_and_intervals.editor\')"\n        />\n        <sw-single-select\n            v-model="unit"\n            class="sw-settings-subscription-interval-advanced-settings-modal__unit"\n            :options="dateIntervalOptions"\n            :disabled="!acl.can(\'plans_and_intervals.editor\')"\n        />\n    </sw-container>\n\n    <sw-multi-select\n        v-model="daysOfWeek"\n        class="sw-settings-subscription-interval-advanced-settings-modal__days-of-week"\n        :disabled="isDaysOfWeekDisabled"\n        :options="daysOfWeekOptions"\n        :label="$tc(\'commercial.subscriptions.settings.interval.cronOptions.daysOfWeek.label\')"\n        :placeholder="$tc(\'commercial.subscriptions.settings.interval.cronOptions.daysOfWeek.placeholder\')"\n        @select-expanded="onMultiSelectExpanded"\n        @select-collapsed="onMultiSelectCollapsed"\n        @change="onMultiSelectChanged"\n    >\n        <template v-if="isDaysOfWeekDisabled" #hint>\n            <span class="sw-settings-subscription-interval-advanced-settings-modal__disabled-hint">\n                <sw-icon name="solid-clock" size="12" />\n                {{ $tc(\'commercial.subscriptions.settings.interval.advancedSettingsExclusiveSelections\') }}\n            </span>\n        </template>\n    </sw-multi-select>\n\n    <sw-multi-select\n        v-model="daysOfMonth"\n        class="sw-settings-subscription-interval-advanced-settings-modal__days-of-month"\n        :disabled="isDaysOfMonthDisabled"\n        :options="daysOfMonthOptions"\n        :label="$tc(\'commercial.subscriptions.settings.interval.cronOptions.daysOfMonth.label\')"\n        :placeholder="$tc(\'commercial.subscriptions.settings.interval.cronOptions.daysOfMonth.placeholder\')"\n        @select-expanded="onMultiSelectExpanded"\n        @select-collapsed="onMultiSelectCollapsed"\n        @change="onMultiSelectChanged"\n    >\n        <template v-if="isDaysOfMonthDisabled" #hint>\n            <span class="sw-settings-subscription-interval-advanced-settings-modal__disabled-hint">\n                <sw-icon name="solid-clock" size="12" />\n                {{ $tc(\'commercial.subscriptions.settings.interval.advancedSettingsExclusiveSelections\') }}\n            </span>\n        </template>\n    </sw-multi-select>\n\n    <sw-multi-select\n        v-model="monthsOfYear"\n        class="sw-settings-subscription-interval-advanced-settings-modal__months-of-year"\n        :options="monthsOfYearOptions"\n        :label="$tc(\'commercial.subscriptions.settings.interval.cronOptions.monthsOfYear.label\')"\n        :placeholder="$tc(\'commercial.subscriptions.settings.interval.cronOptions.monthsOfYear.placeholder\')"\n        @select-expanded="onMultiSelectExpanded"\n        @select-collapsed="onMultiSelectCollapsed"\n        @change="onMultiSelectChanged"\n        :disabled="!acl.can(\'plans_and_intervals.editor\')"\n    />\n\n    <sw-settings-subscription-interval-preview-banner\n        v-if="showPreviewBanner"\n        :frequency="frequency"\n        :frequency-unit="unit"\n        :cron-interval="previewCronInterval"\n    />\n\n    <template #modal-footer>\n        <sw-button\n            class="sw-settings-subscription-interval-advanced-settings-modal__cancel-btn"\n            @click="closeModal"\n        >\n            {{ $tc(\'global.default.cancel\') }}\n        </sw-button>\n        <sw-button\n            class="sw-settings-subscription-interval-advanced-settings-modal__save-btn"\n            variant="primary"\n            @click="onSave"\n            :disabled="!acl.can(\'plans_and_intervals.editor\')"\n        >\n            {{ $tc(\'global.default.save\') }}\n        </sw-button>\n    </template>\n</sw-modal>\n',inject:["acl"],data:function(){return{daysOfMonth:[],monthsOfYear:[],daysOfWeek:[],frequency:1,unit:"M",previewCronInterval:"* * * * *",showPreviewBanner:!1,multiSelectExpanded:!1}},props:{dateIntervalOptions:{required:!0,type:Array}},computed:o(o({},c("swSubscriptionInterval",["interval","dateInterval","cronInterval"])),{},{daysOfMonthOptions:function(){return i(Array(31).keys()).map((function(e){return{label:String(e+1),value:String(e+1)}}))},monthsOfYearOptions:function(){return[{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.monthsOfYear.january"),value:"1"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.monthsOfYear.february"),value:"2"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.monthsOfYear.march"),value:"3"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.monthsOfYear.april"),value:"4"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.monthsOfYear.may"),value:"5"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.monthsOfYear.june"),value:"6"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.monthsOfYear.july"),value:"7"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.monthsOfYear.august"),value:"8"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.monthsOfYear.september"),value:"9"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.monthsOfYear.october"),value:"10"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.monthsOfYear.november"),value:"11"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.monthsOfYear.december"),value:"12"}]},daysOfWeekOptions:function(){return[{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.daysOfWeek.sunday"),value:"0"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.daysOfWeek.monday"),value:"1"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.daysOfWeek.tuesday"),value:"2"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.daysOfWeek.wednesday"),value:"3"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.daysOfWeek.thursday"),value:"4"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.daysOfWeek.friday"),value:"5"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.daysOfWeek.saturday"),value:"6"},{label:this.$tc("commercial.subscriptions.settings.interval.cronOptions.daysOfWeek.sunday"),value:"7"}]},isDaysOfWeekDisabled:function(){return this.daysOfMonth.length>0&&0===this.daysOfWeek.length||!this.acl.can("plans_and_intervals.editor")},isDaysOfMonthDisabled:function(){return this.daysOfWeek.length>0&&0===this.daysOfMonth.length||!this.acl.can("plans_and_intervals.editor")}}),mounted:function(){this.daysOfMonth=this.cronInterval.daysOfMonth,this.daysOfWeek=this.cronInterval.daysOfWeek,this.monthsOfYear=this.cronInterval.monthsOfYear,this.frequency=this.dateInterval.frequency,this.unit=this.dateInterval.unit,this.previewCronInterval=this.buildCronIntervalString(),this.showPreviewBanner=!0},methods:{closeModal:function(){this.$emit("modal-close")},buildCronIntervalString:function(){var e=0===this.daysOfMonth.length?"*":this.daysOfMonth.join(","),t=0===this.monthsOfYear.length?"*":this.monthsOfYear.join(","),n=0===this.daysOfWeek.length?"*":this.daysOfWeek.join(",");return"* * ".concat(e," ").concat(t," ").concat(n)},onSave:function(){var e=this.interval;e.cronInterval=this.buildCronIntervalString(),e.dateInterval="P".concat(this.frequency).concat(this.unit),Shopware.State.commit("swSubscriptionInterval/setInterval",e);var t={daysOfMonth:this.daysOfMonth,monthsOfYear:this.monthsOfYear,daysOfWeek:this.daysOfWeek};Shopware.State.commit("swSubscriptionInterval/setCronInterval",t);var n={frequency:this.frequency,unit:this.unit};Shopware.State.commit("swSubscriptionInterval/setDateInterval",n),this.$emit("modal-close")},onMultiSelectExpanded:function(){this.multiSelectExpanded=!0},onMultiSelectCollapsed:function(){this.multiSelectExpanded=!1,this.previewCronInterval=this.buildCronIntervalString()},onMultiSelectChanged:function(){this.multiSelectExpanded||(this.previewCronInterval=this.buildCronIntervalString())}}})},"KF/c":function(e,t,n){},"L2o/":function(e,t,n){var s=n("KF/c");s.__esModule&&(s=s.default),"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);(0,n("P8hj").default)("1aad282c",s,!0,{})},P8hj:function(e,t,n){"use strict";function s(e,t){for(var n=[],s={},i=0;i<t.length;i++){var r=t[i],a=r[0],o={id:e+":"+i,css:r[1],media:r[2],sourceMap:r[3]};s[a]?s[a].parts.push(o):n.push(s[a]={id:a,parts:[o]})}return n}n.r(t),n.d(t,"default",(function(){return m}));var i="undefined"!=typeof document;if("undefined"!=typeof DEBUG&&DEBUG&&!i)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var r={},a=i&&(document.head||document.getElementsByTagName("head")[0]),o=null,l=0,c=!1,u=function(){},d=null,p="data-vue-ssr-id",f="undefined"!=typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function m(e,t,n,i){c=n,d=i||{};var a=s(e,t);return h(a),function(t){for(var n=[],i=0;i<a.length;i++){var o=a[i];(l=r[o.id]).refs--,n.push(l)}t?h(a=s(e,t)):a=[];for(i=0;i<n.length;i++){var l;if(0===(l=n[i]).refs){for(var c=0;c<l.parts.length;c++)l.parts[c]();delete r[l.id]}}}}function h(e){for(var t=0;t<e.length;t++){var n=e[t],s=r[n.id];if(s){s.refs++;for(var i=0;i<s.parts.length;i++)s.parts[i](n.parts[i]);for(;i<n.parts.length;i++)s.parts.push(b(n.parts[i]));s.parts.length>n.parts.length&&(s.parts.length=n.parts.length)}else{var a=[];for(i=0;i<n.parts.length;i++)a.push(b(n.parts[i]));r[n.id]={id:n.id,refs:1,parts:a}}}}function v(){var e=document.createElement("style");return e.type="text/css",a.appendChild(e),e}function b(e){var t,n,s=document.querySelector("style["+p+'~="'+e.id+'"]');if(s){if(c)return u;s.parentNode.removeChild(s)}if(f){var i=l++;s=o||(o=v()),t=O.bind(null,s,i,!1),n=O.bind(null,s,i,!0)}else s=v(),t=w.bind(null,s),n=function(){s.parentNode.removeChild(s)};return t(e),function(s){if(s){if(s.css===e.css&&s.media===e.media&&s.sourceMap===e.sourceMap)return;t(e=s)}else n()}}var y,g=(y=[],function(e,t){return y[e]=t,y.filter(Boolean).join("\n")});function O(e,t,n,s){var i=n?"":s.css;if(e.styleSheet)e.styleSheet.cssText=g(t,i);else{var r=document.createTextNode(i),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(r,a[t]):e.appendChild(r)}}function w(e,t){var n=t.css,s=t.media,i=t.sourceMap;if(s&&e.setAttribute("media",s),d.ssrId&&e.setAttribute(p,t.id),i&&(n+="\n/*# sourceURL="+i.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */"),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}}]);