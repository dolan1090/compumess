<sw-modal
    class="swag-export-assistant-modal"
    variant="full"
    :is-loading="isLoading"
    @modal-close="turnOffModalPreview"
>
    <template #modal-title>
        {{ modalTitle }}
        <sw-ai-copilot-badge />
    </template>

    <div class="swag-export-assistant-modal__content">
        <sw-data-grid
            v-if="!isLoading && (entities && entities.total > 0)"
            class="swag-export-assistant-modal__table"
            :data-source="entities"
            :columns="columns"
            :show-actions="false"
            :show-selection="false"
        >
            <template #column-priceNet="{ item }">
                {{ item.price[0].net }}
            </template>

            <template #column-priceGross="{ item }">
                {{ item.price[0].gross }}
            </template>

        </sw-data-grid>

        <sw-empty-state
            v-if="!isLoading && (!entities || entities.total === 0)"
            :title="$tc('swag-export-assistant.modal.messageEmptyTitle')"
            :subline="emptySubline"
            :absolute="false"
        />
    </div>

    <template #modal-footer>
        <sw-button
            size="small"
            @click="turnOffModalPreview"
        >
            {{ $tc('global.default.cancel') }}
        </sw-button>

        <sw-button
            v-if="entities && entities.total > 0"
            variant="primary"
            size="small"
            @click="onStartExport"
        >
            {{ $tc('swag-export-assistant.modal.buttonStartExport') }}
        </sw-button>
    </template>

    <template #modal-loader>
        <div
            v-if="isLoading"
            class="swag-export-assistant-modal__loader"
        >
            <sw-loader />
            <span class="swag-export-assistant-modal__loader-description">
                {{ $tc('swag-export-assistant.modal.messageLoading') }}
            </span>
        </div>
    </template>
</sw-modal>
