<sw-card
    class="swag-advanced-search-boosting"
    position-identifier="swag-advanced-search-boosting"
    :title="$tc('swag-advanced-search.boostingTab.title')"
    :is-loading="isLoading"
>
    <template #toolbar>
        <sw-container columns="1fr auto" gap="0 15px">
            <sw-simple-search-field
                v-model="searchTerm"
                variant="form"
                size="small"
                :placeholder="$tc('swag-advanced-search.boostingTab.searchPlaceholder')"
                @search-term-change="onChangeSearchTerm"
            />

            <sw-button
                variant="ghost"
                size="small"
                @click="toggleBoostingModal"
            >
                {{ $tc('swag-advanced-search.boostingTab.addBoosting') }}
            </sw-button>
        </sw-container>
    </template>

    <template #grid>
        <sw-entity-listing
            v-if="boostings.length > 0"
            class="swag-advanced-search-boostings-list"
            identifier="swag-advanced-search-boostings-list"
            :repository="boostingRepository"
            :items="boostings"
            :columns="boostingColumns"
            :sort-by="sortBy"
            :sort-direction="sortDirection"
            :is-loading="isLoading"
            :full-page="false"
            @delete-item-finish="getList"
            @items-delete-finish="getList"
            @page-change="onChangePage"
        >
            <template #column-name="{ item }">
                <span class="link link-primary" @click="onEditBoosting(item)">
                    {{ item.name }}
                </span>
            </template>

            <template #column-active="{ item }">
                <sw-data-grid-column-boolean v-model="item.active" />
            </template>

            <template #column-validFrom="{ item }">
                {{ item.validFrom | date({ hour: '2-digit', minute: '2-digit', second: '2-digit' }) }}
            </template>

            <template #column-validTo="{ item }">
                {{ item.validTo | date({ hour: '2-digit', minute: '2-digit', second: '2-digit' }) }}
            </template>

            <template #more-actions="{ item }">
                <sw-context-menu-item
                    class="swag-advanced-search-boostings-list__action-edit"
                    @click="onEditBoosting(item)"
                >
                    {{ $tc('global.default.edit') }}
                </sw-context-menu-item>
            </template>
        </sw-entity-listing>

        <sw-empty-state
            v-else
            :absolute="false"
            :title="$tc('swag-advanced-search.boostingTab.messageEmptyTitle')"
            :subline="$tc('swag-advanced-search.boostingTab.messageEmptySubline')"
        />
    </template>

    <template #footer>
        <swag-advanced-search-boosting-modal
            v-if="showBoostingModal"
            :boosting-id="boostingId"
            @modal-cancel="onCancelBoosting"
            @modal-save-finish="onFinishSaveBoosting"
        />
    </template>
</sw-card>
