"use strict";(self.webpackChunk=self.webpackChunk||[]).push([["advanced-search"],{165:(e,t,r)=>{var i,s,n,a=r(6285);class c extends a.Z{init(){this.$emitter.subscribe(c.options.searchWidgetEventAfterSuggest,this.handleAfterSuggest.bind(this)),this.$emitter.publish(c.options.searchWidgetEventAfterSuggest)}handleAfterSuggest(){const e=this.getSearchTerms(),t=this.getSearchResult();if(!t||!e||!e.length)return;const r=this.getResultItems(t);0!==r.length&&r.forEach((t=>{this.highlightSearchTerm(t,e)}))}highlightSearchTerm(e,t){t.forEach((t=>{const r=this.getRegex(t);e.innerHTML=e.innerHTML.replace(r,"<b>$1</b>")}))}getRegex(e){return new RegExp(`(${{"&":"&amp;","<":"&lt;",">":"&gt;"}[e]||e})`,"gi")}getSearchTerms(){return this.getSearchInput().value.split(" ").filter((e=>""!==e))}getSearchInput(){return this.el.querySelector(c.options.searchWidgetInputFieldSelector)}getSearchResult(){return this.el.querySelector(c.options.searchWidgetResultSelector)}getResultItems(e){return e.querySelectorAll(c.options.searchWidgetResultItemSelector)}}i=c,n={searchWidgetEventAfterSuggest:"afterSuggest",searchWidgetResultSelector:".js-search-result",searchWidgetInputFieldSelector:"input[type=search]",searchWidgetResultItemSelector:".js-search-result .search-suggest-product-name"},(s=function(e){var t=function(e,t){if("object"!=typeof e||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,t||"default");if("object"!=typeof i)return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:String(t)}(s="options"))in i?Object.defineProperty(i,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[s]=n;var g=r(4432);const u=window.PluginManager;g.Z.isActive("ES_MULTILINGUAL_INDEX")&&(g.Z.isActive("v6.6.0.0")?u.register("AdvancedSearchWidgetPlugin",c,"[data-search-widget]"):u.register("AdvancedSearchWidgetPlugin",c,"[data-search-form]"))}},e=>{e.O(0,["vendor-node","vendor-shared"],(()=>{return t=165,e(e.s=t);var t}));e.O()}]);